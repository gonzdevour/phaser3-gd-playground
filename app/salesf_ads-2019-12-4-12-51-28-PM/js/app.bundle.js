!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.app=e():t.app=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=671)}({1:function(t,e,n){var i=n(11),r=n(24),o=n(48),s=n(43),a=n(58),u=function t(e,n,u){var c,h,l,f,d=e&t.F,p=e&t.G,y=e&t.P,v=e&t.B,g=p?i:e&t.S?i[n]||(i[n]={}):(i[n]||{}).prototype,b=p?r:r[n]||(r[n]={}),m=b.prototype||(b.prototype={});for(c in p&&(u=n),u)l=((h=!d&&g&&void 0!==g[c])?g:u)[c],f=v&&h?a(l,i):y&&"function"==typeof l?a(Function.call,l):l,g&&s(g,c,l,e&t.U),b[c]!=l&&o(b,c,f),y&&m[c]!=l&&(m[c]=l)};i.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},100:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},101:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},102:function(t,e){t.exports=!1},103:function(t,e,n){var i=n(362),r=n(220);t.exports=Object.keys||function(t){return i(t,r)}},104:function(t,e,n){var i=n(60),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},105:function(t,e,n){var i=n(13),r=n(363),o=n(220),s=n(219)("IE_PROTO"),a=function(){},u=function(){var t,e=n(217)("iframe"),i=o.length;for(e.style.display="none",n(221).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;i--;)delete u.prototype[o[i]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===e?n:r(n,e)}},106:function(t,e,n){var i=n(362),r=n(220).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},107:function(t,e,n){var i=n(47),r=n(39),o=n(219)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},108:function(t,e,n){var i=n(18)("unscopables"),r=Array.prototype;void 0==r[i]&&n(48)(r,i,{}),t.exports=function(t){r[i][t]=!0}},109:function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},11:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},119:function(t,e,n){var i=n(29).f,r=n(47),o=n(18)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},12:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},120:function(t,e,n){var i=n(1),r=n(68),o=n(12),s=n(223),a="["+s+"]",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),h=function(t,e,n){var r={},a=o(function(){return!!s[t]()||"​"!="​"[t]()}),u=r[t]=a?e(l):s[t];n&&(r[n]=u),i(i.P+i.F*a,"String",r)},l=h.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},121:function(t,e){t.exports={}},122:function(t,e,n){"use strict";var i=n(11),r=n(29),o=n(28),s=n(18)("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},123:function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},124:function(t,e,n){var i=n(43);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},13:function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},14:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return"object"===n(t)?null!==t:"function"==typeof t}},144:function(t,e,n){var i=n(67);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},145:function(t,e){e.f={}.propertyIsEnumerable},146:function(t,e,n){var i=n(67),r=n(18)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},147:function(t,e,n){var i=n(13),r=n(59),o=n(18)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[o])?e:r(n)}},167:function(t,e,n){var i=n(24),r=n(11),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(102)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},168:function(t,e,n){var i=n(49),r=n(22),o=n(104);t.exports=function(t){return function(e,n,s){var a,u=i(e),c=r(u.length),h=o(s,c);if(t&&n!=n){for(;c>h;)if((a=u[h++])!=a)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}}},169:function(t,e){e.f=Object.getOwnPropertySymbols},170:function(t,e,n){var i=n(67);t.exports=Array.isArray||function(t){return"Array"==i(t)}},171:function(t,e,n){var i=n(18)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},172:function(t,e,n){"use strict";var i=n(13);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},173:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(146),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var s=n.call(t,e);if("object"!==i(s))throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},174:function(t,e,n){"use strict";n(380);var i=n(43),r=n(48),o=n(12),s=n(68),a=n(18),u=n(238),c=a("species"),h=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),l=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=a(t),d=!o(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),p=d?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!e}):void 0;if(!d||!p||"replace"===t&&!h||"split"===t&&!l){var y=/./[f],v=n(s,f,""[t],function(t,e,n,i,r){return e.exec===u?d&&!r?{done:!0,value:y.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),g=v[0],b=v[1];i(String.prototype,t,g),r(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},175:function(t,e,n){var i=n(58),r=n(375),o=n(233),s=n(13),a=n(22),u=n(235),c={},h={};(e=t.exports=function(t,e,n,l,f){var d,p,y,v,g=f?function(){return t}:u(t),b=i(n,l,e?2:1),m=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(d=a(t.length);d>m;m++)if((v=e?b(s(p=t[m])[0],p[1]):b(t[m]))===c||v===h)return v}else for(y=g.call(t);!(p=y.next()).done;)if((v=r(y,b,p.value,e))===c||v===h)return v}).BREAK=c,e.RETURN=h},176:function(t,e,n){var i=n(11).navigator;t.exports=i&&i.userAgent||""},177:function(t,e,n){"use strict";var i=n(11),r=n(1),o=n(43),s=n(124),a=n(89),u=n(175),c=n(123),h=n(14),l=n(12),f=n(171),d=n(119),p=n(224);t.exports=function(t,e,n,y,v,g){var b=i[t],m=b,x=v?"set":"add",w=m&&m.prototype,O={},k=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(g&&!h(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!h(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof m&&(g||w.forEach&&!l(function(){(new m).entries().next()}))){var S=new m,P=S[x](g?{}:-0,1)!=S,C=l(function(){S.has(1)}),T=f(function(t){new m(t)}),_=!g&&l(function(){for(var t=new m,e=5;e--;)t[x](e,e);return!t.has(-0)});T||((m=e(function(e,n){c(e,m,t);var i=p(new b,e,m);return void 0!=n&&u(n,v,i[x],i),i})).prototype=w,w.constructor=m),(C||_)&&(k("delete"),k("has"),v&&k("get")),(_||P)&&k(x),g&&w.clear&&delete w.clear}else m=y.getConstructor(e,t,v,x),s(m.prototype,n),a.NEED=!0;return d(m,t),O[t]=m,r(r.G+r.W+r.F*(m!=b),O),g||y.setStrong(m,t,v),m}},178:function(t,e,n){for(var i,r=n(11),o=n(48),s=n(101),a=s("typed_array"),u=s("view"),c=!(!r.ArrayBuffer||!r.DataView),h=c,l=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(i=r[f[l++]])?(o(i.prototype,a,!0),o(i.prototype,u,!0)):h=!1;t.exports={ABV:c,CONSTR:h,TYPED:a,VIEW:u}},1793:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e}var e,n,r;return e=t,r=[{key:"register",value:function(e,n){t.prototype[e]=n}}],(n=null)&&i(e.prototype,n),r&&i(e,r),t}();function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=Phaser.Utils.Objects.GetValue,a=function(){function t(e,n,i,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cornerRadius={},this._width=0,this._height=0,this.setTo(e,n,i,r,o)}var e,n,i;return e=t,(n=[{key:"setTo",value:function(t,e,n,i,r){return this.setPosition(t,e),this.setRadius(r),this.setSize(n,i),this}},{key:"setPosition",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}},{key:"setRadius",value:function(t){var e,n;void 0===t&&(t=0),"number"==typeof t?(e=t,n=t):(e=s(t,"x",0),n=s(t,"y",0));var i=this.cornerRadius;return i.tl=u(s(t,"tl",void 0),e,n),i.tr=u(s(t,"tr",void 0),e,n),i.bl=u(s(t,"bl",void 0),e,n),i.br=u(s(t,"br",void 0),e,n),this}},{key:"setSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"minWidth",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}},{key:"minHeight",get:function(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}},{key:"width",get:function(){return this._width},set:function(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}},{key:"height",get:function(){return this._height},set:function(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}},{key:"radius",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}}])&&o(e.prototype,n),i&&o(e,i),t}(),u=function(t,e,n){return void 0===t?{x:e,y:n}:"number"==typeof t?{x:t,y:t}:t},c=a,h=function(t,e,n){var i=n.length;if(i>=2){var r=n[i-2],o=n[i-1];if(t===r&&e===o)return n}return n.push(t,e),n},l=n(359),f=n.n(l),d=Phaser.Utils.Objects.GetValue,p=function(t,e,n,i,r,o,s,a){var u,c,l,p=d(n,"x",n),y=d(n,"y",n);o&&(r+=360),i=f()(i);for(var v=((r=f()(r))-i)/s,g=0;g<=s;g++)l=i+v*g,u=t+p*Math.cos(l),c=e+y*Math.sin(l),h(u,c,a);return a},v=n(666),g=n.n(v),b=n(667),m=n.n(b),w=n(668),O=n.n(w),k=function(){},S={renderWebGL:m.a,renderCanvas:O.a};function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function T(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=Phaser.Utils.Objects.GetValue,M=function(t){function e(t,n,i,r,o,s,a,u){var h;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n=0),void 0===i&&(i=0);var l=j(s,"iteration",void 0);s=j(s,"radius",s);var f=new c(0,0,r,o,s);return(h=T(this,_(e).call(this,t,"RoundRectangle",f))).setIteration(l),h.setPosition(n,i),void 0!==a&&h.setFillStyle(a,u),h.updateDisplayOrigin(),h.updateData(),h}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(e,Phaser.GameObjects.Shape),n=e,(i=[{key:"updateData",value:function(){var t=this.geom,e=this.pathData;e.length=0;var n,i=t.cornerRadius,r=this.iteration+1;if(n=i.br,R(n)){var o=t.width-n.x,s=t.height-n.y;p(o,s,n,0,90,!1,r,e)}else h(t.width,t.height,e);if(n=i.bl,R(n)){o=n.x,s=t.height-n.y;p(o,s,n,90,180,!1,r,e)}else h(0,t.height,e);if(n=i.tl,R(n)){o=n.x,s=n.y;p(o,s,n,180,270,!1,r,e)}else h(0,0,e);if(n=i.tr,R(n)){o=t.width-n.x,s=n.y;p(o,s,n,270,360,!1,r,e)}else h(t.width,0,e);return e.push(e[0],e[1]),this.pathIndexes=g()(e),this}},{key:"resize",value:function(t,e){if(void 0===e&&(e=t),this.geom.width===t&&this.geom.height===e)return this;this.geom.height=e,this.geom.width=t,this.updateDisplayOrigin(),this.updateData();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=t,n.hitArea.height=e),this}},{key:"setIteration",value:function(t){return void 0===t&&(t=6),this.iteration=t,this}},{key:"setRadius",value:function(t){return void 0===t&&(t=0),this.radius=t,this}},{key:"setCornerRadius",value:function(t){return this.setRadius(t)}},{key:"width",get:function(){return this.geom.width},set:function(t){this.resize(t,this.height)}},{key:"height",get:function(){return this.geom.height},set:function(t){this.resize(this.width,t)}},{key:"iteration",get:function(){return this._iteration},set:function(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.updateData()):this._iteration=t}},{key:"radius",get:function(){return this.geom.radius},set:function(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.updateData()}},{key:"cornerRadius",get:function(){return this.geom.cornerRadius},set:function(t){this.radius=t}}])&&C(n.prototype,i),r&&C(n,r),e}(),R=function(t){return 0!==t.x&&0!==t.y};Object.assign(M.prototype,S);var I=M;function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var L=function(t){return null==t||""===t||0===t.length},A=function(t,e,n){if("object"===D(t))if(L(e)){if(null==n)return;"object"===D(n)&&(t=n)}else{"string"==typeof e&&(e=e.split("."));var i=e.pop();((function(t,e,n){void 0===n&&(n={});var i=t;if(L(e));else{var r;"string"==typeof e&&(e=e.split("."));for(var o=0,s=e.length;o<s;o++){var a;null!=i[r=e[o]]&&"object"===D(i[r])||(a=o===s-1?n:{},i[r]=a),i=i[r]}}return i})(t,e))[i]=n}};r.register("roundRectangle",function(t,e,n,i,r,o,s){var a=new I(this.scene,t,e,n,i,r,o,s);return this.scene.add.existing(a),a}),A(window,"RexPlugins.UI.RoundRectangle",I);var F=n(669),z=n.n(F),B=n(670),Y=n.n(B),N={renderWebGL:z.a,renderCanvas:Y.a},W=Phaser.Display.Canvas.CanvasPool,H=function(t){var e=W.create(this),n=e.getContext("2d");t.syncFont(e,n);var i=Math.ceil(n.measureText(t.testString).width*t.baselineX),r=i,o=2*r;r=r*t.baselineY|0,e.width=i,e.height=o,n.fillStyle="#f00",n.fillRect(0,0,i,o),n.font=t._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(t.testString,0,r);var s={ascent:0,descent:0,fontSize:0};if(!n.getImageData(0,0,i,o))return s.ascent=r,s.descent=r+6,s.fontSize=s.ascent+s.descent,W.remove(e),s;var a,u,c=n.getImageData(0,0,i,o).data,h=c.length,l=4*i,f=0,d=!1;for(a=0;a<r;a++){for(u=0;u<l;u+=4)if(255!==c[f+u]){d=!0;break}if(d)break;f+=l}for(s.ascent=r-a,f=h-l,d=!1,a=o;a>r;a--){for(u=0;u<l;u+=4)if(255!==c[f+u]){d=!0;break}if(d)break;f-=l}return s.descent=a-r,s.fontSize=s.ascent+s.descent,W.remove(e),s},V={hleft:0,hcenter:1,hright:2,vtop:0,vcenter:1,vbottom:2,NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/};function G(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var U=Phaser.Utils.Objects.GetAdvancedValue,X=Phaser.Utils.Objects.GetValue,J={backgroundColor:["backgroundColor",null],fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],underlineColor:["underline.color","#000"],underlineThickness:["underline.thickness",0],underlineOffset:["underline.offset",0],halign:["halign",0],valign:["valign",0],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],lineSpacing:["lineSpacing",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wrapMode:["wrap.mode",1],wrapWidth:["wrap.width",0]},Z=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.backgroundColor,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(n,!1);var i=X(n,"metrics",!1);this.metrics=i?{ascent:X(i,"ascent",0),descent:X(i,"descent",0),fontSize:X(i,"fontSize",0)}:H(this)}var e,n,i;return e=t,(n=[{key:"setStyle",value:function(t,e){if(void 0===e&&(e=!0),t&&t.hasOwnProperty("halign")&&"string"==typeof t.halign&&(t.halign=K[t.halign.toLowerCase()]||0),t&&t.hasOwnProperty("valign")&&"string"==typeof t.valign&&(t.valign=q[t.valign.toLowerCase()]||0),t&&t.hasOwnProperty("wrap")){var n=t.wrap;if(n.hasOwnProperty("mode")){var i=n.mode;"string"==typeof i&&(n.mode=$[i])}else n.hasOwnProperty("width")&&(n.mode=1)}for(var r in t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),J)this[r]="wrapCallback"===r||"wrapCallbackScope"===r?X(t,J[r][0],J[r][1]):U(t,J[r][0],J[r][1]);var o=X(t,"font",null);this._font=null===o?this.fontStyle+" "+this.fontSize+" "+this.fontFamily:o;var s=X(t,"fill",null);return null!==s&&(this.color=s),e?this.update(!0):this.parent}},{key:"syncFont",value:function(t,e){e.font=this._font}},{key:"syncStyle",value:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"}},{key:"syncShadow",value:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}},{key:"update",value:function(t){return t&&(this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily,this.metrics=H(this)),this.parent.updateText(t)}},{key:"buildFont",value:function(){var t=this.fontStyle+" "+this.fontSize+" "+this.fontFamily;return t!==this._font&&(this._font=t),this}},{key:"setFont",value:function(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=X(t,"fontFamily","Courier"),this.fontSize=X(t,"fontSize","16px"),this.fontStyle=X(t,"fontStyle","")),this.update(!0)}},{key:"setFontFamily",value:function(t){return this.fontFamily=t,this.update(!0)}},{key:"setFontStyle",value:function(t){return this.fontStyle=t,this.update(!0)}},{key:"setFontSize",value:function(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}},{key:"setTestString",value:function(t){return this.testString=t,this.update(!0)}},{key:"setFixedSize",value:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)}},{key:"setResolution",value:function(t){return this.resolution=t,this.update(!1)}},{key:"setLineSpacing",value:function(t){return this.lineSpacing=t,this.update(!1)}},{key:"setBackgroundColor",value:function(t){return this.backgroundColor=t,this.update(!1)}},{key:"setFill",value:function(t){return this.color=t,this.update(!1)}},{key:"setColor",value:function(t){return this.color=t,this.update(!1)}},{key:"setStroke",value:function(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)}},{key:"setShadow",value:function(t,e,n,i,r,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n="#000"),void 0===i&&(i=0),void 0===r&&(r=!1),void 0===o&&(o=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=n,this.shadowBlur=i,this.shadowStroke=r,this.shadowFill=o,this.update(!1)}},{key:"setShadowOffset",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)}},{key:"setShadowColor",value:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)}},{key:"setShadowBlur",value:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)}},{key:"setShadowStroke",value:function(t){return this.shadowStroke=t,this.update(!1)}},{key:"setShadowFill",value:function(t){return this.shadowFill=t,this.update(!1)}},{key:"setUnderline",value:function(t,e,n){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===n&&(n=0),this.underlineColor=t,this.underlineThickness=e,this.underlineOffset=n,this.update(!1)}},{key:"setUnderlineColor",value:function(t){return void 0===t&&(t="#000"),this.underlineColor=t,this.update(!1)}},{key:"setUnderlineThickness",value:function(t){return void 0===t&&(t=0),this.underlineThickness=t,this.update(!1)}},{key:"setUnderlineOffset",value:function(t){return void 0===t&&(t=0),this.underlineOffset=t,this.update(!1)}},{key:"setWrapMode",value:function(t){return"string"==typeof t&&(t=$[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}},{key:"setWrapWidth",value:function(t){return this.wrapWidth=t,this.update(!1)}},{key:"setAlign",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),"string"==typeof t&&(t=K[t.toLowerCase()]||0),"string"==typeof e&&(e=K[e.toLowerCase()]||0),this.halign=t,this.valign=e,this.update(!1)}},{key:"setHAlign",value:function(t){return void 0===t&&(t=0),"string"==typeof t&&(t=K[t.toLowerCase()]||0),this.halign=t,this.update(!1)}},{key:"setVAlign",value:function(t){return void 0===t&&(t=0),"string"==typeof t&&(t=K[t.toLowerCase()]||0),this.valign=t,this.update(!1)}},{key:"setMaxLines",value:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)}},{key:"getTextMetrics",value:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}},{key:"toJSON",value:function(){var t={};for(var e in J)t[e]=this[e];return t.metrics=this.getTextMetrics(),t}},{key:"destroy",value:function(){this.parent=void 0}},{key:"lineHeight",get:function(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}}])&&G(e.prototype,n),i&&G(e,i),t}(),K={left:V.hleft,center:V.hcenter,right:V.hright},q={top:V.vtop,center:V.vcenter,bottom:V.vbottom},$={none:V.NO_WRAP,word:V.WORD_WRAP,char:V.CHAR_WRAP,character:V.CHAR_WRAP},Q=Z,tt=V.hcenter,et=V.hright,nt=V.vcenter,it=V.vbottom,rt={draw:function(t,e,n,i){var r=this.penManager;this.hitAreaManager.clear();var o=this.context;o.save(),this.drawBackground(this.defatultStyle.backgroundColor);var s=this.defatultStyle;t+=this.startXOffset,e+=this.startYOffset;var a,u,c,h,l,f,d=s.halign,p=s.valign,y=s.lineHeight,v=r.lines,g=v.length,b=s.maxLines;b>0&&g>b?(u=b,c=p===nt?Math.floor((g-u)/2):p===it?g-u:0):(u=g,c=0),h=c+u,f=p===nt?Math.max((i-u*y)/2,0):p===it?Math.max(i-u*y-2,0):0,f+=e;for(var m=c;m<h;m++)if(0!==(a=r.getLineWidth(m))){l=d===tt?(n-a)/2:d===et?n-a:0,l+=t;for(var x=v[m],w=0,O=x.length;w<O;w++)this.drawPen(x[w],l,f)}o.restore()},drawPen:function(t,e,n){e+=t.x,n+=t.y;var i=this.canvas,r=this.context;r.save();var o=this.parser.propToContextStyle(this.defatultStyle,t.prop);o.buildFont(),o.syncFont(i,r),o.syncStyle(i,r),o.underlineThickness>0&&t.width>0&&this.drawUnderline(e,n,t.width,o),t.isTextPen&&this.drawText(e,n,t.text,o),t.isImagePen&&this.drawImage(e,n,t.prop.img,o),r.restore(),t.hasAreaMarker&&t.width>0&&this.hitAreaManager.add(t.prop.area,e,n-this.startYOffset,t.width,this.defatultStyle.lineHeight)},clear:function(){var t=this.canvas;this.context.clearRect(0,0,t.width,t.height)},drawBackground:function(t){null!==t&&(this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height))},drawUnderline:function(t,e,n,i){e+=i.underlineOffset-i.underlineThickness/2,this.autoRound&&(t=Math.round(t),e=Math.round(e));var r=this.context,o=r.lineCap;r.lineCap="butt",r.beginPath(),r.strokeStyle=i.underlineColor,r.lineWidth=i.underlineThickness,r.moveTo(t,e),r.lineTo(t+n,e),r.stroke(),r.lineCap=o},drawText:function(t,e,n,i){this.autoRound&&(t=Math.round(t),e=Math.round(e));var r=this.context;i.strokeThickness&&(i.syncShadow(r,i.shadowStroke),r.strokeText(n,t,e)),i.color&&"none"!==i.color&&(i.syncShadow(r,i.shadowFill),r.fillText(n,t,e))},drawImage:function(t,e,n,i){var r=this.parent.imageManager,o=r.get(n),s=r.getFrame(n);t+=o.left,e+=-this.startYOffset+o.y,this.autoRound&&(t=Math.round(t),e=Math.round(e)),this.context.drawImage(s.source.image,s.cutX,s.cutY,s.cutWidth,s.cutHeight,t,e,o.width,o.height)}};function ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var st=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=[]}var e,n,i;return e=t,(n=[{key:"destroy",value:function(){this.items.length=0,this.items=void 0}},{key:"pop",value:function(){return this.items.length>0?this.items.pop():null}},{key:"push",value:function(t){return this.items.push(t),this}},{key:"pushMultiple",value:function(t){return this.items.push.apply(this.items,t),t.length=0,this}}])&&ot(e.prototype,n),i&&ot(e,i),t}();function at(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ut=Phaser.Utils.Objects.GetValue,ct=V.NO_NEWLINE,ht=V.RAW_NEWLINE,lt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prop={},this.resetFromJSON(e)}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){this.text=ut(t,"text",""),this.x=ut(t,"x",0),this.y=ut(t,"y",0),this.width=ut(t,"width",0);var e=ut(t,"prop",null);null===e&&(e={}),this.prop=e,this.newLineMode=ut(t,"newLineMode",0),this.startIndex=ut(t,"startIndex",0)}},{key:"plainText",get:function(){var t=this.text;return this.newLineMode===ht&&(t+="\n"),t}},{key:"wrapText",get:function(){var t=this.text;return this.newLineMode!==ct&&(t+="\n"),t}},{key:"rawTextLength",get:function(){var t=this.text.length;return this.newLineMode===ht&&(t+=1),t}},{key:"endIndex",get:function(){return this.startIndex+this.rawTextLength}},{key:"lastX",get:function(){return this.x+this.width}},{key:"isTextPen",get:function(){return""!==this.text}},{key:"isImagePen",get:function(){return!!this.prop.img}},{key:"hasAreaMarker",get:function(){return!!this.prop.area}}])&&at(e.prototype,n),i&&at(e,i),t}(),ft=function(t){if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]},dt=function(t,e){var n=Array.isArray(t);for(var i in void 0===e?e=n?[]:{}:ft(e),n&&(e.length=t.length),t)e[i]=t[i];return e};function pt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var yt=Phaser.Utils.Objects.GetFastValue,vt=V.NO_NEWLINE,gt=V.WRAPPED_NEWLINE,bt=new st,mt=new st,xt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.PensPool=yt(e,"pensPool",bt),this.LinesPool=yt(e,"linesPool",mt),this.tagToText=yt(e,"tagToText",k),this.tagToTextScope=yt(e,"tagToTextScope",void 0)}var e,n,i;return e=t,(n=[{key:"destroy",value:function(){this.freePens(),this.tagToText=void 0,this.tagToTextScope=void 0}},{key:"freePens",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.lines[t].length=0;this.PensPool.pushMultiple(this.pens),this.LinesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}},{key:"addTextPen",value:function(t,e,n,i,r,o){var s=this.PensPool.pop();return null==s&&(s=new lt),wt.text=t,wt.x=e,wt.y=n,wt.width=i,wt.prop=r,wt.newLineMode=o,s.resetFromJSON(wt),this.addPen(s),this}},{key:"addImagePen",value:function(t,e,n,i){return this.addTextPen("",t,e,n,i,vt),this}},{key:"addNewLinePen",value:function(){var t=this.lastPen,e=t?t.lastX:0,n=t?t.y:0,i=t?dt(t.prop):null;return this.addTextPen("",e,n,0,i,gt),this}},{key:"addPen",value:function(t){var e=this.lastPen;t.startIndex=null==e?0:e.endIndex,this.pens.push(t);var n=this.lastLine;null==n&&(n=this.LinesPool.pop()||[],this.lines.push(n)),n.push(t),t.newLineMode!==vt&&(n=this.LinesPool.pop()||[],this.lines.push(n)),this.maxLinesWidth=void 0}},{key:"clone",value:function(e){null==e&&(e=new t),e.freePens();for(var n=0,i=this.lines.length;n<i;n++)for(var r=this.lines[n],o=0,s=r.length;o<s;o++){var a=r[o];e.addPen(a.text,a.x,a.y,a.width,dt(a.prop),a.newLineMode)}return e}},{key:"getLineStartIndex",value:function(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var e=this.lines[t];return e&&e[0]?e[0].startIndex:0}},{key:"getLineEndIndex",value:function(t){t>=this.lines.length&&(t=this.lines.length-1);var e,n,i=!1;for(e=t;e>=0&&!(i=null!=(n=this.lines[e])&&n.length>0);e--);return i?n[n.length-1].endIndex:0}},{key:"getLineWidth",value:function(t){var e=this.lines[t];if(!e)return 0;var n=e[e.length-1];return null==n?0:n.lastX}},{key:"getMaxLineWidth",value:function(){if(void 0!==this.maxLinesWidth)return this.maxLinesWidth;for(var t,e=0,n=0,i=this.lines.length;n<i;n++)(t=this.getLineWidth(n))>e&&(e=t);return this.maxLinesWidth=e,e}},{key:"getLineWidths",value:function(){for(var t=[],e=0,n=this.lines.length;e<n;e++)t.push(this.getLineWidth(e));return t}},{key:"getSliceTagText",value:function(t,e,n){if(void 0===t&&(t=0),void 0===e){var i=this.lastPen;if(null==i)return"";e=i.endIndex}void 0===n&&(n=!1);for(var r,o,s,a,u,c,h="",l=0,f=this.pens.length;l<f&&((a=(r=this.pens[l]).endIndex)<=t||(r=this.pens[l],o=n?r.wrapText:r.plainText,u=r.prop,(s=r.startIndex)>=t&&a<=e||(o=o.substring(t-s,e-s)),this.tagToTextScope?h+=this.tagToText.call(this.tagToTextScope,o,u,c):h+=this.tagToText(o,u,c),c=u,!(a>=e)));l++);return h}},{key:"lastPen",get:function(){return this.pens[this.pens.length-1]}},{key:"lastLine",get:function(){return this.lines[this.lines.length-1]}},{key:"linesCount",get:function(){return this.lines.length}},{key:"plainText",get:function(){for(var t="",e=this.pens,n=0,i=e.length;n<i;n++)t+=e[n].plainText;return t}},{key:"rawTextLength",get:function(){for(var t=0,e=this.pens,n=0,i=this.pens.length;n<i;n++)t+=e[n].rawTextLength;return t}}])&&pt(e.prototype,n),i&&pt(e,i),t}(),wt={},Ot=xt;function kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var St=Phaser.Geom.Rectangle,Pt=new st,Ct=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hitAreas=[]}var e,n,i;return e=t,(n=[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){return Pt.pushMultiple(this.hitAreas),this}},{key:"add",value:function(t,e,n,i,r){var o=Pt.pop();return null===o?o=new St(e,n,i,r):o.setTo(e,n,i,r),o.key=t,this.hitAreas.push(o),this}},{key:"contains",value:function(t,e){for(var n,i=this.hitAreas,r=0,o=i.length;r<o;r++)if((n=i[r]).contains(t,e))return n.key;return!1}},{key:"drawBounds",value:function(t,e,n){void 0===e&&(e=16777215),n&&t.save().scaleCanvas(n.scaleX,n.scaleY).rotateCanvas(n.rotation).translateCanvas(n.x,n.y);for(var i,r=this.hitAreas,o=0,s=r.length;o<s;o++)i=r[o],t.lineStyle(1,e).strokeRect(i.x,i.y,i.width,i.height);return n&&t.restore(),this}}])&&kt(e.prototype,n),i&&kt(e,i),t}(),Tt=function(t,e,n,i){var r=this.hitAreaManager.contains(n,i);!1!==r&&(this.parent.emit("".concat(t,"-").concat(r),e,n,i),this.parent.emit(t,r,e,n,i))},_t=function(){this.parent.on("pointerdown",function(t,e,n,i){Tt.call(this,"areadown",t,e,n)},this).on("pointerup",function(t,e,n,i){Tt.call(this,"areaup",t,e,n)},this)},Et=V.NO_NEWLINE,jt=V.RAW_NEWLINE,Mt=V.WRAPPED_NEWLINE,Rt=V.NO_WRAP,It=V.WORD_WRAP,Dt=V.SPLITREGEXP,Lt=[],At=new st;At.newline=function(t,e,n){var i=this.pop();return null===i&&(i={}),i.text=t,i.width=e,i.newLineMode=n,i};var Ft=function(t,e,n,i,r){i<=0&&(n=Rt);var o=Lt;if(At.pushMultiple(o),!t||!t.length)return o;for(var s,a,u,c=t.split(Dt),h=0,l=c.length;h<l;h++)if(s=c[h],u=h===l-1?Et:jt,n!==Rt){var f,d;if(a=0===h?i-r:i,s.length<=100&&(x=e(s))<=a){o.push(At.newline(s,x,u));continue}for(var p,y="",v="",g=0,b=0,m=(f=n===It?s.split(" "):s).length;b<m;b++)d=f[b],n===It?(y+=d,b<m-1&&(y+=" ")):y+=d,(p=e(y))>a&&(0===b?o.push(At.newline("",0,Mt)):(o.push(At.newline(v,g,Mt)),y=d,n===It&&b<m-1&&(y+=" "),p=e(y)),a=i),v=y,g=p;o.push(At.newline(v,g,u))}else{var x=e(s);o.push(At.newline(s,x,u))}return o};function zt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Bt=Phaser.Utils.Objects.GetValue,Yt=V.NO_WRAP,Nt=V.NO_NEWLINE,Wt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e.parent,this.context=Bt(e,"context",null),this.canvas=this.context.canvas,this.parser=Bt(e,"parser",null),this.defatultStyle=Bt(e,"style",null),this.autoRound=!0,this.pensPool=Bt(e,"pensPool",null),this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new Ct;var n=this.context;this.getTextWidth=function(t){return n.measureText(t).width}}var e,n,i;return e=t,(n=[{key:"destroy",value:function(){this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defatultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0)}},{key:"updatePenManager",value:function(t,e,n,i,r){if(void 0===r&&(r=this.penManager),r.freePens(),""===t)return r;for(var o,s,a,u,c,h=this.canvas,l=this.context,f=0,d=0,p=this.parser.splitText(t),y=0,v=p.length;y<v;y++)if(o=(u=this.parser.tagTextToProp(p[y],s)).plainText,(s=u.prop).img){var g=this.imageManager.getOuterWidth(s.img);n>0&&e!==Yt&&n<f+g&&(r.addNewLinePen(),d+=i,f=0),r.addImagePen(f,d,g,dt(s)),f+=g}else if(""!==o){var b;this.context.save(),(a=this.parser.propToContextStyle(this.defatultStyle,s)).buildFont(),a.syncFont(h,l),a.syncStyle(h,l);for(var m=0,x=(c=Ft(o,this.getTextWidth,e,n,f)).length;m<x;m++)b=c[m],r.addTextPen(b.text,f,d,b.width,dt(s),b.newLineMode),b.newLineMode!==Nt?(f=0,d+=i):f+=b.width;this.context.restore()}return r}},{key:"newPenManager",value:function(){return new Ot({pensPool:this.pensPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}},{key:"getPlainText",value:function(t,e,n){var i;if(null==t)i=this.penManager.plainText;else{var r=this.parser.splitText(t,1);i="";for(var o=0,s=r.length;o<s;o++)i+=r[o]}return null==e&&null==n||(null==e&&(e=0),null==n&&(n=i.length),i=i.substring(e,n)),i}},{key:"getPenManager",value:function(t,e){if(void 0===t)return this.copyPenManager(e,this.penManager);void 0===e&&(e=this.newPenManager());var n=this.defatultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,e),e}},{key:"getText",value:function(t,e,n,i){if(null==t)return this.penManager.getSliceTagText(e,n,i);var r=this.tmpPenManager,o=this.defatultStyle;return this.updatePenManager(t,o.wrapMode,o.wrapWidth,o.lineHeight,r),r.getSliceTagText(e,n,i)}},{key:"copyPenManager",value:function(t,e){return void 0===e&&(e=this.penManager),e.copy(t)}},{key:"getTextWidth",value:function(t){return void 0===t&&(t=this.penManager),t.getMaxLineWidth()}},{key:"getLastPen",value:function(t){return void 0===t&&(t=this.penManager),t.lastPen}},{key:"startXOffset",get:function(){return this.defatultStyle.strokeThickness/2}},{key:"startYOffset",get:function(){var t=this.defatultStyle;return t.strokeThickness/2+t.metrics.ascent}},{key:"lines",get:function(){return this.penManager.lines}},{key:"desplayLinesCount",get:function(){var t=this.penManager.linesCount,e=this.defatultStyle.maxLines;return e>0&&t>e&&(t=e),t}},{key:"linesWidth",get:function(){return this.penManager.getMaxLineWidth()}},{key:"linesHeight",get:function(){var t=this.desplayLinesCount,e=this.defatultStyle.lineHeight*t;return t>0&&(e-=this.defatultStyle.lineSpacing),e}},{key:"imageManager",get:function(){return this.parent.imageManager}},{key:"tmpPenManager",get:function(){return null===this._tmpPenManager&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}}])&&zt(e.prototype,n),i&&zt(e,i),t}(),Ht={setInteractive:_t};Object.assign(Wt.prototype,rt,Ht);var Vt=Wt;function Gt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ut,Xt=Phaser.Utils.Objects.GetValue,Jt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureManager=e,this.images={}}var e,n,i;return e=t,(n=[{key:"add",value:function(t,e){if("string"==typeof t)this._add(t,e);else if(Array.isArray(t))for(var n=0,i=(r=t).length;n<i;n++)this._add(r[n]);else{var r=t;for(var t in r)this._add(t,r[t])}return this}},{key:"_add",value:function(t,e){void 0===e&&(e={key:t});var n=e.key,i=e.frame,r=e.width,o=e.height;if(void 0===r||void 0===o){var s=this.textureManager.getFrame(n,i),a=s?s.cutWidth:0,u=s?s.cutHeight:0;void 0===r&&void 0===o?(r=a,o=u):void 0===r?r=a*(o/u):void 0===o&&(o=u*(r/a))}this.images[t]={key:n,frame:i,width:r,height:o,y:Xt(e,"y",0),left:Xt(e,"left",0),right:Xt(e,"right",0)}}},{key:"remove",value:function(t){return this.images.hasOwnProperty(t)&&delete this.images[t],this}},{key:"get",value:function(t){return this.images.hasOwnProperty(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}},{key:"getOuterWidth",value:function(t){var e=this.get(t);return e?e.width+e.left+e.right:0}},{key:"getFrame",value:function(t){var e=this.get(t);return e?this.textureManager.getFrame(e.key,e.frame):void 0}},{key:"hasTexture",value:function(t){return!!this.getFrame(t)}}])&&Gt(e.prototype,n),i&&Gt(e,i),t}();function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qt(t,e){return(Qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var te=Phaser.DOM.AddToDOM,ee=Phaser.Display.Canvas.CanvasPool,ne=Phaser.GameObjects.GameObject,ie=Phaser.Utils.Objects.GetValue,re=Phaser.DOM.RemoveFromDOM,oe=V.SPLITREGEXP,se={},ae=function(t){function e(t,n,i,r,o,s,a){var u,c,h;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n=0),void 0===i&&(i=0),c=this,(u=!(h=qt(e).call(this,t,s))||"object"!==Zt(h)&&"function"!=typeof h?$t(c):h).renderer=t.sys.game.renderer,u.setPosition(n,i),u.setOrigin(0,0),u.initPipeline(),u.canvas=ee.create($t(u)),u.context=u.canvas.getContext("2d"),o&&o.hasOwnProperty("align")){var l=o.align;delete o.align,o.halign=l}return u.style=new Q($t(u),o),u.autoRound=!0,u._text=void 0,u.padding={left:0,right:0,top:0,bottom:0},u.width=1,u.height=1,u.dirty=!1,0===u.style.resolution&&(u.style.resolution=t.sys.game.config.resolution),u._crop=u.resetCropObject(),u.texture=t.sys.textures.addCanvas(null,u.canvas,!0),u.frame=u.texture.get(),u.frame.source.resolution=u.style.resolution,u.renderer&&u.renderer.gl&&(u.renderer.deleteTexture(u.frame.source.glTexture),u.frame.source.glTexture=null),se.hasOwnProperty(s)||(se[s]=new st),u.canvasText=new Vt({parent:$t(u),context:u.context,parser:a,style:u.style,pensPool:se[s]}),o&&o.padding&&u.setPadding(o.padding),u.setText(r),t.sys.game.events.on("contextrestored",function(){this.dirty=!0},$t(u)),u}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qt(t,e)}(e,ne),n=e,(i=[{key:"initRTL",value:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",te(this.canvas,this.scene.sys.canvas),this.originX=1)}},{key:"setText",value:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this}},{key:"setStyle",value:function(t){return this.style.setStyle(t)}},{key:"setFont",value:function(t){return this.style.setFont(t)}},{key:"setFontFamily",value:function(t){return this.style.setFontFamily(t)}},{key:"setFontSize",value:function(t){return this.style.setFontSize(t)}},{key:"setFontStyle",value:function(t){return this.style.setFontStyle(t)}},{key:"setFixedSize",value:function(t,e){return this.style.setFixedSize(t,e)}},{key:"setBackgroundColor",value:function(t){return this.style.setBackgroundColor(t)}},{key:"setFill",value:function(t){return this.style.setFill(t)}},{key:"setColor",value:function(t){return this.style.setColor(t)}},{key:"setStroke",value:function(t,e){return this.style.setStroke(t,e)}},{key:"setShadow",value:function(t,e,n,i,r,o){return this.style.setShadow(t,e,n,i,r,o)}},{key:"setShadowOffset",value:function(t,e){return this.style.setShadowOffset(t,e)}},{key:"setShadowColor",value:function(t){return this.style.setShadowColor(t)}},{key:"setShadowBlur",value:function(t){return this.style.setShadowBlur(t)}},{key:"setShadowStroke",value:function(t){return this.style.setShadowStroke(t)}},{key:"setShadowFill",value:function(t){return this.style.setShadowFill(t)}},{key:"setWrapMode",value:function(t){return this.style.setWrapMode(t)}},{key:"setWrapWidth",value:function(t){return this.style.setWrapWidth(t)}},{key:"setAlign",value:function(t){return this.style.setHAlign(t)}},{key:"setLineSpacing",value:function(t){return this.style.setLineSpacing(t)}},{key:"setPadding",value:function(t,e,n,i){if("object"===Zt(t)){var r=t,o=ie(r,"x",null);null!==o?(t=o,n=o):(t=ie(r,"left",0),n=ie(r,"right",t));var s=ie(r,"y",null);null!==s?(e=s,i=s):(e=ie(r,"top",0),i=ie(r,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===i&&(i=e);return this.padding.left=t,this.padding.top=e,this.padding.right=n,this.padding.bottom=i,this.updateText(!1)}},{key:"setResolution",value:function(t){return this.style.setResolution(t)}},{key:"setMaxLines",value:function(t){return this.style.setMaxLines(t)}},{key:"updateText",value:function(t){void 0===t&&(t=!0);var e=this.canvasText,n=this.style;t&&e.updatePenManager(this._text,n.wrapMode,n.wrapWidth,n.lineHeight);var i,r,o=this.padding;0===n.fixedWidth?(this.width=e.linesWidth+o.left+o.right,i=e.linesWidth):(this.width=n.fixedWidth,(i=this.width-o.left-o.right)<e.linesWidth&&(i=e.linesWidth)),0===n.fixedHeight?(this.height=e.linesHeight+o.top+o.bottom,r=e.linesHeight):(this.height=n.fixedHeight,(r=this.height-o.top-o.bottom)<e.linesHeight&&(r=e.linesHeight));var s=this.width,a=this.height;this.updateDisplayOrigin();var u=n.resolution;s*=u,a*=u,s=Math.max(Math.ceil(s),1),a=Math.max(Math.ceil(a),1);var c=this.canvas,h=this.context;c.width!==s||c.height!==a?(c.width=s,c.height=a,this.frame.setSize(s,a)):h.clearRect(0,0,s,a),h.save(),h.scale(u,u),e.draw(o.left,o.top,i,r),h.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(c,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this}},{key:"getTextMetrics",value:function(){return this.style.getTextMetrics()}},{key:"toJSON",value:function(){var t=ue.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t}},{key:"preDestroy",value:function(){this.style.rtl&&re(this.canvas),ee.remove(this.canvas),this.canvasText.destroy()}},{key:"setInteractive",value:function(t,e,n){return ne.prototype.setInteractive.call(this,t,e,n),this.canvasText.setInteractive(),this}},{key:"getWrappedText",value:function(t,e,n){return(t=this.canvasText.getText(t,e,n,!0)).split(oe)}},{key:"getPlainText",value:function(t,e,n){return this.canvasText.getPlainText(t,e,n)}},{key:"getText",value:function(t,e,n){return this.canvasText.getText(t,e,n,!1)}},{key:"getSubString",value:function(t,e,n){return this.getText(t,e,n)}},{key:"copyPenManager",value:function(t){return this.canvasText.copyPenManager(t)}},{key:"getPenManager",value:function(t,e){return this.canvasText.getPenManager(t,e)}},{key:"setSize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"resize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"addImage",value:function(t,e){return this.imageManager.add(t,e),this}},{key:"drawAreaBounds",value:function(t,e){return this.canvasText.hitAreaManager.drawBounds(t,e,this),this}},{key:"text",set:function(t){this.setText(t)},get:function(){return this._text}},{key:"lineSpacing",set:function(t){this.setLineSpacing(t)},get:function(){return this.style.lineSpacing}},{key:"imageManager",get:function(){return t=this.scene.textures,void 0===Ut&&(Ut=new Jt(t)),Ut;var t}}])&&Kt(n.prototype,i),r&&Kt(n,r),e}(),ue=Phaser.GameObjects.Components;Phaser.Class.mixin(ae,[ue.Alpha,ue.BlendMode,ue.ComputedSize,ue.Crop,ue.Depth,ue.Flip,ue.GetBounds,ue.Mask,ue.Origin,ue.Pipeline,ue.ScrollFactor,ue.Tint,ue.Transform,ue.Visible,N]);var ce=ae,he={plainText:null,prevProp:null},le=new Q,fe={},de={splitText:function(t,e){for(var n,i,r=[],o=0,s=t.length,a=s;n=ve.exec(t);)i=n[0],o<(a=ve.lastIndex-i.length)&&r.push(t.substring(o,a)),void 0===e&&r.push(i),o=ve.lastIndex;return o<s&&r.push(t.substring(o,s)),r},tagTextToProp:function(t,e){var n,i;null==e&&(e={}),e.img&&pe(e,Fe,"img"),ge.test(t)?(pe(e,ze,"b",!0),n=""):be.test(t)?(pe(e,Fe,"b"),n=""):me.test(t)?(pe(e,ze,"i",!0),n=""):xe.test(t)?(pe(e,Fe,"i"),n=""):we.test(t)?(i=t.match(we),pe(e,ze,"size",i[1]+"px"),n=""):Oe.test(t)?(pe(e,Fe,"size"),n=""):ke.test(t)?(i=t.match(ke),pe(e,ze,"color",i[1]),n=""):Se.test(t)?(pe(e,Fe,"color"),n=""):Pe.test(t)?(i=t.match(Pe),pe(e,ze,"u",!0),n=""):Ce.test(t)?(i=t.match(Ce),pe(e,ze,"u",i[1]),n=""):Te.test(t)?(pe(e,Fe,"u"),n=""):_e.test(t)?(pe(e,ze,"shadow",!0),n=""):Ee.test(t)?(pe(e,Fe,"shadow"),n=""):je.test(t)?(pe(e,ze,"stroke",!0),n=""):Me.test(t)?(i=t.match(Me),pe(e,ze,"stroke",i[1]),n=""):Re.test(t)?(pe(e,Fe,"stroke"),n=""):Ie.test(t)?(i=t.match(Ie),pe(e,ze,"img",i[1]),n=""):De.test(t)?(pe(e,Fe,"img"),n=""):Le.test(t)?(i=t.match(Le),pe(e,ze,"area",i[1]),n=""):Ae.test(t)?(pe(e,Fe,"area"),n=""):n=t;var r=he;return r.plainText=n,r.prop=e,r},propToContextStyle:function(t,e){var n=le;if(e.hasOwnProperty("img"))n.image=e.img;else{if(n.image=null,e.hasOwnProperty("family")?n.fontFamily=e.family:n.fontFamily=t.fontFamily,e.hasOwnProperty("size")){var i=e.size;"number"==typeof i&&(i=i.toString()+"px"),n.fontSize=i}else n.fontSize=t.fontSize;n.fontStyle=ye(e.b,e.i),e.hasOwnProperty("color")?n.color=e.color:n.color=t.color,e.hasOwnProperty("stroke")?!0===e.stroke?(n.stroke=t.stroke,n.strokeThickness=t.strokeThickness):(n.stroke=e.stroke,n.strokeThickness=t.strokeThickness):(n.stroke=t.stroke,n.strokeThickness=0)}return e.hasOwnProperty("shadow")?!0===e.shadow?(n.shadowColor=t.shadowColor,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY,n.shadowBlur=t.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0):(n.shadowColor=e.shadow,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY,n.shadowBlur=t.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0):(n.shadowColor="#000",n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowBlur=0,n.shadowStroke=!1,n.shadowFill=!1),e.hasOwnProperty("u")?!0===e.u?(n.underlineColor=t.underlineColor,n.underlineThickness=t.underlineThickness,n.underlineOffset=t.underlineOffset):(n.underlineColor=e.u,n.underlineThickness=t.underlineThickness,n.underlineOffset=t.underlineOffset):(n.underlineColor="#000",n.underlineThickness=0,n.underlineOffset=0),n},propToTagText:function(t,e,n){for(var i in null==n&&(n=fe),n)e.hasOwnProperty(i)||(t="[/"+i+"]"+t);var r="";for(var i in e)n[i]!==e[i]&&("size"===i?r+="[size="+e[i].replace("px","")+"]":"color"===i||"stroke"===i||"img"===i?r+="["+i+"="+e[i]+"]":"u"===i?!0===e[i]?r+="[u]":r+="[u="+e[i]+"]":r+="["+i+"]");return t=r+t}},pe=function(t,e,n,i){return e===ze?t[n]=i:t.hasOwnProperty(n)&&delete t[n],t},ye=function(t,e){return t&&e?"bold italic":t?"bold":e?"italic":""},ve=/\[b\]|\[\/b\]|\[i\]|\[\/i\]|\[size=(\d+)\]|\[\/size\]|\[color=([a-z]+|#[0-9abcdef]+)\]|\[\/color\]|\[u\]|\[u=([a-z]+|#[0-9abcdef]+)\]|\[\/u\]|\[shadow\]|\[\/shadow\]|\[stroke\]|\[stroke=([a-z]+|#[0-9abcdef]+)\]|\[\/stroke\]|\[img=([^\]]+)\]|\[\/img\]|\[area=([^\]]+)\]|\[\/area\]/gi,ge=/\[b\]/i,be=/\[\/b\]/i,me=/\[i\]/i,xe=/\[\/i\]/i,we=/\[size=(\d+)\]/i,Oe=/\[\/size\]/i,ke=/\[color=([a-z]+|#[0-9abcdef]+)\]/i,Se=/\[\/color\]/i,Pe=/\[u\]/i,Ce=/\[u=([a-z]+|#[0-9abcdef]+)\]/i,Te=/\[\/u\]/i,_e=/\[shadow\]/i,Ee=/\[\/shadow\]/i,je=/\[stroke\]/i,Me=/\[stroke=([a-z]+|#[0-9abcdef]+)\]/i,Re=/\[\/stroke\]/i,Ie=/\[img=([^\]]+)\]/i,De=/\[\/img\]/i,Le=/\[area=([^\]]+)\]/i,Ae=/\[\/area\]/i,Fe=!1,ze=!0,Be=de;function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e){return!e||"object"!==Ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ve=function(t){function e(t,n,i,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ne(this,We(e).call(this,t,n,i,r,o,"rexBBCodeText",Be))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}(e,ce),e}();r.register("BBCodeText",function(t,e,n,i){var r=new Ve(this.scene,t,e,n,i);return this.scene.add.existing(r),r}),A(window,"RexPlugins.UI.BBCodeText",Ve);function Ge(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ue={plainText:null,prevProp:null},Xe=new Q,Je=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e={}),this.tags=e}var e,n,i;return e=t,(n=[{key:"addTag",value:function(t,e){this.tags[t]=e}},{key:"splitText",value:function(t,e){for(var n,i,r,o=[],s=0,a=t.length,u=a;n=qe.exec(t);)i=n[0],s<(u=qe.lastIndex-i.length)&&o.push(t.substring(s,u)),void 0===e?o.push(i):1===e&&($e.test(i)?(r=i.match(Qe),o.push(r[2])):tn.test(i)&&(r=i.match(en),o.push(r[2]))),s=qe.lastIndex;return s<a&&o.push(t.substring(s,a)),o}},{key:"tagTextToProp",value:function(t,e){var n,i;if($e.test(t)){if(null!=(s=t.match(Qe))){var r=s[1],o=this.tags;(i=o.hasOwnProperty(r)?o[r]:{})._class=r,n=s[2]}}else if(tn.test(t)){var s;if(null!=(s=t.match(en))){var a=s[1];(i=Ze(a))._style=a,n=s[2]}}null==n&&(n=t),null==i&&(i={});var u=Ue;return u.plainText=n,u.prop=i,u}},{key:"propToContextStyle",value:function(t,e){var n=Xe;if(e.hasOwnProperty("img"))n.image=e.img;else{if(n.image=null,e.hasOwnProperty("family")||e.hasOwnProperty("fontFamily")||e.hasOwnProperty("font-family")){var i=e.hasOwnProperty("family")?e.family:e.hasOwnProperty("fontFamily")?e.fontFamily:e["font-family"];n.fontFamily=i}else n.fontFamily=t.fontFamily;if(e.hasOwnProperty("size")||e.hasOwnProperty("fontSize")||e.hasOwnProperty("font-size")){var r=e.hasOwnProperty("size")?e.size:e.hasOwnProperty("fontSize")?e.fontSize:e["font-size"];"number"==typeof r&&(r=r.toString()+"px"),n.fontSize=r}else n.fontSize=t.fontSize;if(e.hasOwnProperty("style")||e.hasOwnProperty("fontStyle")||e.hasOwnProperty("font-style")){var o=e.hasOwnProperty("style")?e.style:e.hasOwnProperty("fontStyle")?e.fontStyle:e["font-style"];n.fontStyle=o}else n.fontStyle=t.fontStyle;if(e.hasOwnProperty("color")||e.hasOwnProperty("font-color")){e.hasOwnProperty("color")?e.color:e["font-color"];n.color=e.color}else n.color=t.color;if(e.hasOwnProperty("stroke")){var s=e.stroke;n.stroke=s.hasOwnProperty("color")?s.color:t.stroke,n.strokeThickness=s.hasOwnProperty("thinkness")?s.thinkness:t.strokeThickness}else n.stroke=t.stroke,n.strokeThickness=t.strokeThickness}if(e.hasOwnProperty("shadow")){var a=e.shadow;n.shadowColor=a.hasOwnProperty("color")?a.color:t.shadowColor,n.shadowOffsetX=a.hasOwnProperty("offsetX")?a.offsetX:t.shadowOffsetX,n.shadowOffsetY=a.hasOwnProperty("offsetY")?a.offsetY:t.shadowOffsetY,n.shadowBlur=a.hasOwnProperty("blur")?a.blur:t.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0}else n.shadowColor=t.shadowColor,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY,n.shadowBlur=t.shadowBlur,n.shadowStroke=t.shadowStroke,n.shadowFill=t.shadowFill;if(e.hasOwnProperty("u")||e.hasOwnProperty("underline")){var u=e.hasOwnProperty("u")?e.u:e.underline;n.underlineColor=u.hasOwnProperty("color")?u.color:t.underlineColor,n.underlineThickness=u.hasOwnProperty("thinkness")?u.thinkness:t.underlineThickness,n.underlineOffset=u.hasOwnProperty("offset")?u.offset:t.underlineOffset}else n.underlineColor=t.underlineColor,n.underlineThickness=t.underlineThickness,n.underlineOffset=t.underlineOffset;return n}},{key:"propToTagText",value:function(t,e,n){return e.hasOwnProperty("_class")?""===t&&this.isTextTag(e._class)?"":"<class='"+e._class+"'>"+t+"</class>":e.hasOwnProperty("_style")?"<style='"+e._style+"'>"+t+"</style>":void 0}},{key:"destroy",value:function(){this.tags=void 0}},{key:"isTextTag",value:function(t){var e=this.tags[t];return!!e&&null==e.img}}])&&Ge(e.prototype,n),i&&Ge(e,i),t}(),Ze=function(t){for(var e,n,i,r={},o=0,s=(t=t.split(";")).length;o<s;o++)if(n=(e=t[o].split(":"))[0],i=e[1],!Ke(n)&&!Ke(i)){switch(n){case"stroke":var a=i.split(" ");i={},(c=a.length)>=1&&(i.color=a[0]),c>=2&&(i.thinkness=parseInt(a[1].replace("px","")));break;case"shadow":var u=i.split(" ");i={},(c=u.length)>=1&&(i.color=u[0]),c>=2&&(i.offsetX=parseInt(u[1].replace("px",""))),c>=3&&(i.offsetY=parseInt(u[2].replace("px",""))),c>=4&&(i.blur=parseInt(u[3].replace("px","")));break;case"u":case"underline":var c,h=i.split(" ");i={},(c=h.length)>=1&&(i.color=h[0]),c>=2&&(i.thinkness=parseInt(h[1].replace("px",""))),c>=3&&(i.offset=parseInt(h[2].replace("px","")))}r[n]=i}return r},Ke=function(t){return 0===(t=t.replace(nn,"")).length},qe=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,$e=/<\s*class=/i,Qe=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,tn=/<\s*style=/i,en=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,nn=/^\s+|\s+$/,rn=Je;function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function an(t,e){return!e||"object"!==on(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function un(t,e,n){return(un="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cn(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function cn(t){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hn(t,e){return(hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ln=Phaser.Utils.Objects.GetValue,fn=function(t){function e(t,n,i,r,o){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=ln(o,"tags",void 0),u=new rn(a);return(s=an(this,cn(e).call(this,t,n,i,r,o,"rexTagText",u))).parser=u,s}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hn(t,e)}(e,ce),n=e,(i=[{key:"addTag",value:function(t,e){return this.parser.addTag(t,e),this.updateText(!0)}},{key:"addTags",value:function(t){for(var e in t)this.parser.addTag(e,t[e]);return this.updateText(!0)}},{key:"preDestroy",value:function(){un(cn(e.prototype),"preDestroy",this).call(this),this.parser.destroy(),this.parser=void 0}}])&&sn(n.prototype,i),r&&sn(n,r),e}();r.register("tagText",function(t,e,n,i){var r=new fn(this.scene,t,e,n,i);return this.scene.add.existing(r),r}),A(window,"RexPlugins.UI.TagText",fn);var dn={add:function(t){return Array.isArray(t)?this.addMultiple(t):this._add(t),this},addMultiple:function(t){return t.forEach(this._add,this),this},_add:function(t){return this.children.add(t),this.resetChildState(t).updateChildVisible(t).updateChildActive(t).updateChildScrollFactor(t).updateChildMask(t),this}},pn=Phaser.Math.RotateAround,yn={worldToLocal:function(t){return t.x-=this.x,t.y-=this.y,pn(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t},localToWorld:function(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,pn(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}},vn=function(t,e){return t===e?1:t/e},gn={updateChildPosition:function(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var e=this.getLocalState(t);return t.x=e.x,t.y=e.y,this.localToWorld(t),t.scaleX=e.scaleX*this.scaleX,t.scaleY=e.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!e.flipX:e.flipX,t.flipY=this.flipY?!e.flipY:e.flipY),t.rotation=e.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this},syncPosition:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildPosition,this),this},resetChildPositionState:function(t){var e=this.getLocalState(t);return e.x=t.x,e.y=t.y,this.worldToLocal(e),e.scaleX=vn(t.scaleX,this.scaleX),e.scaleY=vn(t.scaleY,this.scaleY),void 0!==t.flipX&&(e.flipX=t.flipX,e.flipY=t.flipY),e.rotation=t.rotation-this.rotation,this},setChildPosition:function(t,e,n){return t.x=e,t.y=n,this.resetChildPositionState(t),this},setChildLocalPosition:function(t,e,n){var i=this.getLocalState(t);return i.x=e,i.y=n,this.updateChildPosition(t),this}},bn={updateChildVisible:function(t){return t.visible=this.visible&&this.getLocalState(t).visible,this},syncVisible:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildVisible,this),this},resetChildVisibleState:function(t){return this.getLocalState(t).visible=t.visible,this},setChildVisible:function(t,e){return t.visible=e,this.resetChildVisibleState(t),this},setChildLocalVisible:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).visible=e,this.updateChildVisible(t),this}},mn={updateChildAlpha:function(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this},syncAlpha:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildAlpha,this),this},resetChildAlphaState:function(t){return this.getLocalState(t).alpha=vn(t.alpha,this.alpha),this},setChildAlpha:function(t,e){return t.alpha=e,this.resetChildAlphaState(t),this._add},setChildLocalAlpha:function(t,e){return this.getLocalState(t).alpha=e,this.updateChildAlpha(t),this}},xn={updateChildActive:function(t){return t.active=this.active&&this.getLocalState(t).active,this},syncActive:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildActive,this),this},resetChildActiveState:function(t){return this.getLocalState(t).active=t.active,this},setChildActive:function(t,e){return t.active=e,this.resetChildActiveState(t),this},setChildLocalActive:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).active=e,this.updateChildActive(t),this}},wn={updateChildMask:function(t){return null==this.mask?this:((this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask)!==t&&(t.mask=this.mask),this)},syncMask:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildMask,this),this},setMask:function(t){return this.mask=t,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this}};function On(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var kn=Phaser.Utils.Array,Sn={getChildren:function(){return this.children.getChildren()},getAllChildren:function(t){void 0===t&&(t=[]);for(var e,n=this.children.getChildren(),i=0,r=n.length;i<r;i++){var o;if(e=n[i],t.push(e),e.hasOwnProperty("isRexContainerLite"))(o=t).push.apply(o,On(e.getAllChildren()))}return t},contains:function(t){if(this.children.contains(t))return!0;for(var e,n=this.children.getChildren(),i=0,r=n.length;i<r;i++)if((e=n[i]).isRexContainerLite&&e.contains(t))return!0;return!1},getByName:function(t){return kn.GetFirst(this.list,"name",t)},getRandom:function(t,e){return kn.GetRandom(this.list,t,e)},getFirst:function(t,e,n,i){return kn.GetFirstElement(this.list,t,e,n,i)},getAll:function(t,e,n,i){return kn.GetAll(this.list,t,e,n,i)},count:function(t,e,n,i){return kn.CountAllMatching(this.list,t,e,n,i)},swap:function(t,e){return kn.Swap(this.list,t,e),this},moveTo:function(t,e){return kn.MoveTo(this.list,t,e),this},setAll:function(t,e,n,i){return kn.SetAll(this.list,t,e,n,i),this}};function Pn(t){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Tn(t,e){return!e||"object"!==Pn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _n(t,e,n,i){return(_n="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,i){var r,o=Mn(t,e);if(o){if((r=Object.getOwnPropertyDescriptor(o,e)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,e)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,e,r)}else!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(i,e,n);return!0})(t,e,n,i)}function En(t,e,n,i,r){if(!_n(t,e,n,i||t)&&r)throw new Error("failed to set property");return n}function jn(t,e,n){return(jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=Mn(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Mn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rn(t)););return t}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function In(t,e){return(In=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dn=Phaser.GameObjects.Zone,Ln=Phaser.GameObjects.Components,An=function(t){function e(t,n,i,r,o,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(r)&&(s=r,r=void 0),void 0===r&&(r=1),void 0===o&&(o=1),(a=Tn(this,Rn(e).call(this,t,n,i,r,o))).children=t.add.group(),a.type="rexContainerLite",a.isRexContainerLite=!0,a.syncChildrenEnable=!0,a._flipX=!1,a._flipY=!1,a._alpha=1,a._active=!0,a._mask=null,a._scrollFactorX=1,a._scrollFactorY=1,s&&a.add(s),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&In(t,e)}(e,Dn),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(this.children.destroy(!t),this.children=void 0,jn(Rn(e.prototype),"destroy",this).call(this,t))}},{key:"resize",value:function(t,e){return this.setSize(t,e),this}},{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.syncPosition())}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.syncPosition())}},{key:"rotation",get:function(){return jn(Rn(e.prototype),"rotation",this)},set:function(t){this.rotation!==t&&(En(Rn(e.prototype),"rotation",t,this,!0),this.syncPosition())}},{key:"scaleX",get:function(){return jn(Rn(e.prototype),"scaleX",this)},set:function(t){this.scaleX!==t&&(En(Rn(e.prototype),"scaleX",t,this,!0),this.syncPosition())}},{key:"scaleY",get:function(){return jn(Rn(e.prototype),"scaleY",this)},set:function(t){this.scaleY!==t&&(En(Rn(e.prototype),"scaleY",t,this,!0),this.syncPosition())}},{key:"flipX",get:function(){return this._flipX},set:function(t){this._flipX!==t&&(this._flipX=t,this.syncPosition())}},{key:"flipY",get:function(){return this._flipY},set:function(t){this._flipY!==t&&(this._flipY=t,this.syncPosition())}},{key:"visible",get:function(){return jn(Rn(e.prototype),"visible",this)},set:function(t){this.visible!==t&&(En(Rn(e.prototype),"visible",t,this,!0),this.syncVisible())}},{key:"alpha",get:function(){return this._alpha},set:function(t){this._alpha!==t&&(this._alpha=t,this.syncAlpha())}},{key:"active",get:function(){return this._active},set:function(t){this._active!==t&&(this._active=t,this.syncActive())}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask!==t&&(this._mask=t,this.syncMask())}},{key:"scrollFactorX",get:function(){return this._scrollFactorX},set:function(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}},{key:"scrollFactorY",get:function(){return this._scrollFactorY},set:function(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}},{key:"list",get:function(){return this.children.getChildren()}}])&&Cn(n.prototype,i),r&&Cn(n,r),e}();Object.assign(An.prototype,dn,{remove:function(t,e){return this.children.remove(t,!1,e),this},clear:function(t){return this.children.clear(!1,t),this}},{getLocalState:function(t){return t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer},resetChildState:function(t){return this.resetChildPositionState(t).resetChildVisibleState(t).resetChildAlphaState(t).resetChildActiveState(t),this},resetChildrenState:function(t){for(var e=0,n=t.length;e<n;e++)this.resetChildState(t[e]);return this},syncProperties:function(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},yn,gn,bn,mn,{updateChildScrollFactor:function(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this},syncScrollFactor:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildScrollFactor,this),this}},xn,wn,{setDepth:function(t){if(this.depth=t,this.children)for(var e=this.getAllChildren(),n=0,i=e.length;n<i;n++)e[n].depth=t;return this},swapDepth:function(t){var e=this.depth,n=t.depth;return this.setDepth(n),t.setDepth(e),this},incDepth:function(t){if(this.depth+=t,this.children)for(var e=this.getAllChildren(),n=0,i=e.length;n<i;n++)e[n].depth+=t;return this}},Sn,Ln.Alpha,Ln.Flip);var Fn=An,zn=Fn;r.register("container",function(t,e,n,i,r){var o=new zn(this.scene,t,e,n,i,r);return this.scene.add.existing(o),o}),A(window,"RexPlugins.UI.Container",zn);var Bn=Phaser.Renderer.WebGL.Utils,Yn={renderWebGL:function(t,e,n,i,r){if(e.dirty&&(e.updateTexture(),e.dirty=!1),0!==e.width&&0!==e.height){var o=e.frame,s=o.width,a=o.height,u=Bn.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,o.glTexture,s,a,e.x,e.y,s/e.resolution,a/e.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,s,a,u(e._tintTL,i.alpha*e._alphaTL),u(e._tintTR,i.alpha*e._alphaTR),u(e._tintBL,i.alpha*e._alphaBL),u(e._tintBR,i.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,i,r)}},renderCanvas:function(t,e,n,i,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,i,r)}},Nn=Phaser.Display.Color,Wn={clear:function(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill:function(t){return this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},getPixel:function(t,e,n){void 0===n&&(n=new Nn);var i=this.context.getImageData(t,e,1,1);return n.setTo(i.data[0],i.data[1],i.data[2],i.data[3]),n},setPixel:function(t,e,n,i,r,o){if("number"!=typeof n){var s=n;n=s.red,i=s.green,r=s.blue,o=s.alpha}void 0===o&&(o=0!==n||0!==i||0!==r?255:0);var a=this.context.createImageData(1,1);return a.data[0]=n,a.data[1]=i,a.data[2]=r,a.data[3]=o,this.context.putImageData(a,t,e),this.dirty=!0,this}},Hn={updateTexture:function(t,e){t&&(e?t.call(e,this.canvas,this.context):t(this.canvas,this.context)),this.canvas.width===this.frame.width&&this.canvas.height===this.frame.height||this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},generateTexture:function(t,e,n,i,r){var o,s=this.canvas,a=this.scene.sys,u=a.game.renderer;void 0===e&&(e=0),void 0===n&&(n=0),void 0===i?i=s.width:i*=this.resolution,void 0===r?r=s.height:r*=this.resolution;var c=(o=a.textures.exists(t)?a.textures.get(t):a.textures.createCanvas(t,i,r)).getSourceImage();c.width!==i&&(c.width=i),c.height!==r&&(c.height=r);var h=c.getContext("2d");return h.clearRect(0,0,i,r),h.drawImage(s,e,n,i,r),u.gl&&o&&u.canvasToTexture(c,o.source[0].glTexture,!0,0),this},loadTexture:function(t,e){var n=this.scene.textures.getFrame(t,e);return n?(this.width!==n.cutWidth||this.height!==n.cutHeight?this.resize(n.cutWidth,n.cutHeight):this.context.clearRect(0,0,n.cutWidth,n.cutHeight),this.context.drawImage(n.source.image,n.cutX,n.cutY,n.cutWidth,n.cutHeight,0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this):this}};function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Un(t){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jn(t,e){return(Jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zn=Phaser.Display.Canvas.CanvasPool,Kn=Phaser.GameObjects.GameObject,qn=function(t){function e(t,n,i,r,o){var s,a,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=1),a=this,(s=!(u=Un(e).call(this,t,"rexCanvas"))||"object"!==Vn(u)&&"function"!=typeof u?Xn(a):u).renderer=t.sys.game.renderer,s.resolution=t.sys.game.config.resolution,s.canvas=Zn.create(Xn(s),s.resolution*r,s.resolution*o),s.context=s.canvas.getContext("2d"),s.dirty=!1,s.setPosition(n,i),s.setSize(r,o),s.setOrigin(.5,.5),s.initPipeline(),s._crop=s.resetCropObject(),s.texture=t.sys.textures.addCanvas(null,s.canvas,!0),s.frame=s.texture.get(),s.frame.source.resolution=s.resolution,s.renderer&&s.renderer.gl&&(s.renderer.deleteTexture(s.frame.source.glTexture),s.frame.source.glTexture=null),s.dirty=!0,t.sys.game.events.on("contextrestored",function(){this.dirty=!0},Xn(s)),s}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jn(t,e)}(e,Kn),n=e,(i=[{key:"getCanvas",value:function(t){return t||(this.dirty=!0),this.canvas}},{key:"needRedraw",value:function(){return this.dirty=!0,this}},{key:"preDestroy",value:function(){Zn.remove(this.canvas)}},{key:"resize",value:function(t,e){return this.width===t&&this.height===e?this:(this.setSize(t,e).updateDisplayOrigin(),t*=this.resolution,e*=this.resolution,t=Math.max(Math.ceil(t),1),e=Math.max(Math.ceil(e),1),this.canvas.width=t,this.canvas.height=e,this.dirty=!0,this)}}])&&Gn(n.prototype,i),r&&Gn(n,r),e}(),$n=Phaser.GameObjects.Components;Phaser.Class.mixin(qn,[$n.Alpha,$n.BlendMode,$n.ComputedSize,$n.Crop,$n.Depth,$n.Flip,$n.GetBounds,$n.Mask,$n.Origin,$n.Pipeline,$n.ScrollFactor,$n.Tint,$n.Transform,$n.Visible,Yn,Wn,Hn]);var Qn=qn,ti=function(t,e){void 0===e&&(e={}),void 0===e.options&&(e.options={});var n=e.options;n.responsive=!1,n.maintainAspectRatio=!1,n.hasOwnProperty("devicePixelRatio")||(n.devicePixelRatio=1);var i=!1;void 0===n.animation?n.animation={}:!1===n.animation&&(i=!0,n.animation={});var r=n.animation;i&&(r.duration=0);var o=r.onProgress;r.onProgress=function(e){o&&o(e),t.needRedraw()};var s=r.onComplete;return r.onComplete=function(e){s&&s(e),t.needRedraw()},e},ei=function(t){if(!window.Chart)return console.error("Can not find chartjs! Load chartjs in preload stage.\nscene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js');"),this;return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,ti(this,t)),this},ni=function(t){if(void 0!==this.chart){if("string"!=typeof t)return this.chart.data.datasets[t];for(var e,n=this.chart.data.datasets,i=0,r=n.length;i<r;i++)if((e=n[i]).label===t)return e}},ii=function(t,e){var n=this.getChartDataset(t);if(void 0!==n){if("string"==typeof e&&-1===(e=this.chart.data.labels.indexOf(e)))return;return n.data[e]}},ri=function(t,e,n){if(void 0===this.chart)return this;var i=this.getChartDataset(t);if("string"==typeof e&&-1===(e=this.chart.data.labels.indexOf(e)))return this;return i.data[e]=n,this},oi=function(){if(void 0===this.chart)return this;this.chart.update()};function si(t){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ai(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ui(t,e){return!e||"object"!==si(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ci(t,e,n){return(ci="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hi(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function hi(t){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function li(t,e){return(li=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fi=function(t){function e(t,n,i,r,o,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=ui(this,hi(e).call(this,t,n,i,r,o))).type="rexChart",a.chart=void 0,void 0!==s&&a.setChart(s),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&li(t,e)}(e,Qn),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),ci(hi(e.prototype),"destroy",this).call(this,t))}},{key:"resize",value:function(t,n){if(t===this.width&&n===this.height)return this;if(ci(hi(e.prototype),"resize",this).call(this,t,n),this.chart){var i=this.chart;i.height=this.canvas.height,i.width=this.canvas.width,i.aspectRatio=i.height?i.width/i.height:null,i.update()}return this}}])&&ai(n.prototype,i),r&&ai(n,r),e}(),di={setChart:ei,getChartDataset:ni,getChartData:ii,setChartData:ri,updateChart:oi};Object.assign(fi.prototype,di);var pi=fi;r.register("chart",function(t,e,n,i,r){var o=new pi(this.scene,t,e,n,i,r);return this.scene.add.existing(o),o}),A(window,"RexPlugins.UI.Chart",pi);var yi=function(t,e){t.width===t.height&&(e=0);var n=Math.floor(t.width/2),i=Math.floor(t.height/2),r=t.getContext("2d");r.save(),r.globalCompositeOperation="destination-in",r.beginPath(),0===e?r.arc(n,i,Math.min(n,i),0,2*Math.PI):r.ellipse(n,i,n,i,0,0,2*Math.PI),r.fill(),r.restore()};function vi(t){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gi(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function bi(t,e){return!e||"object"!==vi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mi(t){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xi(t,e){return(xi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wi=Phaser.Utils.Objects.GetValue,Oi=function(t){function e(t,n,i,r,o,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=bi(this,mi(e).call(this,t,n,i))).type="rexCircleMaskImage";var u=wi(s,"maskType",0);return a.setTexture(r,o,u),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xi(t,e)}(e,Qn),n=e,(i=[{key:"setTexture",value:function(t,e,n){return void 0===n?n=0:"string"==typeof n&&(n=ki[n]),this._textureKey=t,this._frameName=e,this.loadTexture(t,e),null!==n&&yi(this.canvas,n),this.dirty=!0,this}}])&&gi(n.prototype,i),r&&gi(n,r),e}(),ki={circle:0,ellipse:1},Si=Oi;r.register("circleMaskImage",function(t,e,n,i,r){var o=new Si(this.scene,t,e,n,i,r);return this.scene.add.existing(o),o}),A(window,"RexPlugins.UI.CircleMaskImage",Si);var Pi=function(t,e,n){this.textureKey=t,this.columns.data=e,this.columns.count=e?e.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.rows.data=n,this.rows.count=n?n.length:0,this.rows.stretch=0,this.rows.minHeight=0;var i=this.scene.textures.get(t);if(!i)return this.clear(),this;if(!e||!n)return this.clear(),this;for(var r=i.frames.__BASE,o=r.width,s=0,a=0,u=e.length;a<u;a++)void 0===e[a]?s++:"number"==typeof e[a]?o-=e[a]:o-=e[a].width;var c=o/s,h=r.height,l=0;for(a=0,u=n.length;a<u;a++)void 0===n[a]?l++:"number"==typeof n[a]?h-=n[a]:h-=n[a].width;for(var f,d,p,y,v=h/l,g=0,b=0,m=0,x=n.length;m<x;m++){void 0===n[m]&&(n[m]=v),"number"==typeof n[m]&&(n[m]={height:n[m],stretch:m%2}),p=(f=n[m]).height,this.rows.stretch+=0|f.stretch,this.rows.minHeight+=f.stretch>0?0:p,g=0,a=0;for(var w=e.length;a<w;a++)void 0===e[a]&&(e[a]=c),"number"==typeof e[a]&&(e[a]={width:e[a],stretch:a%2}),y=(d=e[a]).width,0===m&&(this.columns.stretch+=0|d.stretch,this.columns.minWidth+=d.stretch>0?0:y),y>=1&&p>=1&&this.getFrameNameCallback(a,m)&&i.add(this.getFrameNameCallback(a,m),0,g,b,y,p),g+=y;b+=p}return this.updateTexture(),this},Ci=function(){if(this.clear(),void 0===this.textureKey||!this.scene.textures.get(this.textureKey))return this;for(var t,e,n,i,r,o=this.width-this.columns.minWidth,s=this.height-this.rows.minHeight,a=this.columns.stretch>0?o/this.columns.stretch:0,u=this.rows.stretch>0?s/this.rows.stretch:0,c=0,h=0,l=0,f=this.rows.count;l<f;l++){r=0===(n=this.rows.data[l]).stretch?n.height:u*n.stretch,c=0;for(var d=0,p=this.columns.count;d<p;d++){var y;i=0===(e=this.columns.data[d]).stretch?e.width:a*e.stretch,(t=this.getFrameNameCallback(d,l))&&(0===n.stretch&&0===e.stretch?this.drawFrame(this.textureKey,t,c,h):i>0&&r>0&&(0===this.getStretchMode(d,l)?(void 0===this._image&&(this._image=this.scene.make.image({add:!1,origin:{x:0,y:0}})),(y=this._image).setTexture(this.textureKey,t).setDisplaySize(i,r)):(void 0===this._tileSprite&&(this._tileSprite=this.scene.make.tileSprite({add:!1,origin:{x:0,y:0}})),(y=this._tileSprite).setTexture(this.textureKey,t).setSize(i,r)),this.draw(y,c,h))),c+=i}h+=r}},Ti=Phaser.Utils.Objects.IsPlainObject,_i=Phaser.Utils.Objects.GetValue,Ei=function(t){return"string"==typeof t&&(t=ji[t]),t},ji={scale:0,repeat:1},Mi=function(t,e){return 0===t||t===this.columns.count-1||0===e||e===this.rows.count-1},Ri={setTexture:Pi,updateTexture:Ci,setStretchMode:function(t){return Ti(t)?(this.stretchMode.edge=Ei(_i(t,"edge",0)),this.stretchMode.internal=Ei(_i(t,"internal",0))):(t=Ei(t),this.stretchMode.edge=t,this.stretchMode.internal=t),this},getStretchMode:function(t,e){return Mi.call(this,t,e)?this.stretchMode.edge:this.stretchMode.internal}},Ii=function(t,e){return"".concat(t,",").concat(e)};function Di(t){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Li(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ai(t,e){return!e||"object"!==Di(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fi(t,e,n){return(Fi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zi(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function zi(t){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bi(t,e){return(Bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yi=Phaser.GameObjects.RenderTexture,Ni=Phaser.Utils.Objects.IsPlainObject,Wi=Phaser.Utils.Objects.GetValue,Hi=function(t){function e(t,n,i,r,o,s,a,u,c){var h;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ni(n)?(n=Wi(c=n,"x",0),i=Wi(c,"y",0),r=Wi(c,"width",1),o=Wi(c,"height",1),s=Wi(c,"key",void 0),a=Wi(c,"columns",void 0),u=Wi(c,"rows",void 0)):Ni(r)?(r=Wi(c=r,"width",1),o=Wi(c,"height",1),s=Wi(c,"key",void 0),a=Wi(c,"columns",void 0),u=Wi(c,"rows",void 0)):Ni(s)&&(s=Wi(c=s,"key",void 0),a=Wi(c,"columns",void 0),u=Wi(c,"rows",void 0)),(h=Ai(this,zi(e).call(this,t,n,i,r,o))).columns={},h.rows={},h.stretchMode={},h._image=void 0,h._tileSprite=void 0,h.setOrigin(.5,.5),h.setGetFrameNameCallback(Wi(c,"getFrameNameCallback",void 0)),h.setTexture(s,a,u),h.setStretchMode(Wi(c,"stretchMode",0)),h}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bi(t,e)}(e,Yi),n=e,(i=[{key:"preDestroy",value:function(){this._image&&(this._image.destroy(),this._image=void 0),this._tileSprite&&(this._tileSprite.destroy(),this._tileSprite=void 0),Fi(zi(e.prototype),"preDestroy",this).call(this)}},{key:"setGetFrameNameCallback",value:function(t){return void 0===t&&(t=Ii),this.getFrameNameCallback=t,this}},{key:"resize",value:function(t,n){return this.width===t&&this.height===n?this:(Fi(zi(e.prototype),"resize",this).call(this,t,n),this.updateTexture(),this)}},{key:"minWidth",get:function(){return this.columns.minWidth}},{key:"minHeight",get:function(){return this.rows.minHeight}}])&&Li(n.prototype,i),r&&Li(n,r),e}();Object.assign(Hi.prototype,Ri);var Vi=Hi;r.register("ninePatch",function(t,e,n,i,r,o,s,a){var u=new Vi(this.scene,t,e,n,i,r,o,s,a);return this.scene.add.existing(u),u}),A(window,"RexPlugins.UI.NinePatch",Vi);var Gi=Phaser.Utils.Objects.GetValue,Ui={id:["id",void 0],width:["width",void 0],height:["height",void 0],autoPlay:["autoplay",!0],controls:["controls",!1],loop:["loop",!1],poster:["poster",void 0],preload:["preload",void 0],muted:["muted",!1],playsInline:["playsInline",!0],crossOrigin:["crossOrigin","anonymous"]},Xi={canplay:"canplay",canplaythrough:"canplaythrough",ended:"ended",error:"error",loadstart:"loadstart",playing:"playing",pause:"pause",stalled:"stalled"},Ji=function(t){var e,n,i=this,r=document.createElement("video");for(var o in Ui)e=Ui[o],void 0!==(n=Gi(t,o,e[1]))&&(r[e[0]]=n);var s=Gi(t,"eventEmitter",void 0);if(s){var a=function(t){r.addEventListener(Xi[t],function(){s.emit(t,this)}.bind(i))};for(var u in Xi)a(u)}return r},Zi=Phaser.Utils.Objects.IsPlainObject,Ki=["webm","ogg","mp4","h264","vp9","hls"],qi=function(t,e,n){if(Zi(e))for(var i,r=0,o=Ki.length;r<o;r++)if(n[i=Ki[r]]&&e.hasOwnProperty(i)){e=e[i];break}t.src=e,t.load()};function $i(t){return($i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qi(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tr(t,e){return!e||"object"!==$i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function er(t,e,n){return(er="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nr(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function nr(t){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ir(t,e){return(ir=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rr=Phaser.Utils.Objects.GetValue,or=Phaser.Math.Clamp,sr=function(t){return function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),tr(this,nr(n).apply(this,arguments))}var i,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ir(t,e)}(n,t),i=n,(r=[{key:"createVideoElement",value:function(t){return this.video||(void 0===t&&(t={}),t.eventEmitter=this,this.video=Ji(t),this.playbackTimeChangeEventEnable=rr(t,"playbackTimeChangeEventEnable",!0)),this.video}},{key:"preDestroy",value:function(){this.scene&&(this.video&&(this.video.pause(),this.video.removeAttribute("src"),this.video.load(),this.video=void 0),er(nr(n.prototype),"preDestroy",this)&&er(nr(n.prototype),"preDestroy",this).call(this))}},{key:"preUpdate",value:function(t,e){if(this.playbackTimeChangeEventEnable){var i=this.playbackTime;i!==this.prevT&&this.emit("playbacktimechange",this),this.prevT=i}er(nr(n.prototype),"preUpdate",this)&&er(nr(n.prototype),"preUpdate",this).call(this,t,e)}},{key:"load",value:function(t){return this.video&&qi(this.video,t,this.availableVideoTypes),this}},{key:"play",value:function(){return this.video&&this.video.play(),this}},{key:"pause",value:function(){return this.video&&this.video.pause(),this}},{key:"setPlaybackTime",value:function(t){return this.playbackTime=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"setVolume",value:function(t){return this.volume=t,this}},{key:"setMute",value:function(t){return void 0===t&&(t=!0),this.muted=t,this}},{key:"setLoop",value:function(t){return void 0===t&&(t=!0),this.loop=t,this}},{key:"availableVideoTypes",get:function(){return this.scene.sys.game.device.video}},{key:"isPlaying",get:function(){if(this.video){var t=this.video;return!t.paused&&!t.ended&&t.currentTime>0}return!1}},{key:"isPaused",get:function(){return!!this.video&&this.video.paused}},{key:"playbackTime",get:function(){return this.video&&this.video.currentTime||0},set:function(t){if(this.video)try{this.video.currentTime=t}catch(t){}}},{key:"duration",get:function(){return this.video&&this.video.duration||0}},{key:"t",get:function(){if(this.video){var t=this.duration;return 0===t?0:this.playbackTime/t}return 0},set:function(t){this.video&&(this.playbackTime=this.duration*or(t,0,1))}},{key:"hasEnded",get:function(){return!!this.video&&this.video.ended}},{key:"volume",get:function(){return this.video&&this.video.volume||0},set:function(t){this.video&&(this.video.volume=t)}},{key:"muted",get:function(){return this.video&&this.video.muted||!1},set:function(t){this.video&&(this.video.muted=t)}},{key:"loop",get:function(){return!!this.video&&this.video.loop},set:function(t){this.video&&(this.video.loop=t)}},{key:"readyState",get:function(){return this.video?this.video.readyState:void 0}}])&&Qi(i.prototype,r),o&&Qi(i,o),n}()};function ar(t){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function cr(t,e){return!e||"object"!==ar(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hr(t){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lr(t,e){return(lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fr=Phaser.GameObjects.DOMElement,dr=Phaser.Utils.Objects.IsPlainObject,pr=Phaser.Utils.Objects.GetValue,yr=function(t){function e(t,n,i,r,o,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),dr(n)?(n=pr(s=n,"x",0),i=pr(s,"y",0),r=pr(s,"width",void 0),o=pr(s,"height",void 0)):dr(r)&&(r=pr(s=r,"width",void 0),o=pr(s,"height",void 0)),void 0===s&&(s={});var u=t.scale.autoRound;return void 0!==r&&(u&&(r=Math.floor(r)),s.width=r),void 0!==o&&(u&&(o=Math.floor(o)),s.height=o),(a=cr(this,hr(e).call(this,t,n,i))).type="rexVideo",a.setElement(a.createVideoElement(s)).load(pr(s,"src","")),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lr(t,e)}(e,sr(fr)),n=e,(i=[{key:"resize",value:function(t,e){return this.width===t&&this.height===e?this:(this.node.width=t,this.node.height=e,this.updateSize(),this)}}])&&ur(n.prototype,i),r&&ur(n,r),e}();r.register("video",function(t,e,n,i,r){var o=new yr(this.scene,t,e,n,i,r);return this.scene.add.existing(o),o}),A(window,"RexPlugins.UI.Video",yr);var vr=function(t,e){for(var n=document.getElementsByTagName("script"),i=!1,r=0,o=n.length;r<o;r++)if(-1!=n[r].src.indexOf(t)){i=!0;break}if(!i){var s=document.createElement("script");s.type="text/javascript",s.src=t,e&&(s.onload=e),document.getElementsByTagName("head")[0].appendChild(s)}},gr=!1,br=[],mr=function(t){gr?t():(window.onYouTubeIframeAPIReady||(window.onYouTubeIframeAPIReady=function(){gr=!0;for(var t=0,e=br.length;t<e;t++)br[t]();br=void 0},vr("https://www.youtube.com/iframe_api")),br.push(t))};function xr(t){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Or(t){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sr(t,e){return(Sr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pr=Phaser.GameObjects.DOMElement,Cr=Phaser.Utils.Objects.IsPlainObject,Tr=Phaser.Utils.Objects.GetValue,_r=Phaser.Math.Clamp,Er=function(t){function e(t,n,i,r,o,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Cr(n)?(n=Tr(s=n,"x",0),i=Tr(s,"y",0),r=Tr(s,"width",void 0),o=Tr(s,"height",void 0)):Cr(r)&&(r=Tr(s=r,"width",void 0),o=Tr(s,"height",void 0)),void 0===s&&(s={});var u,c,h=t.scale.autoRound;void 0!==r&&(h&&(r=Math.floor(r)),s.width=r+"px"),void 0!==o&&(h&&(o=Math.floor(o)),s.height=o+"px"),u=this,(a=!(c=Or(e).call(this,t,n,i))||"object"!==xr(c)&&"function"!=typeof c?kr(u):c).type="rexYoutubePlayer",a.youtubePlayer=void 0,a.videoState=void 0,a.videoId=Tr(s,"videoId",""),a.loop=Tr(s,"loop",!1),a.paddingCallbacks=[];var l="YT"+Date.now(),f=document.createElement("div");f.id=l,f.style.width=s.width,f.style.height=s.height,a.setElement(f);var d={autoplay:Tr(s,"autoPlay",!0)?1:0,controls:Tr(s,"controls",!0)?1:0,disablekb:Tr(s,"keyboardControl",!0)?0:1,modestbranding:Tr(s,"modestBranding",!1)?1:0},p=function(){var t=new YT.Player(l,{videoId:this.videoId,playerVars:d,events:{onStateChange:function(t){this.videoState=t.data,this.emit("statechange",this),this.emit(this.videoStateString,this),this.videoState===YT.PlayerState.ENDED&&this.loop&&this.youtubePlayer.playVideo()}.bind(this),onReady:function(e){this.youtubePlayer=t;for(var n=0,i=this.paddingCallbacks.length;n<i;n++)this.paddingCallbacks[n]();this.paddingCallbacks=void 0,this.emit("ready",this)}.bind(this),onError:function(t){this.lastError=t.data,this.emit("error",this,this.lastError)}.bind(this)}});this.setElement(document.getElementById(l))}.bind(kr(a));return mr(p),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sr(t,e)}(e,Pr),n=e,(i=[{key:"_runCallback",value:function(t){void 0===this.youtubePlayer?this.paddingCallbacks.push(t):t()}},{key:"load",value:function(t,e){void 0===e&&(e=!0);var n=function(){this.youtubePlayer.loadVideoById(t),e?this.youtubePlayer.playVideo():this.youtubePlayer.pauseVideo()}.bind(this);return this._runCallback(n),this}},{key:"play",value:function(){var t=function(){this.youtubePlayer.playVideo()}.bind(this);return this._runCallback(t),this}},{key:"pause",value:function(){var t=function(){this.youtubePlayer.pauseVideo()}.bind(this);return this._runCallback(t),this}},{key:"setPlaybackTime",value:function(t){return this.playbackTime=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"setVolume",value:function(t){return this.volume=t,this}},{key:"setMute",value:function(t){return void 0===t&&(t=!0),this.muted=t,this}},{key:"setLoop",value:function(t){return void 0===t&&(t=!0),this.loop=t,this}},{key:"resize",value:function(t,e){if(this.width===t&&this.height===e)return this;var n=this.node.style;return n.width=t+"px",n.height=e+"px",this.updateSize(),this}},{key:"videoStateString",get:function(){if(void 0===this.videoState||!YT)return"";switch(this.videoState){case-1:return"unstarted";case YT.PlayerState.ENDED:return"ended";case YT.PlayerState.PLAYING:return"playing";case YT.PlayerState.PAUSED:return"pause";case YT.PlayerState.BUFFERING:return"buffering";case YT.PlayerState.CUED:return"cued"}}},{key:"isPlaying",get:function(){return 1===this.videoState}},{key:"isPaused",get:function(){return 2===this.videoState}},{key:"playbackTime",get:function(){return this.youtubePlayer?this.youtubePlayer.getCurrentTime():0},set:function(t){var e=function(){this.youtubePlayer.seekTo(t)}.bind(this);this._runCallback(e)}},{key:"duration",get:function(){return this.youtubePlayer?this.youtubePlayer.getDuration():0}},{key:"t",get:function(){var t=this.duration;return 0===t?0:this.playbackTime/t},set:function(t){var e=function(){t=_r(t,0,1),this.playbackTime=this.duration*_r(t,0,1)}.bind(this);this._runCallback(e)}},{key:"hasEnded",get:function(){return 0===this.videoState}},{key:"volume",get:function(){return this.youtubePlayer?this.youtubePlayer.getVolume()/100:0},set:function(t){var e=function(){this.youtubePlayer.setVolume(_r(100*t,0,100))}.bind(this);this._runCallback(e)}},{key:"muted",get:function(){return!!this.youtubePlayer&&this.youtubePlayer.isMuted()},set:function(t){var e=function(){t?this.youtubePlayer.mute():this.youtubePlayer.unMute()}.bind(this);this._runCallback(e)}}])&&wr(n.prototype,i),r&&wr(n,r),e}();r.register("youtubePlayer",function(t,e,n,i,r){var o=new Er(this.scene,t,e,n,i,r);return this.scene.add.existing(o),o}),A(window,"RexPlugins.UI.YoutubePlayer",Er);var jr,Mr=function(t){return t.hasOwnProperty("rexSizer")||(t.rexSizer={}),t.rexSizer},Rr=function(t,e){void 0===e&&(void 0===jr&&(jr=new Phaser.Geom.Rectangle),e=jr);var n=t.game.config;return e.setTo(0,0,n.width,n.height),e},Ir=function(t){return void 0===t&&(t=Rr(this.scene)),this.left=Math.max(this.left,t.left),this.right=Math.min(this.right,t.right),this.top=Math.max(this.top,t.top),this.bottom=Math.min(this.bottom,t.bottom),this},Dr=new Phaser.Geom.Rectangle,Lr=function(t,e){void 0===e&&(e=16777215);for(var n,i=this.getAllChildren([this]),r=0,o=i.length;r<o;r++)(n=i[r]).getBounds&&t.lineStyle(1,e).strokeRectShape(n.getBounds(Dr));return this},Ar=function(t,e){return void 0===this.childrenMap&&(this.childrenMap={}),this.childrenMap[t]=e,this},Fr=function t(e,n){var i;for(var r in void 0===n&&(n=[]),e)void 0!==(i=e[r]).name?n.push(i):t(i,n);return n},zr=/(\S+)\[(\d+)\]/i,Br=[],Yr=function(t){if(void 0!==this.childrenMap&&("string"==typeof t&&(t=t.split(".")),0!==t.length)){var e,n=t.shift();if("#"===n.charAt(0)){n=n.substring(1);for(var i=0,r=(o=Fr(this.childrenMap,Br)).length;i<r;i++)if(o[i].name===n){e=o[i];break}Br.length=0}else if(-1===n.indexOf("["))e=this.childrenMap[n];else{var o,s=n.match(zr);null!=s&&(o=this.childrenMap[s[1]])&&(e=o[s[2]])}return 0===t.length?e:e&&e.childrenMap?e.getElement(t):null}},Nr=function(){return 0},Wr=function(){return 0},Hr=function(t){void 0===t&&(t=[]);for(var e=t.length,n=this.getChildrenSizers(t),i=t.length,r=e;r<i;r++)n[r].getAllChildrenSizers(t);return t},Vr=function(t){return void 0===t&&(t=[]),t},Gr=function(t){if(!t)for(var e,n=this.getAllChildrenSizers([this]),i=0,r=n.length;i<r;i++)(e=n[i]).rexSizer&&e._layoutInit()},Ur=function(t,e,n){return this.rexSizer.hidden?this:(this.preLayout(),this.postLayout())},Xr=function(t,e,n){return this._anchor&&this._anchor.updatePosition(),this},Jr=function(){},Zr=Phaser.Geom.Rectangle,Kr=function(t,e){void 0===e&&(e=new Zr);var n=t.canvasBounds,i=t.displayScale,r=t.autoCenter;return e.x=n.x>=0?0:-n.x*i.x,e.y=n.y>=0?0:-n.y*i.y,e.width=n.width*i.x-e.x,e.height=n.height*i.y-e.y,1!==r&&2!==r||(e.width-=e.x),1!==r&&3!==r||(e.height-=e.y),e};function qr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var $r=Phaser.Geom.Rectangle,Qr=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.viewport=new $r,this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){var e,n,i,r,o,s,a,u;return void 0!==t.x?(e=null,n=t.x):void 0!==t.left?(e=0,n=t.left):void 0!==t.right?(e=1,n=t.right):void 0!==t.centerX&&(e=.5,n=t.centerX),void 0!==t.y?(i=null,r=t.y):void 0!==t.top?(i=0,r=t.top):void 0!==t.bottom?(i=1,r=t.bottom):void 0!==t.centerY&&(i=.5,r=t.centerY),void 0!==n&&(n=n.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),o=parseFloat(n[0])/100,s=""===n[1]?0:parseFloat(n[1])),void 0!==r&&(r=r.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),a=parseFloat(r[0])/100,u=""===r[1]?0:parseFloat(r[1])),this.setAlign(e,i),this.setPercentage(o,a),this.setOffset(s,u),this}},{key:"boot",value:function(){this.scaleManamger.on("resize",this.anchor,this),this.gameObject.once("destroy",this.destroy,this),this.anchor()}},{key:"shutdown",value:function(){this.scaleManamger.off("resize",this.anchor,this),this.gameObject=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setAlign",value:function(t,e){return this.alignX=t,this.alignY=e,this}},{key:"setPercentage",value:function(t,e){return this.percentageX=t,this.percentageY=e,this}},{key:"setOffset",value:function(t,e){return this.offsetX=t,this.offsetY=e,this}},{key:"anchor",value:function(){return Kr(this.scaleManamger,this.viewport),this.updatePosition(),this}},{key:"updatePosition",value:function(){var t=this.gameObject;return null===this.alignX?t.x=this.anchorX:void 0!==this.alignX&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),null===this.alignY?this.gameObject.y=this.anchorY:void 0!==this.alignY&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}},{key:"scaleManamger",get:function(){return this.gameObject.scene.scale}},{key:"anchorX",get:function(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}},{key:"anchorY",get:function(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}}])&&qr(e.prototype,n),i&&qr(e,i),t}(),to=function(t){return void 0===this._anchor?this._anchor=new Qr(this,t):this._anchor.resetFromJSON(t),this},eo={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown()},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(){return this._eventEmitter&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}},no=Phaser.Scene,io=function(t){return t instanceof no},ro=function(t){return io(t)?t:t.scene&&io(t.scene)?t.scene:t.parent&&t.parent.scene&&io(t.parent.scene)?t.parent.scene:void 0};function oo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var so=Phaser.Utils.Objects.GetValue,ao=Phaser.Utils.Objects.GetAdvancedValue,uo=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=ro(e),this.scaleStart={},this.scaleEnd={},this.tween=void 0,this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setMode(so(t,"mode",0)),this.setScaleRange(ao(t,"start",void 0),ao(t,"end",0)),this.setDelay(ao(t,"delay",0)),this.setDuration(ao(t,"duration",1e3)),this.setEase(so(t,"ease",void 0)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.scaleStart,end:this.scaleEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=co[t]),this.mode=t,this}},{key:"setScaleRange",value:function(t,e){return"number"==typeof t?(this.scaleStart.x=t,this.scaleStart.y=t):(this.scaleStart.x=so(t,"x",this.gameObject.scaleX),this.scaleStart.y=so(t,"y",this.gameObject.scaleY)),"number"==typeof e?(this.scaleEnd.x=e,this.scaleEnd.y=e):(this.scaleEnd.x=so(e,"x",this.scaleStart.x),this.scaleEnd.y=so(e,"y",this.scaleStart.y)),this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setEase",value:function(t){return void 0===t&&(t="Linear"),this.ease=t,this}},{key:"start",value:function(){return this.tween?this:0===this.duration?(this.gameObject.setScale(this.scaleEnd.x,this.scaleEnd.y),this.complete(),this):(this.gameObject.setScale(this.scaleStart.x,this.scaleStart.y),this.tween=this.scene.tweens.add({targets:this.gameObject,scaleX:this.scaleEnd.x,scaleY:this.scaleEnd.y,duration:this.duration,ease:this.ease,yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this.setEventEmitter(this.tween),this)}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.setEventEmitter(!1),this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&oo(e.prototype,n),i&&oo(e,i),t}();Object.assign(uo.prototype,eo);var co={stop:0,destroy:1,yoyo:2},ho=uo,lo={},fo=function(t,e,n,i,r){switch(lo.mode=0,n){case 0:case"x":lo.start={x:0};break;case 1:case"y":lo.start={y:0};break;default:lo.start=0}return lo.end=1,lo.duration=e,lo.ease=void 0===i?"Cubic":i,void 0===r?r=new ho(t,lo):r.resetFromJSON(lo),r.restart(),r},po=Phaser.Utils.Objects.IsPlainObject,yo=Phaser.Utils.Objects.GetValue,vo={},go=function(t,e,n,i,r,o){switch(r instanceof ho&&(o=r,r=void 0),void 0===r&&(r=!0),vo.mode=r?1:0,n){case 0:case"x":vo.end={x:0};break;case 1:case"y":vo.end={y:0};break;default:vo.end=0}return vo.duration=e,vo.ease=void 0===i?"Linear":i,void 0===o?o=new ho(t,vo):o.resetFromJSON(vo),o.restart(),o},bo=Phaser.Utils.Objects.IsPlainObject,mo=Phaser.Utils.Objects.GetValue;function xo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var wo=Phaser.Utils.Objects.GetValue,Oo=Phaser.Utils.Objects.GetAdvancedValue,ko=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=ro(e),this.alphaStart=void 0,this.alphaEnd=void 0,this.tween=void 0,this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setMode(wo(t,"mode",0)),this.setAlphaRange(Oo(t,"start",this.gameObject.alpha),Oo(t,"end",0)),this.setDelay(Oo(t,"delay",0)),this.setDuration(Oo(t,"duration",1e3)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.alphaStart,end:this.alphaEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=So[t]),this.mode=t,this}},{key:"setAlphaRange",value:function(t,e){return this.alphaStart=t,this.alphaEnd=e,this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"start",value:function(){return this.tween?this:0===this.duration?(this.gameObject.setAlpha(this.alphaEnd),this.complete(),this):(this.gameObject.setAlpha(this.alphaStart),this.tween=this.scene.tweens.add({targets:this.gameObject,alpha:this.alphaEnd,delay:this.delay,duration:this.duration,ease:"Linear",yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this.setEventEmitter(this.tween),this)}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.setEventEmitter(!1),this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&xo(e.prototype,n),i&&xo(e,i),t}();Object.assign(ko.prototype,eo);var So={stop:0,destroy:1,yoyo:2},Po=ko,Co={},To=function(t,e,n,i){return void 0===n&&(n=t.alpha),Co.mode=0,Co.start=0,Co.end=n,Co.duration=e,void 0===i?i=new Po(t,Co):i.resetFromJSON(Co),i.restart(),i},_o=Phaser.Utils.Objects.IsPlainObject,Eo=Phaser.Utils.Objects.GetValue,jo={},Mo=function(t,e,n,i){return n instanceof Po&&(i=n,n=void 0),void 0===n&&(n=!0),jo.mode=n?1:0,jo.end=0,jo.duration=e,void 0===i?i=new Po(t,jo):i.resetFromJSON(jo),i.restart(),i},Ro=Phaser.Utils.Objects.IsPlainObject,Io=Phaser.Utils.Objects.GetValue,Do=void 0,Lo=function(t,e,n,i){if(void 0===Do&&(Do=new Phaser.Geom.Rectangle),t.getBounds(Do),e)return!(n&&!n(t,e)||!Do.contains(e.x,e.y)||i&&!i(t,e));for(var r=t.scene.input.manager,o=r.pointersTotal,s=r.pointers,a=0;a<o;a++)if(e=s[a],(!n||n(t,e))&&Do.contains(e.x,e.y)&&(!i||i(t,e)))return!0;return!1},Ao=function(t){return Mr(t).parent},Fo=function(t){for(var e=Ao(t);e;)t=e,e=Ao(e);return t},zo=function(t,e,n){!t||void 0===e&&void 0===n||(t.resize?(void 0===e&&(e=t.width),void 0===n&&(n=t.height),t.resize(e,n)):(void 0!==e&&(t.displayWidth=e),void 0!==n&&(t.displayHeight=n)))},Bo=new Phaser.GameObjects.Zone({sys:{queueDepthSort:k,events:{once:k}}},0,0,1,1);Bo.setOrigin(0);var Yo=Bo,No=n(38),Wo=n.n(No),Ho=Phaser.Display.Align.CENTER;function Vo(t){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Go=function(t,e,n){var i=this.getTopmostSizer();i.x+=e-this.x,i.y+=n-this.y},Uo={getSizerConfig:Mr,pushIntoBounds:Ir,drawBounds:Lr,getChildrenWidth:Nr,getChildrenHeight:Wr,addChildrenMap:Ar,addElement:Ar,getElement:Yr,getAllChildrenSizers:Hr,getChildrenSizers:Vr,preLayout:Gr,_layoutInit:Jr,layout:Ur,layoutBackgrounds:function(){if(void 0!==this.backgroundChildren)for(var t,e=this.backgroundChildren,n=this.left,i=this.top,r=this.width,o=this.height,s=0,a=e.length;s<a;s++)(t=e[s]).rexSizer.hidden||(zo(t,r,o),Yo.setPosition(n,i).setSize(r,o),Wo()(t,Yo,Ho),this.resetChildPositionState(t))},postLayout:Xr,setAnchor:to,popUp:function(t,e,n){if(po(t)){var i=t;t=yo(i,"duration",void 0),e=yo(i,"orientation",void 0),n=yo(i,"ease",void 0)}return this._scale=fo(this,t,e,n,this._scale),this},scaleDownDestroy:function(t,e,n,i){if(bo(t)){var r=t;t=mo(r,"duration",void 0),e=mo(r,"orientation",void 0),n=mo(r,"ease",void 0),i=mo(r,"destroy",void 0)}return this._scale=go(this,t,e,n,i,this._scale),this},fadeIn:function(t){_o(t)&&(t=Eo(t,"duration",void 0));return this._fade=To(this,t,this._fade),this},fadeOutDestroy:function(t,e){if(Ro(t)){var n=t;t=Io(n,"duration",void 0),e=Io(n,"destroy",void 0)}return this._fade=Mo(this,t,e,this._fade),this},isInTouching:function(t){return Lo(this,t)},getParentSizer:function(){return Ao(this)},getTopmostSizer:function(){return Fo(this)},setDraggable:function(t,e){var n=Vo(t);return"string"===n?t=this.getElement(t):void 0!==t&&"object"==n||(e=t,t=this),void 0===e&&(e=!0),t.input&&t.input.hasOwnProperty("draggable")?t.input.draggable=e:e&&(t.setInteractive(),t.scene.input.setDraggable(t),t.on("drag",Go,this)),this}};function Xo(t){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Zo(t,e){return!e||"object"!==Xo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ko(t,e,n){return(Ko="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qo(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function qo(t){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $o(t,e){return($o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qo=Phaser.Utils.Objects.GetValue,ts=function(t){function e(t,n,i,r,o,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=Zo(this,qo(e).call(this,t,n,i,2,2))).isRexSizer=!0,a.setMinSize(r,o),a.setName(Qo(s,"name","")),a.rexSizer={},a.backgroundChildren=void 0;var u=Qo(s,"anchor",void 0);return u&&a.setAnchor(u),a.setDraggable(Qo(s,"draggable",!1)),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$o(t,e)}(e,zn),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(void 0!==this.backgroundChildren&&(this.backgroundChildren.length=0),Ko(qo(e.prototype),"destroy",this).call(this,t))}},{key:"setMinSize",value:function(t,e){return this.setMinWidth(t).setMinHeight(e),this}},{key:"setMinWidth",value:function(t){return null==t&&(t=0),this.minWidth=t,this}},{key:"setMinHeight",value:function(t){return null==t&&(t=0),this.minHeight=t,this}},{key:"alignLeft",value:function(t){return this.left=t,this}},{key:"alignRight",value:function(t){return this.right=t,this}},{key:"alignCenterX",value:function(t){return this.centerX=t,this}},{key:"alignTop",value:function(t){return this.top=t,this}},{key:"alignBottom",value:function(t){return this.bottom=t,this}},{key:"alignCenterY",value:function(t){return this.centerY=t,this}},{key:"pin",value:function(t){return Ko(qo(e.prototype),"add",this).call(this,t),this}},{key:"addBackground",value:function(t,n){return void 0===this.backgroundChildren&&(this.backgroundChildren=[]),Ko(qo(e.prototype),"add",this).call(this,t),this.getSizerConfig(t).parent=this,this.backgroundChildren.push(t),void 0!==n&&this.addChildrenMap(n,t),this}},{key:"childrenWidth",get:function(){return void 0===this._childrenWidth&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}},{key:"childrenHeight",get:function(){return void 0===this._childrenHeight&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}},{key:"left",get:function(){return this.x-this.displayWidth*this.originX},set:function(t){this.x+=t-this.left}},{key:"right",get:function(){return this.left+this.displayWidth},set:function(t){this.x+=t-this.right}},{key:"centerX",get:function(){return this.left+this.displayWidth/2},set:function(t){this.x+=t-this.centerX}},{key:"top",get:function(){return this.y-this.displayHeight*this.originY},set:function(t){this.y+=t-this.top}},{key:"bottom",get:function(){return this.top+this.displayHeight},set:function(t){this.y+=t-this.bottom}},{key:"centerY",get:function(){return this.top+this.displayHeight/2},set:function(t){this.y+=t-this.centerY}}])&&Jo(n.prototype,i),r&&Jo(n,r),e}();Object.assign(ts.prototype,Uo);var es=ts,ns=function(t,e){var n,i=e.rexSizer,r=i.padding;return 0===t.orientation?i.proportion>0&&t.proportionLength>0&&(n=i.proportion*t.proportionLength):i.expand&&(n=t.width-r.left-r.right),n},is=function(t,e){var n,i=e.rexSizer,r=i.padding;return 0===t.orientation?i.expand&&(n=t.height-r.top-r.bottom):i.proportion>0&&t.proportionLength>0&&(n=i.proportion*t.proportionLength),n},rs={getChildrenWidth:function(t){if(this.rexSizer.hidden)return 0;void 0===t&&(t=!0);var e,n,i,r=0,o=this.sizerChildren;if(0===this.orientation)for(var s=0,a=o.length;s<a;s++)(e=o[s]).rexSizer.hidden||(i=0===e.rexSizer.proportion||t&&!e.isRexSpace&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.displayWidth:0,r+=i+=(n=e.rexSizer.padding).left+n.right);else for(s=0,a=o.length;s<a;s++)(e=o[s]).hasOwnProperty("rexSizer")&&(e.rexSizer.hidden||(i=e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.displayWidth,i+=(n=e.rexSizer.padding).left+n.right,r=Math.max(i,r)));return r},getChildrenHeight:function(t){if(this.rexSizer.hidden)return 0;void 0===t&&(t=!0);var e,n,i,r=0,o=this.sizerChildren;if(0===this.orientation)for(var s=0,a=o.length;s<a;s++)(e=o[s]).rexSizer.hidden||(i=e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.displayHeight,i+=(n=e.rexSizer.padding).top+n.bottom,r=Math.max(i,r));else for(s=0,a=o.length;s<a;s++)(e=o[s]).hasOwnProperty("rexSizer")&&(e.rexSizer.hidden||(i=0===e.rexSizer.proportion||t&&!e.isRexSpace&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.displayHeight:0,r+=i+=(n=e.rexSizer.padding).top+n.bottom));return r},getChildrenProportion:function(){for(var t,e,n=0,i=this.sizerChildren,r=0,o=i.length;r<o;r++)(t=i[r]).rexSizer.hidden||(e=t.rexSizer.proportion)>0&&(n+=e);return n},getChildrenSizers:function(t){void 0===t&&(t=[]);for(var e,n=this.sizerChildren,i=0,r=n.length;i<r;i++)(e=n[i]).isRexSizer&&t.push(e);return t},layout:function(t,e,n){if(this.rexSizer.hidden)return this;var i;if(this.preLayout(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===n&&(n=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,n),this.childrenProportion>0){var r=0===this.orientation?this.width-this.childrenWidth:this.height-this.childrenHeight;i=r>0?(r=0===this.orientation?this.width-this.getChildrenWidth(!1):this.height-this.getChildrenHeight(!1))/this.childrenProportion:0}else i=0;this.proportionLength=i;for(var o,s,a,u,c,h,l,f,d,p=this.sizerChildren,y=this.left,v=this.top,g=0,b=p.length;g<b;g++)(o=p[g]).rexSizer.hidden||(a=(s=o.rexSizer).padding,f=ns(this,o),d=is(this,o),o.isRexSizer?o.layout(this,f,d):zo(o,f,d),void 0===f&&(f=o.displayWidth),void 0===d&&(d=o.displayHeight),0===this.orientation?(u=y+a.left,h=0===s.proportion||0===i?f:s.proportion*i,c=v+a.top,l=this.height-a.top-a.bottom):(u=y+a.left,h=this.width-a.left-a.right,c=v+a.top,l=0===s.proportion||0===i?d:s.proportion*i),Yo.setPosition(u,c).setSize(h,l),Wo()(o,Yo,s.align),this.resetChildPositionState(o),0===this.orientation?y+=h+a.left+a.right:v+=l+a.top+a.bottom);return this.layoutBackgrounds(),this.postLayout()},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0,this._childrenProportion=void 0}},os=Phaser.Utils.Objects.GetValue,ss=function(t,e){return void 0===e&&(e={}),"number"==typeof t?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=os(t,"left",0),e.right=os(t,"right",0),e.top=os(t,"top",0),e.bottom=os(t,"bottom",0)),e},as={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},us=Phaser.Display.Align,cs={center:us.CENTER,left:us.LEFT_CENTER,right:us.RIGHT_CENTER,top:us.TOP_CENTER,bottom:us.BOTTOM_CENTER,"left-top":us.TOP_LEFT,"left-center":us.LEFT_CENTER,"left-bottom":us.LEFT_BOTTOM,"center-top":us.TOP_CENTER,"center-center":us.CENTER,"center-bottom":us.BOTTOM_CENTER,"right-top":us.TOP_RIGHT,"right-center":us.RIGHT_CENTER,"right-bottom":us.RIGHT_BOTTOM},hs=function(t){var e=t.add.zone(0,0,1,1);return e.isRexSpace=!0,e};function ls(t){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fs(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ds(t,e){return!e||"object"!==ls(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ps(t,e,n){return(ps="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ys(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vs(t,e){return(vs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gs=Phaser.Utils.Objects.IsPlainObject,bs=Phaser.Utils.Objects.GetValue,ms=Phaser.Utils.Array.Remove,xs=Phaser.Display.Align.CENTER,ws=function(t){function e(t,n,i,r,o,s,a){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gs(n)?(n=bs(a=n,"x",0),i=bs(a,"y",0),r=bs(a,"width",void 0),o=bs(a,"height",void 0)):gs(r)?(r=bs(a=r,"width",void 0),o=bs(a,"height",void 0)):gs(s)&&(a=s),void 0!==a&&(s=bs(a,"orientation",0)),void 0===s&&(s=0),(u=ds(this,ys(e).call(this,t,n,i,r,o,a))).type="rexSizer",u.sizerChildren=[],u.setOrientation(s),u}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vs(t,e)}(e,es),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.length=0,ps(ys(e.prototype),"destroy",this).call(this,t))}},{key:"setOrientation",value:function(t){return"string"==typeof t&&(t=as[t]),this.orientation=t,this}},{key:"add",value:function(t,n,i,r,o,s){ps(ys(e.prototype),"add",this).call(this,t);var a=ls(n);if(null===n)return this;if("number"===a);else if("string"===a)n=Os[n];else if(gs(n)){var u;n=bs(u=n,"proportion",0),i=bs(u,"align",xs),r=bs(u,"padding",0),o=bs(u,"expand",!1),s=bs(u,"key",void 0)}return"string"==typeof i&&(i=cs[i]),void 0===n&&(n=0),void 0===i&&(i=xs),void 0===r&&(r=0),void 0===o&&(o=!1),(u=this.getSizerConfig(t)).parent=this,u.proportion=n,u.align=i,u.padding=ss(r),u.expand=o,this.sizerChildren.push(t),void 0!==s&&this.addChildrenMap(s,t),this}},{key:"addSpace",value:function(t){return void 0===t&&(t=1),this.add(hs(this.scene),t),this}},{key:"insert",value:function(t,e,n,i,r,o){return this.add(e,n,i,r,o),this.moveTo(e,t),this}},{key:"remove",value:function(t){var n=this.getSizerConfig(t);return n.parent!==this?this:(n.parent=void 0,ms(this.sizerChildren,t),ps(ys(e.prototype),"remove",this).call(this,t),this)}},{key:"clear",value:function(t){for(var n=0,i=this.sizerChildren.length;n<i;n++)this.getSizerConfig(this.sizerChildren[n]).parent=void 0;return this.sizerChildren.length=0,ps(ys(e.prototype),"clear",this).call(this,t),this}},{key:"childrenProportion",get:function(){return void 0===this._childrenProportion&&(this._childrenProportion=this.getChildrenProportion()),this._childrenProportion}}])&&fs(n.prototype,i),r&&fs(n,r),e}();Object.assign(ws.prototype,rs);var Os={min:0,full:-1},ks=ws;r.register("sizer",function(t,e,n,i,r,o){var s=new ks(this.scene,t,e,n,i,r,o);return this.scene.add.existing(s),s}),A(window,"RexPlugins.UI.Sizer",ks);var Ss=function(t,e){var n,i=t.rexSizer;if(i.expand){var r=i.padding;n=e-r.left-r.right}return n},Ps=function(t,e){var n,i=t.rexSizer;if(i.expand){var r=i.padding;n=e-r.top-r.bottom}return n},Cs={getChildrenWidth:function(){if(this.rexSizer.hidden)return 0;for(var t,e,n,i,r,o=0,s=this.gridChildren,a=0;a<this.columnCount;a++){if(t=0,void 0===(r=this.columnProportions[a])||0===r){for(var u=0;u<this.rowCount;u++)(e=s[u*this.columnCount+a])&&(e.rexSizer.hidden||(i=e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.displayWidth,i+=(n=e.rexSizer.padding).left+n.right,t=Math.max(t,i)));o+=t}this.columnWidth[a]=t}return o},getChildrenHeight:function(){if(this.rexSizer.hidden)return 0;for(var t,e,n,i,r,o=0,s=this.gridChildren,a=0;a<this.rowCount;a++){if(t=0,void 0===(r=this.rowProportions[a])||0===r){for(var u=0;u<this.columnCount;u++)(e=s[a*this.columnCount+u])&&(e.rexSizer.hidden||(i=e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.displayHeight,i+=(n=e.rexSizer.padding).top+n.bottom,t=Math.max(t,i)));o+=t}this.rowHeight[a]=t}return o},getChildrenSizers:function(t){void 0===t&&(t=[]);for(var e,n=this.gridChildren,i=0,r=n.length;i<r;i++)(e=n[i])&&e.isRexSizer&&t.push(e);return t},layout:function(t,e,n){if(this.rexSizer.hidden)return this;this.preLayout(t);var i,r,o,s,a=this.totalColumnProportions,u=this.totalRowProportions;if(void 0===e)if(t&&a>0){var c=this.rexSizer.padding;e=t.width-c.left-c.right}else e=Math.max(this.childrenWidth,this.minWidth);if(void 0===n)if(t&&u>0){var c=this.rexSizer.padding;n=t.height-c.top-c.bottom}else n=Math.max(this.childrenHeight,this.minHeight);this.resize(e,n),i=a>0?(this.width-this.childrenWidth)/a:0,r=u>0?(this.height-this.childrenHeight)/u:0;for(var h,l,f,d,p,y,v,g,b,m,x=this.left,w=x,O=this.top,k=0;k<this.rowCount;k++){m=0===(g=this.rowProportions[k]||0)?this.rowHeight[k]:g*r,w=x;for(var S=0;S<this.columnCount;S++)b=0===(v=this.columnProportions[S]||0)?this.columnWidth[S]:v*i,(o=this.gridChildren[k*this.columnCount+S])&&!o.rexSizer.hidden?(p=Ss(o,b),y=Ps(o,m),o.isRexSizer?o.layout(this,p,y):zo(o,p,y),h=w+(c=(s=o.rexSizer).padding).left,f=b-c.left-c.right,l=O+c.top,d=m-c.top-c.bottom,Yo.setPosition(h,l).setSize(f,d),Wo()(o,Yo,s.align),this.resetChildPositionState(o),w+=b):w+=b;O+=m}return this.layoutBackgrounds(),this.postLayout()},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0}};function Ts(t){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Es(t,e){return!e||"object"!==Ts(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function js(t,e,n){return(js="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ms(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Ms(t){return(Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rs(t,e){return(Rs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Is=Phaser.Utils.Objects.IsPlainObject,Ds=Phaser.Utils.Objects.GetValue,Ls=Phaser.Utils.Array.Remove,As=Phaser.Display.Align.CENTER,Fs=function(t){function e(t,n,i,r,o,s,a,u,c){var h,l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Is(n)?(n=Ds(l=n,"x",0),i=Ds(l,"y",0),r=Ds(l,"width",void 0),o=Ds(l,"height",void 0),s=Ds(l,"column",0),a=Ds(l,"row",0),u=Ds(l,"columnProportions",void 0),c=Ds(l,"rowProportions",void 0)):Is(r)?(r=Ds(l=r,"width",void 0),o=Ds(l,"height",void 0),s=Ds(l,"column",0),a=Ds(l,"row",0),u=Ds(l,"columnProportions",void 0),c=Ds(l,"rowProportions",void 0)):Is(s)?(s=Ds(l=s,"column",0),a=Ds(l,"row",0),u=Ds(l,"columnProportions",void 0),c=Ds(l,"rowProportions",void 0)):Is(u)&&(u=Ds(l=u,"columnProportions",void 0),c=Ds(l,"rowProportions",void 0)),(h=Es(this,Ms(e).call(this,t,n,i,r,o,l))).type="rexGridSizer",h.initialGrid(s,a,u,c),h}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rs(t,e)}(e,es),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(this.gridChildren.length=0,js(Ms(e.prototype),"destroy",this).call(this,t))}},{key:"setColumnProportion",value:function(t,e){return t>=this.columnProportions.length?this:(this.columnProportions[t]=e,this)}},{key:"setRowProportion",value:function(t,e){return t>=this.rowProportions.length?this:(this.rowProportions[t]=e,this)}},{key:"add",value:function(t,n,i,r,o,s,a){var u;(js(Ms(e.prototype),"add",this).call(this,t),Is(n))&&(n=Ds(u=n,"column",0),i=Ds(u,"row",0),r=Ds(u,"align",As),o=Ds(u,"padding",0),s=Ds(u,"expand",!1),a=Ds(u,"key",void 0));return"string"==typeof r&&(r=cs[r]),void 0===r&&(r=As),void 0===o&&(o=0),void 0===s&&(s=!0),(u=this.getSizerConfig(t)).parent=this,u.align=r,u.padding=ss(o),u.expand=s,this.gridChildren[i*this.columnCount+n]=t,void 0!==a&&this.addChildrenMap(a,t),this}},{key:"remove",value:function(t){var n=this.getSizerConfig(t);return n.parent!==this?this:(n.parent=void 0,Ls(this.gridChildren,t),void 0!==this.backgroundChildren&&Ls(this.backgroundChildren,t),js(Ms(e.prototype),"remove",this).call(this,t),this)}},{key:"initialGrid",value:function(t,e,n,i){if(this.columnCount=t,this.rowCount=e,this.gridChildren=[],this.gridChildren.length=t*e,this.columnProportions=[],this.columnProportions.length=t,this.columnWidth=[],this.columnWidth.length=t,this.rowProportions=[],this.rowProportions.length=e,this.rowHeight=[],this.rowHeight.length=e,n)for(var r="number"==typeof n,o=0;o<t;o++)if(r)this.setColumnProportion(o,n);else{var s=n[o];s>0&&this.setColumnProportion(o,s)}if(i){var a="number"==typeof i;for(o=0;o<e;o++)if(a)this.setRowProportion(o,i);else{var u=i[o];u>0&&this.setRowProportion(o,u)}}return this}},{key:"totalColumnProportions",get:function(){for(var t,e=0,n=0;n<this.columnCount;n++)(t=this.columnProportions[n])>0&&(e+=t);return e}},{key:"totalRowProportions",get:function(){for(var t,e=0,n=0;n<this.rowCount;n++)(t=this.rowProportions[n])>0&&(e+=t);return e}}])&&_s(n.prototype,i),r&&_s(n,r),e}();Object.assign(Fs.prototype,Cs);var zs=Fs;r.register("gridSizer",function(t,e,n,i,r,o,s,a){var u=new zs(this.scene,t,e,n,i,r,o,s,a);return this.scene.add.existing(u),u}),A(window,"RexPlugins.UI.GridSizer",zs);var Bs=function(t){var e=t.rexSizer.padding;return t.displayWidth+e.left+e.right},Ys=function(t){var e=t.rexSizer.padding;return t.displayHeight+e.top+e.bottom},Ns=function(t,e){return 0===e?Bs(t):Ys(t)},Ws=function(t,e){return 0===e?Ys(t):Bs(t)},Hs=function(t){for(var e,n,i,r,o={lines:[],width:0,height:0},s=this.sizerChildren,a=0,u=o.lines,c=0,h=s.length;c<h;c++){if("\n"===(e=s[c]))e=void 0,n=0,r=!0;else{if(e.rexSizer.hidden)continue;e.isRexSizer&&e.layout(),r=a<(n=Ns(e,this.orientation))}if(r){if(i){var l=t-(a+this.itemSpacing);o.width=Math.max(o.width,l),o.height+=i.height+this.lineSpacing}i={children:[],remainder:0,height:0},u.push(i),a=t}a-=n+this.itemSpacing,i.remainder=a,e&&(i.children.push(e),i.height=Math.max(i.height,Ws(e,this.orientation)))}return i&&(o.height+=i.height),o},Vs={getChildrenWidth:function(){return this.rexSizer.hidden?0:(t=0===this.orientation?this.maxChildWidth:0,t=Math.max(t,this.minWidth));var t},getChildrenHeight:function(){return this.rexSizer.hidden?0:(t=0===this.orientation?0:this.maxChildHeight,t=Math.max(t,this.minHeight));var t},getChildrenSizers:function(t){void 0===t&&(t=[]);for(var e,n=this.sizerChildren,i=0,r=n.length;i<r;i++)"\n"!==(e=n[i])&&e.isRexSizer&&t.push(e);return t},layout:function(t,e,n){if(this.rexSizer.hidden)return this;if(this.preLayout(t),void 0===e){var i=this.padding;e=Math.max(this.maxChildWidth+i.left+i.right,this.minWidth)}void 0===n&&(i=this.padding,n=Math.max(this.maxChildHeight+i.top+i.bottom,this.minHeight));var r;i=this.padding;r=0===this.orientation?e-i.left-i.right:n-i.top-i.bottom;var o,s,a=Hs.call(this,r);0===this.orientation?n=Math.max(n,a.height+i.top+i.bottom):e=Math.max(e,a.height+left+i.right),this.resize(e,n);var u,c,h,l,f,d,p,y,v=this.left,g=this.top,b=a.lines;0===this.orientation?(u=v,c=g+this.padding.top):(u=v+this.padding.left,c=g);for(var m=0,x=b.length;m<x;m++){for(var w=0,O=(y=(p=b[m]).children).length;w<O;w++)i=(s=(o=y[w]).rexSizer).padding,0===this.orientation?(h=u+i.left,h+=0===w?this.padding.left:this.itemSpacing,l=c+i.top,f=o.displayWidth,d=o.displayHeight,u=h+o.displayWidth+i.right):(h=u+i.left,l=c+i.top,l+=0===w?this.padding.top:this.itemSpacing,f=o.displayWidth,d=o.displayHeight,c=l+o.displayHeight+i.bottom),Yo.setPosition(h,l).setSize(f,d),Wo()(o,Yo,s.align),this.resetChildPositionState(o);0===this.orientation?(u=v,c+=p.height+this.lineSpacing):(u+=p.height+this.lineSpacing,c=g)}return this.layoutBackgrounds(),this.postLayout()}},Gs=function(t){void 0===t&&(t=this.sizerChildren);for(var e,n=0,i=0,r=t.length;i<r;i++)"\n"!==(e=t[i])&&(n=Math.max(n,Bs(e)));return n},Us=function(t){void 0===t&&(t=this.sizerChildren);for(var e,n=0,i=0,r=t.length;i<r;i++)"\n"!==(e=t[i])&&(n=Math.max(n,Ys(e)));return n};function Xs(t){return(Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Js(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Zs(t,e){return!e||"object"!==Xs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ks(t,e,n){return(Ks="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qs(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function qs(t){return(qs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $s(t,e){return($s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qs=Phaser.Utils.Objects.IsPlainObject,ta=Phaser.Utils.Objects.GetValue,ea=Phaser.Utils.Array.Remove,na=Phaser.Display.Align.CENTER,ia=function(t){function e(t,n,i,r,o,s,a){var u,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qs(n)?(n=ta(c=n,"x",0),i=ta(c,"y",0),r=ta(c,"width",void 0),o=ta(c,"height",void 0)):Qs(r)?(r=ta(c=r,"width",void 0),o=ta(c,"height",void 0)):Qs(s)?c=s:Qs(a)&&(c=a),void 0!==c&&(s=ta(c,"orientation",0),a=ta(c,"space",c)),void 0===s&&(s=0),void 0===a&&(a=0),(u=Zs(this,qs(e).call(this,t,n,i,r,o,c))).type="rexFixWidthSizer",u.sizerChildren=[],u.setOrientation(s),u.setPadding(a),u.setItemSpacing(ta(a,"item",0)),u.setLineSpacing(ta(a,"line",0)),u.addChildrenMap("items",u.sizerChildren),u}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$s(t,e)}(e,es),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.length=0,Ks(qs(e.prototype),"destroy",this).call(this,t))}},{key:"setOrientation",value:function(t){return"string"==typeof t&&(t=as[t]),this.orientation=t,this}},{key:"setPadding",value:function(t){return this.padding=ss(t,this.padding),this}},{key:"setItemSpacing",value:function(t){return this.itemSpacing=t,this}},{key:"setLineSpacing",value:function(t){return this.lineSpacing=t,this}},{key:"add",value:function(t,n,i){if("\n"===t)return this.addNewLine(),this;var r;(Ks(qs(e.prototype),"add",this).call(this,t),Qs(n))&&(n=ta(r=n,"padding",0),i=ta(r,"key",void 0));return void 0===n&&(n=0),(r=this.getSizerConfig(t)).parent=this,r.align=na,r.padding=ss(n),this.sizerChildren.push(t),void 0!==i&&this.addChildrenMap(i,t),this}},{key:"addNewLine",value:function(){return this.sizerChildren.push("\n"),this}},{key:"insert",value:function(t,e,n,i){return this.add(e,n,i),this.moveTo(e,t),this}},{key:"remove",value:function(t){var n=this.getSizerConfig(t);return n.parent!==this?this:(n.parent=void 0,ea(this.sizerChildren,t),Ks(qs(e.prototype),"remove",this).call(this,t),this)}},{key:"clear",value:function(t){for(var n,i=this.sizerChildren,r=0,o=i.length;r<o;r++)"\n"!==(n=i[r])&&(this.getSizerConfig(n).parent=void 0);return i.length=0,Ks(qs(e.prototype),"clear",this).call(this,t),this}},{key:"maxChildWidth",get:function(){return void 0===this._maxChildWidth&&(this._maxChildWidth=Gs.call(this)),this._maxChildWidth}},{key:"maxChildHeight",get:function(){return void 0===this._maxChildHeight&&(this._maxChildHeight=Us.call(this)),this._maxChildHeight}}])&&Js(n.prototype,i),r&&Js(n,r),e}();Object.assign(ia.prototype,Vs);var ra=ia;r.register("fixWidthSizer",function(t,e,n,i,r,o){var s=new ra(this.scene,t,e,n,i,r,o);return this.scene.add.existing(s),s}),A(window,"RexPlugins.UI.FixWidthSizer",ra);function oa(t){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sa(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function aa(t,e){return!e||"object"!==oa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ua(t,e,n){return(ua="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ca(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function ca(t){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ha(t,e){return(ha=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var la=Phaser.GameObjects.Graphics,fa=function(t){function e(t,n,i){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n=0),"string"==typeof n&&(shaep=da[n]),void 0===i&&(i=0),(r=aa(this,ca(e).call(this,t.scene))).parent=t,r.shape=n,r.padding=i,r.setPosition().resize(),r}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ha(t,e)}(e,la),n=e,(i=[{key:"destroy",value:function(){return this.parent=void 0,ua(ca(e.prototype),"destroy",this).call(this),this}},{key:"setPosition",value:function(t,n){var i=this.parent;return void 0===t&&(t=i.x),void 0===n&&(n=i.y),ua(ca(e.prototype),"setPosition",this).call(this,t,n),this}},{key:"resize",value:function(t,e,n){var i=this.parent;if(void 0===t&&(t=i.width),void 0===e&&(e=i.height),void 0===n&&(n=this.padding),this.widthSave===t&&this.heightSave===e&&this.paddingSave===n)return this;switch(this.clear().fillStyle(16777215),this.shape){case 1:var r=Math.min(t,e)/2;this.fillCircle(0,0,r+n);break;default:this.fillRect(-t*i.originX-n,-e*i.originY-n,t+2*n,e+2*n)}return this.widthSave=t,this.heightSave=e,this.paddingSave=n,this}}])&&sa(n.prototype,i),r&&sa(n,r),e}(),da={rectangle:0,circle:1},pa=fa;function ya(t){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function va(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ga(t,e){return!e||"object"!==ya(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ba(t,e,n){return(ba="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ma(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function ma(t){return(ma=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xa(t,e){return(xa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wa=Phaser.Utils.Objects.GetValue,Oa=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=ga(this,ma(e).call(this,t,n))).type="rexLabel";var r=wa(n,"background",void 0),o=wa(n,"icon",void 0),s=wa(n,"iconMask",void 0),a=wa(n,"text",void 0),u=wa(n,"action",void 0),c=wa(n,"actionMask",void 0),h=wa(n,"space.left",0),l=wa(n,"space.right",0),f=wa(n,"space.top",0),d=wa(n,"space.bottom",0),p=wa(n,"space.icon",0),y=wa(n,"space.text",0);(r&&i.addBackground(r),o)&&(g=0===i.orientation?{left:h,right:a||u?p:l,top:f,bottom:d}:{left:h,right:l,top:f,bottom:a||u?p:d},i.add(o,0,"center",g),s&&(s=new pa(o,1),o.setMask(s.createGeometryMask()),i.pin(s)));if(a){var v,g,b,m=wa(n,"expandTextWidth",!1),x=wa(n,"expandTextHeight",!1);0===i.orientation?(v=m?1:0,g={left:o?0:h,right:u?y:l,top:f,bottom:d},b=x):(v=x?1:0,g={left:h,right:l,top:o?0:f,bottom:u?y:d},b=m),i.add(a,v,"center",g,b)}u&&(g=0===i.orientation?{left:o||a?0:h,right:l,top:f,bottom:d}:{left:h,right:l,top:o||a?0:f,bottom:d},i.add(u,0,"center",g),c&&(c=new pa(u,1),o.setMask(c.createGeometryMask()),i.pin(c)));return i.addChildrenMap("background",r),i.addChildrenMap("icon",o),i.addChildrenMap("iconMask",s),i.addChildrenMap("text",a),i.addChildrenMap("action",u),i.addChildrenMap("actionMask",c),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xa(t,e)}(e,ks),n=e,(i=[{key:"setText",value:function(t){return this.text=t,this}},{key:"appendText",value:function(t){this.text+=t}},{key:"layout",value:function(t,n,i){ba(ma(e.prototype),"layout",this).call(this,t,n,i);var r=this.childrenMap.iconMask;r&&(r.setPosition(),this.resetChildPositionState(r));var o=this.childrenMap.actionMask;return o&&(o.setPosition(),this.resetChildPositionState(o)),this}},{key:"resize",value:function(t,n){ba(ma(e.prototype),"resize",this).call(this,t,n);var i=this.childrenMap.iconMask;i&&i.resize();var r=this.childrenMap.actionMask;return r&&r.resize(),this}},{key:"text",get:function(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")},set:function(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}}])&&va(n.prototype,i),r&&va(n,r),e}();r.register("label",function(t){var e=new Oa(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.Label",Oa);function ka(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Sa=Phaser.Utils.Objects.GetValue,Pa=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=ro(e),this.setEventEmitter(Sa(n,"eventEmitter",void 0)),e.setInteractive(Sa(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(Sa(t,"enable",!0)),this.setMode(Sa(t,"mode",1)),this.setClickInterval(Sa(t,"clickInterval",100)),this.setDragThreshold(Sa(t,"threshold",void 0)),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPress,this),this.gameObject.on("pointerup",this.onRelease,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onMove,this),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.cancel(),this.enable=t,this.gameObject.input.enabled=t,this)}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=Ca[t]),this.mode=t,this}},{key:"setClickInterval",value:function(t){return this.clickInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"onPress",value:function(t,e,n,i){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime,t,i))}},{key:"onRelease",value:function(t,e,n,i){this.pointer===t&&(1===this.mode&&this.click(t.upTime,t,i),this.pointer=void 0)}},{key:"onPointOut",value:function(t,e){this.pointer===t&&this.cancel()}},{key:"onMove",value:function(t,e,n,i){this.pointer===t&&void 0!==this.dragThreshold&&t.getDistance()>=this.dragThreshold&&this.cancel()}},{key:"click",value:function(t,e,n){if(void 0===t)return this.emit("click",this,this.gameObject,e,n),this;this.pointer=void 0;var i=this.lastClickTime;return void 0!==i&&t-i<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.gameObject,e,n),this)}},{key:"cancel",value:function(){return this.pointer=void 0,this}}])&&ka(e.prototype,n),i&&ka(e,i),t}();Object.assign(Pa.prototype,eo);var Ca={press:0,pointerdown:0,release:1,pointerup:1},Ta=Pa,_a=function(t,e){t._buttonBehavior=new Ta(t,e),t._buttonBehavior.on("click",function(e,n,i,r){Ea.call(this,"button.click",t,i,r)},this),t.on("pointerover",function(e,n,i,r){Ea.call(this,"button.over",t,e,r)},this).on("pointerout",function(e,n){Ea.call(this,"button.out",t,e,n)},this)},Ea=function(t,e,n,i){var r;if("number"==typeof e){if(r=e,!(e=this.childrenMap.buttons[r]))return}else if(-1===(r=this.childrenMap.buttons.indexOf(e)))return;void 0!==this.groupName?this.eventEmitter.emit(t,e,this.groupName,r,n,i):this.eventEmitter.emit(t,e,r,n,i)},ja=function(t){Ia(t,!1)},Ma=function(t){Ia(t,!0)},Ra=function(t){return!!t&&!Mr(t).hidden},Ia=function(t,e){t&&(Mr(t).hidden=e,t.setVisible(!e))},Da={getButton:function(t){var e;return"number"==typeof t?e=this.childrenMap.buttons[t]:(e=t,-1===this.childrenMap.buttons.indexOf(e)&&(e=void 0)),e},emitButtonClick:function(t){return Ea.call(this,"button.click",t),this},showButton:function(t){return ja(this.getButton(t)),this},hideButton:function(t){return Ma(this.getButton(t)),this},isButtonShown:function(t){return Ra(this.getButton(t)),this},forEachButtton:function(t,e){for(var n=this.childrenMap.buttons,i=0,r=n.length;i<r;i++)e?t.call(e,n[i],i,n):t(n[i],i,n);return this}};function La(t){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Aa(t){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function za(t,e){return(za=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ba=Phaser.Utils.Objects.GetValue,Ya=function(t){function e(t,n){var i,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n={}),r=this,(i=!(o=Aa(e).call(this,t,n))||"object"!==La(o)&&"function"!=typeof o?Fa(r):o).type="rexButtons",i.eventEmitter=Ba(n,"eventEmitter",Fa(i)),i.groupName=Ba(n,"groupName",void 0);var s=Ba(n,"background",void 0),a=Ba(n,"buttons",void 0);a&&0===a.length&&(a=void 0);var u=Ba(n,"space",0);if(s&&i.addBackground(s),a){var c,h,l=Ba(n,"align",void 0),f=Ba(n,"click",void 0);"right"!==l&&"bottom"!==l&&"center"!==l||i.addSpace();for(var d=0,p=a.length;d<p;d++)c=a[d],h=0===i.orientation?{left:d>=1?u:0,right:0,top:0,bottom:0}:{left:0,right:0,top:d>=1?u:0,bottom:0},i.add(c,0,"center",h,!0),_a.call(Fa(i),c,f);"center"===l&&i.addSpace()}return i.addChildrenMap("background",s),i.addChildrenMap("buttons",a||[]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&za(t,e)}(e,ks),e}();Object.assign(Ya.prototype,Da);var Na=Ya;r.register("buttons",function(t){var e=new Na(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.Buttons",Na);var Wa;function Ha(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Va=(Ha(Wa={getChoice:function(t){return this.childrenMap.choicesSizer.getButton(t)},getAction:function(t){return this.childrenMap.actionsSizer.getButton(t)},emitChoiceClick:function(t){return this.childrenMap.choicesSizer.emitButtonClick(t),this},emitActionClick:function(t){return this.childrenMap.actionsSizer.emitButtonClick(t),this},showChoice:function(t){return this.childrenMap.choicesSizer.showButton(t),this},showAction:function(t){return this.childrenMap.actionsSizer.showButton(t),this},hideChoice:function(t){return this.childrenMap.choicesSizer.hideButton(t),this},hideAction:function(t){return this.childrenMap.actionsSizer.hideButton(t),this},forEachChoice:function(t,e){return this.childrenMap.choicesSizer.forEachButtton(t,e),this}},"forEachChoice",function(t,e){return this.childrenMap.choicesSizer.forEachButtton(t,e),this}),Ha(Wa,"forEachAction",function(t,e){return this.childrenMap.actionsSizer.forEachButtton(t,e),this}),Wa);function Ga(t){return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ua(t){return(Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ja(t,e){return(Ja=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Za=Phaser.Utils.Objects.GetValue,Ka=function(t){function e(t,n){var i,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n={}),n.orientation=1,r=this,(i=!(o=Ua(e).call(this,t,n))||"object"!==Ga(o)&&"function"!=typeof o?Xa(r):o).type="rexDialog",i.eventEmitter=Za(n,"eventEmitter",Xa(i));var s=Za(n,"background",void 0),a=Za(n,"title",void 0),u=Za(n,"toolbar",void 0);u&&0===u.length&&(u=void 0);var c,h,l=Za(n,"content",void 0),f=Za(n,"description",void 0),d=Za(n,"choices",void 0);d&&0===d.length&&(d=void 0);var p=Za(n,"actions",void 0);p&&0===p.length&&(p=void 0);var y,v=Za(n,"click",void 0),g=Za(n,"space.left",0),b=Za(n,"space.right",0),m=Za(n,"space.top",0),x=Za(n,"space.bottom",0);if(s&&i.addBackground(s),a&&!u){var w=Za(n,"align.title","center"),O=Za(n,"space.title",0),k={left:g,right:b,top:m,bottom:l||f||d||p?O:x},S=Za(n,"expand.title",!0);i.add(a,0,w,k,S)}if(u&&(y=new Na(t,{groupName:"toolbar",buttons:u,orientation:0,space:Za(n,"space.toolbarItem",0),click:v,eventEmitter:i.eventEmitter})),u&&!a){O=Za(n,"space.title",0),k={left:g,right:b,top:m,bottom:l||f||d||p?O:x},S=Za(n,"expand.toolbar",!0);i.add(y,0,"center",k,S)}if(a&&u){var P=new ks(t,{orientation:0});w=Za(n,"align.title","left");(S=Za(n,"expand.title",!0))||"right"!==w&&"center"!==w||P.addSpace();k={left:Za(n,"space.titleLeft",0),right:Za(n,"space.titleRight",0),top:0,bottom:0};P.add(a,S?1:0,"center",k,S),S||"left"!==w&&"center"!==w||P.addSpace(),P.add(y,0,"right",0,!1);O=Za(n,"space.title",0),k={left:g,right:b,top:m,bottom:l||f||d||p?O:x};i.add(P,0,"center",k,!0)}if(l){w=Za(n,"align.content","center");var C=Za(n,"space.content",0);k={left:g+Za(n,"space.contentLeft",0),right:b+Za(n,"space.contentRight",0),top:a||u?0:m,bottom:f||d||p?C:x},S=Za(n,"expand.content",!0);i.add(l,0,w,k,S)}if(f){w=Za(n,"align.description","center");var T=Za(n,"space.description",0);k={left:g+Za(n,"space.descriptionLeft",0),right:b+Za(n,"space.descriptionRight",0),top:a||u||l?0:m,bottom:d||p?T:x},S=Za(n,"expand.description",!0);i.add(f,0,w,k,S)}if(d){w=Za(n,"align.choices","center");c=new Na(t,{groupName:"choices",buttons:d,orientation:1,space:Za(n,"space.choice",0),click:v,eventEmitter:i.eventEmitter});var _=Za(n,"space.choices",0);k={left:g+Za(n,"space.choicesLeft",0),right:b+Za(n,"space.choicesRight",0),top:a||u||l||f?0:m,bottom:p?_:x},S=Za(n,"expand.choices",!0);i.add(c,0,w,k,S)}if(p){h=new Na(t,{groupName:"actions",buttons:p,orientation:0,space:Za(n,"space.action",0),align:Za(n,"align.actions","center"),click:v,eventEmitter:i.eventEmitter});k={left:g+Za(n,"space.actionsLeft",0),right:b+Za(n,"space.actionsRight",0),top:a||u||l||f||d?0:m,bottom:x},S=Za(n,"expand.actions",!0);i.add(h,0,"center",k,S)}return i.addChildrenMap("background",s),i.addChildrenMap("title",a),i.addChildrenMap("toolbar",u),i.addChildrenMap("content",l),i.addChildrenMap("choices",d),i.addChildrenMap("actions",p),i.addChildrenMap("choicesSizer",c),i.addChildrenMap("actionsSizer",h),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ja(t,e)}(e,ks),e}();Object.assign(Ka.prototype,Va);var qa=Ka;r.register("dialog",function(t){var e=new qa(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.Dialog",qa);var $a={getButtonsSizer:function(t){return this.childrenMap[t+"ButtonsSizer"]},getButton:function(t,e){var n=this.getButtonsSizer(t);return n?n.getButton(e):void 0},emitButtonClick:function(t,e){var n=this.getButtonsSizer(t);return n?(n.emitButtonClick(e),this):this},emitLeftButtonClick:function(t){return this.childrenMap.leftButtonsSizer.emitButtonClick(t),this},emitRightButtonClick:function(t){return this.childrenMap.rightButtonsSizer.emitButtonClick(t),this},emitTopButtonClick:function(t){return this.childrenMap.topButtonsSizer.emitButtonClick(t),this},emitBottomButtonClick:function(t){return this.childrenMap.bottomButtonsSizer.emitButtonClick(t),this},getLeftButton:function(t){return this.childrenMap.leftButtonsSizer.getButton(t)},getRightButton:function(t){return this.childrenMap.rightButtonsSizer.getButton(t)},getTopButton:function(t){return this.childrenMap.topButtonsSizer.getButton(t)},getBottomButton:function(t){return this.childrenMap.bottomButtonsSizer.getButton(t)},showButton:function(t,e){return ja(this.getButton(t,e)),this},showLeftButton:function(t){return ja(this.getLeftButton(t)),this},showRightButton:function(t){return ja(this.getRightButton(t)),this},showTopButton:function(t){return ja(this.getTopButton(t)),this},showBottomButton:function(t){return ja(this.getBottomButton(t)),this},hideButton:function(t,e){return Ma(this.getButton(t,e)),this},hideLeftButton:function(t){return Ma(this.getLeftButton(t)),this},hideRightButton:function(t){return Ma(this.getRightButton(t)),this},hideTopButton:function(t){return Ma(this.getTopButton(t)),this},hideBottomButton:function(t){return Ma(this.getBottomButton(t)),this},forEachLeftButton:function(t,e){return this.childrenMap.leftButtonsSizer.forEachButtton(t,e),this},forEachRightButton:function(t,e){return this.childrenMap.rightButtonsSizer.forEachButtton(t,e),this},forEachTopButton:function(t,e){return this.childrenMap.topButtonsSizer.forEachButtton(t,e),this},forEachBottomButton:function(t,e){return this.childrenMap.bottomButtonsSizer.forEachButtton(t,e),this}};function Qa(t){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tu(t){return(tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function eu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nu(t,e){return(nu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var iu=Phaser.Utils.Objects.GetValue,ru=function(t){function e(t,n){var i,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n={}),n.column=3,n.row=3,r=this,(i=!(o=tu(e).call(this,t,n))||"object"!==Qa(o)&&"function"!=typeof o?eu(r):o).type="rexTabs",i.eventEmitter=iu(n,"eventEmitter",eu(i));var s,a=iu(n,"background",void 0),u=iu(n,"panel",void 0),c=iu(n,"leftButtons",void 0);c&&0===c.length&&(c=void 0);var h,l=iu(n,"rightButtons",void 0);l&&0===l.length&&(l=void 0);var f,d=iu(n,"topButtons",void 0);d&&0===d.length&&(d=void 0);var p,y=iu(n,"bottomButtons",void 0);y&&0===y.length&&(y=void 0);var v=iu(n,"click",void 0),g=iu(n,"space.left",0),b=iu(n,"space.right",0),m=iu(n,"space.top",0),x=iu(n,"space.bottom",0),w=iu(n,"space.leftButtonsOffset",0),O=iu(n,"space.rightButtonsOffset",0),k=iu(n,"space.topButtonsOffset",0),S=iu(n,"space.bottomButtonsOffset",0),P=iu(n,"space.leftButton",0),C=iu(n,"space.rightButton",0),T=iu(n,"space.topButton",0),_=iu(n,"space.bottomButton",0);if(a&&i.addBackground(a),u){var E={left:c?0:g,right:l?0:b,top:d?0:m,bottom:y?0:x};i.add(u,1,1,"center",E,!0)}if(c){s=new Na(t,{groupName:"left",buttons:c,orientation:1,space:P,align:iu(n,"align.leftButtons",void 0),click:v,eventEmitter:i.eventEmitter});E={left:g,top:w};i.add(s,0,1,"top",E,!1)}if(l){h=new Na(t,{groupName:"right",buttons:l,orientation:1,space:C,align:iu(n,"align.rightButtons",void 0),click:v,eventEmitter:i.eventEmitter});E={right:b,top:O};i.add(h,2,1,"top",E,!1)}if(d){f=new Na(t,{groupName:"top",buttons:d,orientation:0,space:T,align:iu(n,"align.topButtons",void 0),click:v,eventEmitter:i.eventEmitter});E={top:m,left:k};i.add(f,1,0,"left",E,!1)}if(y){p=new Na(t,{groupName:"bottom",buttons:y,orientation:0,space:_,align:iu(n,"align.bottomButtons",void 0),click:v,eventEmitter:i.eventEmitter});E={bottom:x,left:S};i.add(p,1,2,"left",E,!1)}return i.addChildrenMap("background",a),i.addChildrenMap("panel",u),i.addChildrenMap("leftButtons",c),i.addChildrenMap("rightButtons",l),i.addChildrenMap("topButtons",d),i.addChildrenMap("bottomButtons",y),i.addChildrenMap("leftButtonsSizer",s),i.addChildrenMap("rightButtonsSizer",h),i.addChildrenMap("topButtonsSizer",f),i.addChildrenMap("bottomButtonsSizer",p),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nu(t,e)}(e,zs),e}();Object.assign(ru.prototype,$a);var ou=ru;r.register("tabs",function(t){var e=new ou(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.Tabs",ou);var su=Phaser.Math.Percent,au=function(t,e,n){var i,r,o;return t.y===e.y?(i=Math.min(t.x,e.x),r=Math.max(t.x,e.x),o=su(n.x,i,r)):t.x===e.x&&(i=Math.min(t.y,e.y),r=Math.max(t.y,e.y),o=su(n.y,i,r)),o},uu={},cu=function(t,e,n){this.enable&&(uu.x=e,uu.y=n,this.value=au(this.getStartPoint(),this.getEndPoint(),uu))},hu={},lu=function(t,e,n){this.enable&&t.isDown&&(hu.x=t.worldX,hu.y=t.worldY,this.value=au(this.getStartPoint(),this.getEndPoint(),hu))},fu={},du=function(t,e){void 0===e&&(e=fu);var n=this.childrenMap.thumb,i=n.x,r=n.y;return Wo()(n,this,t),e.x=n.x,e.y=n.y,n.x=i,n.y=r,e},pu=Phaser.Display.Align.LEFT_CENTER,yu=Phaser.Display.Align.TOP_CENTER,vu={},gu=function(t){if(void 0===t&&(t=vu),this.childrenMap.thumb){var e=0===this.orientation?yu:pu;du.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.top+1):(t.x=this.left+1,t.y=this.centerY);return t},bu=Phaser.Display.Align.RIGHT_CENTER,mu=Phaser.Display.Align.BOTTOM_CENTER,xu={},wu=function(t){if(void 0===t&&(t=xu),this.childrenMap.thumb){var e=1===this.orientation?bu:mu;du.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.bottom-1):(t.x=this.right-1,t.y=this.centerY);return t},Ou=Phaser.Math.Linear,ku={},Su=function(t,e,n,i){return void 0===i&&(i=ku),i.x=Ou(e.x,n.x,t),i.y=Ou(e.y,n.y,t),i},Pu=function(t){var e=this.childrenMap.thumb;return void 0===e?this:(void 0===t&&(t=this.value),Su(t,this.getStartPoint(),this.getEndPoint(),e),this.resetChildPositionState(e),this)},Cu=Phaser.Display.Align.LEFT_CENTER,Tu=Phaser.Display.Align.TOP_CENTER,_u=function(t){var e,n,i=this.childrenMap.indicator;if(void 0===i)return this;void 0===t&&(t=this.value);var r=this.childrenMap.thumb;r?0===this.orientation?n=r.y-r.displayHeight*r.originY+r.displayHeight-this.top:e=r.x-r.displayWidth*r.originX+r.displayWidth-this.left:0===this.orientation?n=this.height*t:e=this.width*t;zo(i,e,n);var o=1===this.orientation?Cu:Tu;Wo()(i,this,o),this.resetChildPositionState(i)};function Eu(t){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ju(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Mu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ru(t,e,n){return(Ru="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Iu(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Iu(t){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Du(t,e){return(Du=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lu=Phaser.Utils.Objects.GetValue,Au=Phaser.Math.Clamp,Fu=Phaser.Math.Linear,zu=Phaser.Math.Percent,Bu=Phaser.Math.Snap.To,Yu=function(t){function e(t,n){var i,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(i=!(o=Iu(e).call(this,t,n))||"object"!==Eu(o)&&"function"!=typeof o?Mu(r):o).type="rexSlider",i.eventEmitter=Lu(n,"eventEmitter",Mu(i));var s=Lu(n,"background",void 0),a=Lu(n,"track",void 0),u=Lu(n,"indicator",void 0),c=Lu(n,"thumb",void 0),h=Lu(n,"space.left",0),l=Lu(n,"space.right",0),f=Lu(n,"space.top",0),d=Lu(n,"space.bottom",0);if(s&&i.addBackground(s),a){var p={left:h,right:l,top:f,bottom:d};i.add(a,0,void 0,p,!0)}u&&i.add(u,null),c&&i.add(c,null);var y=Lu(n,"input",0);switch("string"==typeof y&&(y=Nu[y]),y){case 0:c&&(c.setInteractive(),i.scene.input.setDraggable(c),c.on("drag",cu,Mu(i)));break;case 1:i.setInteractive().on("pointerdown",lu,Mu(i)).on("pointermove",lu,Mu(i))}i.addChildrenMap("background",s),i.addChildrenMap("track",a),i.addChildrenMap("indicator",u),i.addChildrenMap("thumb",c);var v=Lu(n,"valuechangeCallback",null);if(null!==v){var g=Lu(n,"valuechangeCallbackScope",void 0);i.eventEmitter.on("valuechange",v,g)}return i.setEnable(Lu(n,"enable",void 0)),i.setGap(Lu(n,"gap",void 0)),i.setValue(Lu(n,"value",0)),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Du(t,e)}(e,ks),n=e,(i=[{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"setGap",value:function(t){return this.gap=t,this}},{key:"setValue",value:function(t,e,n){return void 0===t||null===t?this:(void 0!==e&&(t=zu(t,e,n)),this.value=t,this)}},{key:"addValue",value:function(t,e,n){return void 0!==e&&(t=zu(t,e,n)),this.value+=t,this}},{key:"getValue",value:function(t,e){var n=this.value;return void 0!==t&&(n=Fu(t,e,n)),n}},{key:"layout",value:function(t,n,i){return Ru(Iu(e.prototype),"layout",this).call(this,t,n,i),this.updateThumb(),this.updateIndicator(),this}},{key:"value",get:function(){return this._value},set:function(t){void 0!==this.gap&&(t=Bu(t,this.gap));var e=this._value;this._value=Au(t,0,1),e!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,e,this.eventEmitter))}}])&&ju(n.prototype,i),r&&ju(n,r),e}(),Nu={drag:0,click:1,none:-1},Wu={getStartPoint:gu,getEndPoint:wu,updateThumb:Pu,updateIndicator:_u};Object.assign(Yu.prototype,Wu);var Hu=Yu;r.register("slider",function(t){var e=new Hu(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.Slider",Hu);var Vu={v:0,vertical:0,h:1,horizontal:1},Gu=Phaser.Utils.Objects.GetValue,Uu=function(t,e){void 0===e&&(e="scrollMode");var n=Gu(t,"scrollMode",0);return"string"==typeof n&&(n=Vu[n]),n},Xu=n(5),Ju=n.n(Xu);function Zu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ku=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=Ju()(e,"states",void 0);n&&this.addStates(n);var i=Ju()(e,"extend",void 0);if(i)for(var r in i)this.hasOwnProperty(r)&&void 0!==this[r]||(this[r]=i[r]);var o=Ju()(e,"eventEmitter",void 0),s=Ju()(e,"EventEmitterClass",void 0);this.setEventEmitter(o,s),this._stateLock=!1,this.resetFromJSON(e)}var e,n,i;return e=t,(n=[{key:"shutdown",value:function(){this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"resetFromJSON",value:function(t){this.setEnable(Ju()(t,"enable",!0)),this.start(Ju()(t,"start",void 0));var e=Ju()(t,"init",void 0);return e&&e.call(this),this}},{key:"toJSON",value:function(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"start",value:function(t){return this._start=t,this._prevState=void 0,this._state=t,this}},{key:"goto",value:function(t){return null!=t&&(this.state=t),this}},{key:"next",value:function(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}},{key:"addState",value:function(t,e){var n=Ju()(e,"next",void 0);n&&(this["next_"+t]=n);var i=Ju()(e,"exit",void 0);i&&(this["exit_"+t]=i);var r=Ju()(e,"enter",void 0);return r&&(this["enter_"+t]=r),this}},{key:"addStates",value:function(t){for(var e in t)this.addState(e,t[e]);return this}},{key:"update",value:function(t,e,n){void 0===n&&(n="update");var i=this[n+"_"+this.state];i&&i.call(this,t,e)}},{key:"preupdate",value:function(t,e){this.update(t,e,"preupdate")}},{key:"postupdate",value:function(t,e){this.update(t,e,"postupdate")}},{key:"state",set:function(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,n=this[e];n&&n.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var i="enter_"+this._state,r=this[i];r&&r.call(this),this.emit(i,this)}}},get:function(){return this._state}},{key:"prevState",get:function(){return this._prevState}}])&&Zu(e.prototype,n),i&&Zu(e,i),t}();Object.assign(Ku.prototype,eo);var qu=Ku;function $u(t){return($u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tc(t,e){return!e||"object"!==$u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ec(t){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nc(t,e){return(nc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ic=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=tc(this,ec(e).call(this,n))).parent=t,i.init(),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nc(t,e)}(e,qu),n=e,(i=[{key:"init",value:function(){this.start("IDLE")}},{key:"next_IDLE",value:function(){var t,e=this.parent;return e.dragState.isDown&&(t=0===e.dragThreshold?"DRAG":"DRAGBEGIN"),t}},{key:"update_IDLE",value:function(t,e){this.next()}},{key:"next_DRAGBEGIN",value:function(){var t=this.parent,e=t.dragState;return e.isDown?e.pointer.getDistance()>=t.dragThreshold?"DRAG":"DRAGBEGIN":"IDLE"}},{key:"update_DRAGBEGIN",value:function(t,e){this.next()}},{key:"next_DRAG",value:function(){var t,e=this.parent;return e.dragState.isUp&&(t=e.outOfBounds?"BACK":e.slidingEnable?"SLIDE":"IDLE"),t}},{key:"update_DRAG",value:function(t,e){var n=this.parent;n.dragState.justMoved&&n.dragging(),this.next()}},{key:"next_SLIDE",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isSliding||(t="IDLE"),t}},{key:"enter_SLIDE",value:function(){this.parent.onSliding()}},{key:"exit_SLIDE",value:function(){this.parent.stop()}},{key:"update_SLIDE",value:function(t,e){this.parent.sliding(t,e),this.next()}},{key:"next_BACK",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isPullBack||(t="IDLE"),t}},{key:"enter_BACK",value:function(){this.parent.onPullBack()}},{key:"exit_BACK",value:function(){this.parent.stop()}},{key:"update_BACK",value:function(t,e){this.parent.pullBack(t,e),this.next()}}])&&Qu(n.prototype,i),r&&Qu(n,r),e}();function rc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var oc=Phaser.Utils.Objects.GetValue,sc=Phaser.Math.Distance.Between,ac=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=ro(e),this.setEventEmitter(oc(n,"eventEmitter",void 0)),e.setInteractive(oc(n,"inputConfig",void 0)),this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(oc(t,"enable",!0)),this.holdThreshold=oc(t,"holdThreshold",50),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.once("destroy",this.destroy,this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"shutdown",value:function(){this.scene&&this.scene.events.off("preupdate",this.preupdate,this),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0,this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}},{key:"onPointIn",value:function(t,e,n){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.localX=e,this.localY=n)}},{key:"onPointOut",value:function(t){this.pointer===t&&(this.pointer=void 0)}},{key:"onPointerMove",value:function(t,e,n){t.isDown&&this.pointer===t&&(this.localX=e,this.localY=n)}},{key:"preupdate",value:function(t,e){var n=this.pointer;this.justMoved=!1,n&&!this.isInTouched?(this.x=n.x,this.y=n.y,this.preX=n.x,this.preY=n.y,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",n,this.localX,this.localY)):n&&this.isInTouched?this.x===n.x&&this.y===n.y?void 0===this.holdStartTime?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=n.x,this.y=n.y,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",n,this.localX,this.localY)):!n&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",n))}},{key:"isDown",get:function(){return this.pointer&&this.pointer.isDown}},{key:"isUp",get:function(){return!this.isDown}},{key:"dx",get:function(){return this.x-this.preX}},{key:"dy",get:function(){return this.y-this.preY}},{key:"dt",get:function(){return this.scene.sys.game.loop.delta}},{key:"speed",get:function(){return this.x===this.preX&&this.y===this.preY?0:sc(this.preX,this.preY,this.x,this.y)/(.001*this.dt)}},{key:"speedX",get:function(){return this.dx/(.001*this.dt)}},{key:"speedY",get:function(){return this.dy/(.001*this.dt)}}])&&rc(e.prototype,n),i&&rc(e,i),t}();Object.assign(ac.prototype,eo);var uc=ac;function cc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var hc=Phaser.Utils.Objects.GetValue,lc=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setValue(hc(t,"value",0)),this.setSpeed(hc(t,"speed",0)),this.setAcceleration(hc(t,"acceleration",0)),this}},{key:"reset",value:function(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}},{key:"setValue",value:function(t){return this.value=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setAcceleration",value:function(t){return this.acceleration=t,this}},{key:"updateSpeed",value:function(t){return 0!==this.acceleration&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}},{key:"getDeltaValue",value:function(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}},{key:"update",value:function(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}},{key:"isMoving",get:function(){return this.speed>0}}])&&cc(e.prototype,n),i&&cc(e,i),t}();function fc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var dc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value,this.dir,this.movement=new lc}var e,n,i;return e=t,(n=[{key:"init",value:function(t,e,n,i,r){return this.value=t,this.end=r,this.dir=void 0!==r?t<r:e,this.movement.setSpeed(n).setAcceleration(-i),this}},{key:"stop",value:function(){this.movement.reset()}},{key:"update",value:function(t){var e=this.movement.getDeltaValue(t);return this.dir||(e=-e),void 0===this.end?this.value+=e:0===e?this.value=this.end:(this.value+=e,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}},{key:"isMoving",get:function(){return this.movement.isMoving}}])&&fc(e.prototype,n),i&&fc(e,i),t}();function pc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var yc=Phaser.Utils.Objects.GetValue,vc=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=ro(e),this.setEventEmitter(yc(n,"eventEmitter",void 0));var i=yc(n,"enable",!0),r={enable:i,eventEmitter:!1};this._state=new ic(this,r);var o={inputConfig:yc(n,"inputConfig",void 0),enable:i,eventEmitter:!1};this.dragState=new uc(e,o),this._value=void 0,this._slowDown=new dc;var s=yc(n,"valuechangeCallback",null);if(null!==s){var a=yc(n,"valuechangeCallbackScope",void 0);this.on("valuechange",s,a)}if(null!==(s=yc(n,"overmaxCallback",null))){a=yc(n,"overmaxCallbackScope",void 0);this.on("overmax",s,a)}if(null!==(s=yc(n,"overminCallback",null))){a=yc(n,"overminCallbackScope",void 0);this.on("overmin",s,a)}this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){this.setOrientationMode(yc(t,"orientation",0)),this.setDragThreshold(yc(t,"threshold",10)),this.setSlidingDeceleration(yc(t,"slidingDeceleration",5e3)),this.setBackDeceleration(yc(t,"backDeceleration",2e3));var e=yc(t,"bounds",void 0);return e?this.setBounds(e):this.setBounds(yc(t,"max",0),yc(t,"min",0)),this.setValue(yc(t,"value",this.maxValue||0)),this.setEnable(yc(t,"enable",!0)),this}},{key:"boot",value:function(){this.scene.events.on("update",this._state.update,this._state),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.scene&&this.scene.events.off("update",this._state.update,this._state),this.gameObject=void 0,this.scene=void 0,this._state.destroy(),this.dragState.destroy()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setOrientationMode",value:function(t){return"string"==typeof t&&(t=gc[t]),this.orientationMode=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setSlidingDeceleration",value:function(t){return this.slidingDeceleration=t,this}},{key:"setBackDeceleration",value:function(t){return this.backDeceleration=t,this}},{key:"setBounds",value:function(t,e){if(Array.isArray(t)){var n=t;t=n[0],e=n[1]}return t<e?(this.minValue=t,this.maxValue=e):(this.minValue=e,this.maxValue=t),this}},{key:"setValue",value:function(t){this.value=t}},{key:"setEnable",value:function(t){return this._state.setEnable(t),this.dragState.setEnable(t),this}},{key:"overMax",value:function(t){return null!=this.maxValue&&t>this.maxValue}},{key:"overMin",value:function(t){return null!=this.minValue&&t<this.minValue}},{key:"dragging",value:function(){this.value+=this.dragDelta}},{key:"onSliding",value:function(){var t=this.value,e=this.dragSpeed;if(0===e)return this._slowDown.stop(),void this._state.next();var n=this.slidingDeceleration;this._slowDown.init(t,e>0,Math.abs(e),n)}},{key:"sliding",value:function(t,e){e*=.001;var n=this._slowDown.update(e).value;this.overMax(n)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(n)?(this.value=this.minValue,this._slowDown.stop()):this.value=n}},{key:"onPullBack",value:function(){var t=this.value,e=this.outOfMinBound?this.minValue:this.maxValue,n=Math.abs(e-t),i=this.backDeceleration,r=Math.sqrt(2*i*n);this._slowDown.init(t,void 0,r,i,e)}},{key:"pullBack",value:function(t,e){e*=.001,this.value=this._slowDown.update(e).value,this._slowDown.isMoving||this._state.next()}},{key:"stop",value:function(){this._slowDown.stop()}},{key:"value",get:function(){return this._value},set:function(t){if(t!==this._value){var e=this._value,n=this.overMax(t),i=this.overMin(t);n&&this.emit("overmax",t,e),i&&this.emit("overmin",t,e),this.backEnable||(n&&(t=this.maxValue),i&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,e)}}},{key:"state",get:function(){return this._state.state}},{key:"isDragging",get:function(){return this.dragState.isInTouched}},{key:"outOfMaxBound",get:function(){return this.overMax(this.value)}},{key:"outOfMinBound",get:function(){return this.overMin(this.value)}},{key:"outOfBounds",get:function(){return this.outOfMinBound||this.outOfMaxBound}},{key:"backEnable",get:function(){return"number"==typeof this.backDeceleration}},{key:"isPullBack",get:function(){return this._slowDown.isMoving}},{key:"slidingEnable",get:function(){return"number"==typeof this.slidingDeceleration}},{key:"isSliding",get:function(){return this._slowDown.isMoving}},{key:"dragDelta",get:function(){return 0===this.orientationMode?this.dragState.dy:1===this.orientationMode?this.dragState.dx:0}},{key:"dragSpeed",get:function(){return 0===this.orientationMode?this.dragState.speedY:1===this.orientationMode?this.dragState.speedX:0}}])&&pc(e.prototype,n),i&&pc(e,i),t}();Object.assign(vc.prototype,eo);var gc={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},bc=vc,mc=Phaser.Utils.Objects.GetValue,xc=function(t){var e,n,i=this.scene,r=Uu(t),o=new ks(i,{orientation:r}),s=mc(t,"child.gameObject",void 0),a=mc(t,"slider",void 0),u=mc(t,"scroller",!0);if(s){var c=mc(t,"space.child",0);if(this.childPadding={},"number"!=typeof c){var h=c;0===r?(c=mc(h,"right",0),this.childPadding.top=mc(h,"top",0),this.childPadding.bottom=mc(h,"bottom",0)):(c=mc(h,"bottom",0),this.childPadding.top=mc(h,"left",0),this.childPadding.bottom=mc(h,"right",0))}else this.childPadding.top=0,this.childPadding.bottom=0;var l,f=mc(t,"child.proportion",1),d=mc(t,"child.expand",!0);l=0===r?{right:a?c:0}:{bottom:a?c:0},o.add(s,f,"center",l,d),a&&(!0===a&&(a={}),a.orientation=o.orientation,e=new Hu(i,a),o.add(e,0,"center",0,!0)),u&&(!0===u&&(u={}),u.orientation=r,n=new bc(s,u))}return e&&e.on("valuechange",function(t){this.t=t},this),n&&n.on("valuechange",function(t){this.childOY=t},this),this.addChildrenMap("child",s),this.addChildrenMap("slider",e),this.addChildrenMap("scroller",n),o};function wc(t){return(wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function kc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sc(t,e,n){return(Sc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pc(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Pc(t){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cc(t,e){return(Cc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tc=Phaser.Utils.Objects.GetValue,_c=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n={});var r,o,s=Uu(n);n.orientation=0===s?1:0,r=this,(i=!(o=Pc(e).call(this,t,n))||"object"!==wc(o)&&"function"!=typeof o?kc(r):o).type=Tc(n,"type","rexScrollable");var a=Tc(n,"background",void 0),u=xc.call(kc(i),n),c=Tc(n,"header",void 0),h=Tc(n,"footer",void 0),l=Tc(n,"space.left",0),f=Tc(n,"space.right",0),d=Tc(n,"space.top",0),p=Tc(n,"space.bottom",0);if(a&&i.addBackground(a),c){var y=Tc(n,"align.header","center"),v=Tc(n,"space.header",0);b=0===s?{left:l,right:f,top:d,bottom:v}:{left:l,right:v,top:d,bottom:p};var g=Tc(n,"expand.header",!0);i.add(c,0,y,b,g)}u&&(b=0===s?{left:l,right:f,top:c?0:d,bottom:h?0:p}:{left:c?0:l,right:h?0:f,top:d,bottom:p},i.add(u,1,"center",b,!0));if(h){y=Tc(n,"align.footer","center");var b,m=Tc(n,"space.footer",0);b=0===s?{left:l,right:f,top:m,bottom:p}:{left:m,right:f,top:d,bottom:p};g=Tc(n,"expand.footer",!0);i.add(h,0,y,b,g)}return i.addChildrenMap("background",a),i.addChildrenMap("header",c),i.addChildrenMap("footer",h),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cc(t,e)}(e,ks),n=e,(i=[{key:"layout",value:function(t,n,i){return Sc(Pc(e.prototype),"layout",this).call(this,t,n,i),this.resizeController(),this}},{key:"resizeController",value:function(){var t=this.topChildOY,e=this.bottomChildOY,n=this.childrenMap.scroller,i=this.childrenMap.slider;return n&&n.setBounds(e,t),i&&i.setEnable(e!==t),this.updateController(),this}},{key:"updateController",value:function(){var t=this.childrenMap.scroller,e=this.childrenMap.slider;t&&t.setValue(this.childOY),e&&e.setValue(this.t)}},{key:"setChildOY",value:function(t){return this.childOY=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"scrollToTop",value:function(){return this.t=0,this}},{key:"scrollToBottom",value:function(){return this.t=1,this}},{key:"setSliderEnable",value:function(t){return void 0===t&&(t=!0),this.sliderEnable=t,this}},{key:"setScrollerEnable",value:function(t){return void 0===t&&(t=!0),this.scrollerEnable=t,this}},{key:"t",set:function(t){var e=this.childPadding;if(0!==e.top||0!==e.bottom){var n=this.childrenMap.child,i=n.topChildOY-n.bottomChildOY;t=((i+e.top+e.bottom)*t-e.top)/i}this.childrenMap.child.t=t,this.updateController()},get:function(){var t=this.childrenMap.child.t,e=this.childPadding;if(0!==e.top||0!==e.bottom){var n=this.childrenMap.child,i=n.topChildOY-n.bottomChildOY,r=i+e.top+e.bottom;t=(i*t+e.top)/r}return t}},{key:"childOY",set:function(t){this.childrenMap.child.childOY=t,this.updateController()},get:function(){return this.childrenMap.child.childOY}},{key:"topChildOY",get:function(){return this.childrenMap.child.topChildOY+this.childPadding.top}},{key:"bottomChildOY",get:function(){return this.childrenMap.child.bottomChildOY-this.childPadding.bottom}},{key:"sliderEnable",get:function(){var t=this.childrenMap.slider;if(t)return t.enable},set:function(t){var e=this.childrenMap.slider;e&&e.setEnable(t)}},{key:"scrollerEnable",get:function(){var t=this.childrenMap.scroller;if(t)return t.enable},set:function(t){var e=this.childrenMap.scroller;e&&e.setEnable(t)}}])&&Oc(n.prototype,i),r&&Oc(n,r),e}(),Ec={enableData:function(){return void 0===this.data&&(this.data={}),this},getData:function(t,e){return this.enableData(),void 0===t?this.data:Ju()(this.data,t,e)},setData:function(t,e){return this.enableData(),this.data[t]=e,this},incData:function(t,e,n){return void 0===n&&(n=0),this.enableData(),this.setData(t,this.getData(t,n)+e),this},mulData:function(t,e,n){return void 0===n&&(n=0),this.enableData(),this.setData(t,this.getData(t,n)*e),this},clearData:function(){return this.data&&ft(this.data),this}};function jc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Mc=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=null,this.setParent(e),this._deltaHeight=0}var e,n,i;return e=t,(n=[{key:"setParent",value:function(t){this.parent=t,this.parentContainer=t.getParentContainer()}},{key:"destroy",value:function(t){if(void 0===t&&(t=!1),!t){var e=this.parent;0!==this.deltaHeight&&e.nonZeroDeltaHeightCount--,this.destroyContainer()}this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}},{key:"getContainer",value:function(){return this.container}},{key:"setContainer",value:function(t){return this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this}},{key:"destroyContainer",value:function(){return this.container&&(this.container.destroy(),this.container=null),this}},{key:"popContainer",value:function(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}return null}},{key:"setXY",value:function(t,e){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,e),this}},{key:"setDeltaHeight",value:function(t){return this.deltaHeight=t,this}},{key:"setHeight",value:function(t){return this.height=t,this}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"table",get:function(){return this.parent}},{key:"scrollMode",get:function(){return this.parentContainer.scrollMode}},{key:"colIndx",get:function(){return this.parent.cellIndxeToColIndex(this.index)}},{key:"rowIndx",get:function(){return this.parent.cellIndxeToRowIndex(this.index)}},{key:"deltaHeight",get:function(){return this._deltaHeight},set:function(t){null==t&&(t=0);var e=this.parent;0===this._deltaHeight&&0!==t?e.nonZeroDeltaHeightCount++:0!==this._deltaHeight&&0===t&&e.nonZeroDeltaHeightCount--,this._deltaHeight=t}},{key:"height",get:function(){return 0===this.scrollMode?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth},set:function(t){1!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"width",get:function(){return 0===this.scrollMode?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight},set:function(t){0!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"scene",get:function(){return this.parentContainer.scene}}])&&jc(e.prototype,n),i&&jc(e,i),t}();Object.assign(Mc.prototype,Ec);var Rc=Mc;function Ic(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Dc=Phaser.Utils.Objects.GetValue,Lc=Phaser.Utils.Array.SpliceOne,Ac=new st,Fc=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.cells=[],this.resetFromJSON(n)}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.colCount=void 0,this._nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight(),this.setDefaultCellHeight(Dc(t,"cellHeight",30)),this.setDefaultCellWidth(Dc(t,"cellWidth",30)),this.initCells(Dc(t,"cellsCount",0)),this.setColumnCount(Dc(t,"columns",1)),this}},{key:"destroy",value:function(t){for(var e=0,n=this.cells.length;e<n;e++)this.freeCell(this.cells[e],t);this.cells=void 0,this.parent=void 0}},{key:"setDefaultCellHeight",value:function(t){return this.defaultCellHeight=t,this}},{key:"setDefaultCellWidth",value:function(t){return this.defaultCellWidth=t,this}},{key:"initCells",value:function(t){var e=this.cells;e.length=t;for(var n=0;n<t;n++)e[n]=null;return this}},{key:"insertNewCell",value:function(t,e){var n=this.cells;if(t===n.length){var i=t+e;n.legth=i;for(var r=t;r<i;r++)n[r]=null}else{var o,s=[];s.length=e;for(r=0;r<e;r++)s[r]=null;(o=this.cells).splice.apply(o,[t,0].concat(s))}return this.resetTotalRowsHeight(),this}},{key:"removeCell",value:function(t,e){for(var n=t+e,i=t;i<n;i++)this.freeCell(i);return n===this.cells.length?this.cells.length=t:(1===e?Lc(this.cells,t):this.cells.splice(t,e),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}},{key:"setColumnCount",value:function(t){return this.colCount=t,this.resetTotalRowsHeight(),this}},{key:"isValidCellIdx",value:function(t){return t>=0&&t<this.cells.length}},{key:"heightToRowIndex",value:function(t,e){if(this.defaultCellHeightMode){var n=t/this.defaultCellHeight;return n=e?Math.ceil(n):Math.floor(n)}var i,r=this.rowCount,o=t;for(n=0;;){if(o-=this.getRowHeight(n),i=n>=0&&n<r,!(o>0&&i)){if(0===o)return n;if(e){var s=n;(i=(n+=1)>=0&&n<r)||(n=s)}return n}n+=1}}},{key:"widthToColIndex",value:function(t,e){var n=t/this.defaultCellWidth;return n=e?Math.ceil(n):Math.floor(n)}},{key:"colRowToCellIndex",value:function(t,e){return t>=this.colCount?null:e*this.colCount+t}},{key:"rowIndexToHeight",value:function(t,e){if(this.defaultCellHeightMode)return(e-t+1)*this.defaultCellHeight;for(var n=0,i=t;i<=e;i++)n+=this.getRowHeight(i);return n}},{key:"colIndexToWidth",value:function(t,e){return(e-t+1)*this.defaultCellWidth}},{key:"getRowHeight",value:function(t){var e=this.colCount;if(e<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var n,i=0,r=0;r<e;r++)i<(n=this.getCellHeight(this.colRowToCellIndex(r,t)))&&(i=n);return i}},{key:"getColWidth",value:function(t){return this.defaultCellWidth}},{key:"getCellHeight",value:function(t){if(!this.isValidCellIdx(t))return 0;var e;if(this.defaultCellHeightMode)e=this.defaultCellHeight;else{var n=this.getCell(t,!1),i=n?n.deltaHeight:0;e=this.defaultCellHeight+i}return e}},{key:"resetTotalRowsHeight",value:function(){this._totalRowsHeight=null}},{key:"cellIndxeToColIndex",value:function(t){return t%this.colCount}},{key:"cellIndxeToRowIndex",value:function(t){return Math.floor(t/this.colCount)}},{key:"getCell",value:function(t,e){if(!this.isValidCellIdx(t))return null;if(void 0===e&&(e=!0),null===this.cells[t]&&e){var n=this.newCell(t);this.cells[t]=n}return this.cells[t]}},{key:"newCell",value:function(t){var e=Ac.pop();return null===e?e=new Rc(this):e.setParent(this),e.index=t,e}},{key:"buildCellIndex",value:function(t){void 0===t&&(t=0);for(var e,n=this.cells,i=t,r=n.length;i<r;i++)(e=n[i])&&(e.index=i);return this}},{key:"getParentContainer",value:function(){return this.parent}},{key:"freeCell",value:function(t,e){return"number"==typeof t&&(t=this.cells[t]),t?(t.destroy(e),Ac.push(t),this):this}},{key:"nonZeroDeltaHeightCount",get:function(){return this._nonZeroDeltaHeightCount},set:function(t){this._nonZeroDeltaHeightCount!==t&&(this._nonZeroDeltaHeightCount=t,this.resetTotalRowsHeight())}},{key:"defaultCellHeightMode",get:function(){return 0===this.nonZeroDeltaHeightCount}},{key:"rowCount",get:function(){return Math.ceil(this.cells.length/this.colCount)}},{key:"cellsCount",get:function(){return this.cells.length}},{key:"totalRowsHeight",get:function(){return null===this._totalRowsHeight&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}},{key:"totalColumnWidth",get:function(){return this.colCount*this.defaultCellWidth}}])&&Ic(e.prototype,n),i&&Ic(e,i),t}(),zc=function(t){return t.hasOwnProperty("geometryMask")?t.geometryMask:t.bitmapMask},Bc=Phaser.Geom.Intersects.RectangleToRectangle,Yc=Phaser.Geom.Rectangle.Overlaps,Nc=function(t,e){var n=0,i=e.top,r=e.bottom,o=e.left,s=e.right;return n+=t.contains(o,i)?1:0,n+=t.contains(o,r)?1:0,n+=t.contains(s,i)?1:0,n+=t.contains(s,r)?1:0},Wc=function(t,e){t.setVisible(!0),t.clearMask&&t.clearMask()},Hc=function(t,e){t.setVisible(!0),t.setMask&&t.setMask(e)},Vc=function(t,e){t.setVisible(!1),t.clearMask&&t.clearMask()},Gc=function(t,e,n){if(e){void 0===n&&(n=t.getAllChildren());for(var i,r,o=t.getBounds(),s=zc(e),a=0,u=n.length;a<u;a++)if(!(i=n[a]).hasOwnProperty("isRexContainerLite")&&i!==s){if(i.getBounds)switch(r=i.getBounds(r),Nc(o,r)){case 4:Wc(i,e);break;case 0:Bc(o,r)||Yc(o,r)?Hc(i,e):Vc(i,e);break;default:Hc(i,e)}else Hc(i,e);t.resetChildVisibleState(i).updateChildVisible(i)}}};function Uc(t){return(Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Jc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zc(t,e,n){return(Zc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kc(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Kc(t){return(Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qc(t,e){return(qc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $c=Fn,Qc=Phaser.GameObjects.Components,th=Phaser.Structs.Set,eh=Phaser.Utils.Objects.GetValue,nh=Phaser.Math.Clamp,ih=function(t){function e(t,n,i,r,o,s){var a,u,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===s&&(s={}),u=this,(a=!(c=Kc(e).call(this,t,n,i,r,o))||"object"!==Uc(c)&&"function"!=typeof c?Jc(u):c).type="rexGridTable",a._tableOX=0,a._tableOY=0,a.visibleCells=new th,a.preVisibleCells=new th,a.visibleStartX=null,a.visibleEndX=null,a.visibleStartY=null,a.visibleEndY=null,a.lastVisibleCellIdx=null,a.execeedTopState=!1,a.execeedBottomState=!1,a.execeedLeftState=!1,a.execeedRightState=!1;var h=eh(s,"reuseCellContainer",!1);a.cellContainersPool=h?t.add.group():void 0;var l=eh(s,"cellVisibleCallback",null);if(null!==l){var f=eh(s,"cellVisibleCallbackScope",void 0);a.on("cellvisible",l,f)}if(null!==(l=eh(s,"cellInvisibleCallback",null))){f=eh(s,"cellInvisibleCallbackScope",void 0);a.on("cellinvisible",l,f)}if(a.cellsMask=void 0,a.setCellsMask(eh(s,"mask",!0)),a.setScrollMode(eh(s,"scrollMode",0)),a.setClampMode(eh(s,"clamplTableOXY",!0)),0===a.scrollMode){var d=eh(s,"cellWidth",void 0);if(a.expandCellSize=void 0===d,void 0===d){var p=eh(s,"columns",1);s.cellWidth=a.width/p}}else{d=eh(s,"cellHeight",void 0);var y=eh(s,"cellWidth",void 0);a.expandCellSize=void 0===d,s.cellWidth=d,s.cellHeight=y}return a.table=new Fc(Jc(a),s),a.updateTable(),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qc(t,e)}(e,$c),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(t||this.setCellsCount(0),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),Zc(Kc(e.prototype),"destroy",this).call(this,t))}},{key:"setScrollMode",value:function(t){return"string"==typeof t&&(t=rh[t.toLowerCase()]),this.scrollMode=t,this}},{key:"setClampMode",value:function(t){return this.clampTableOXYMode=t,this}},{key:"setCellsCount",value:function(t){var e=this.cellsCount;return e===t?this:(e>t?this.removeCell(t,e-t):this.insertNewCell(e,t-e),this)}},{key:"setColumnCount",value:function(t){return this.table.colCount===t?this:(this.table.setColumnCount(t),this)}},{key:"setGridSize",value:function(t,e){return this.setCellsCount(t*e),this.table.setColumnCount(t),this}},{key:"insertNewCell",value:function(t,e){return"object"===Uc(t)&&(t=t.index),void 0===e&&(e=1),e<=0?this:(t=nh(t,0,this.cellsCount),this.table.insertNewCell(t,e),this)}},{key:"removeCell",value:function(t,e){if("object"===Uc(t)&&(t=t.index),void 0===e&&(e=1),t<0&&(e+=t,t=0),e<=0)return this;if(t>this.cellsCount)return this;if(t<=this.lastVisibleCellIdx)for(var n,i=this.preVisibleCells,r=this.visibleCells,o=t,s=t+e;o<s;o++)(n=this.getCell(o,!1))&&(r.contains(n)&&(this.hideCell(n),r.delete(n)),i.delete(n));return this.table.removeCell(t,e),this}},{key:"setTableOY",value:function(t){var e=this.table,n=this.topTableOY,i=this.bottomTableOY,r=this.tableOYExceedTop(t),o=this.tableOYExeceedBottom(t);this.clampTableOXYMode&&(e.rowCount<e.heightToRowIndex(this.instHeight,!0)?t=0:r?t=n:o&&(t=i));return this._tableOY!==t&&(this._tableOY=t),r&&(this.execeedTopState||this.emit("execeedtop",this,t,n)),this.execeedTopState=r,o&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=o,this}},{key:"setTableOX",value:function(t){var e=this.table,n=this.leftTableOX,i=this.rightTableOX,r=this.tableOXExeceedLeft(t),o=this.tableOXExeceedRight(t);this.clampTableOXYMode&&(e.colCount<e.widthToColIndex(this.instWidth,!0)?t=0:r?t=n:o&&(t=i));return this._tableOX!==t&&(this._tableOX=t),r&&(this.execeedLeftState||this.emit("execeedleft",this,t,n)),this.execeedLeftState=r,o&&(this.execeedRightState||this.emit("execeedright",this,t,i)),this.execeedRightState=o,this}},{key:"setTableOXY",value:function(t,e){return this.setTableOY(e).setTableOX(t),this}},{key:"addTableOY",value:function(t){return this.setTableOY(this.tableOY+t),this}},{key:"addTableOX",value:function(t){return this.setTableOX(this.tableOX+t),this}},{key:"addTableOXY",value:function(t,e){return this.addTableOY(e).addTableOX(t),this}},{key:"setTableOYByPercentage",value:function(t){return this.setTableOY(-this.tableVisibleHeight*t),this}},{key:"getTableOYPercentage",value:function(){var t=this.tableVisibleHeight;return 0===t?0:this.tableOY/-t}},{key:"updateTable",value:function(t){return void 0===t&&(t=!1),t&&(this.clearVisibleCellIndexes(),this.hideCells()),this.clearVisibleCellIndexes(),this.showCells(),this.hideCells(),this.maskCells(),this}},{key:"getCell",value:function(t){return this.table.getCell(t,!0)}},{key:"getCellContainer",value:function(t){var e,n=this.table.getCell(t,!1);return n&&(e=n.getContainer()),e}},{key:"setCellHeight",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).height=e,this}},{key:"setCellWidth",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).width=e,this}},{key:"pointerToCellIndex",value:function(t,e){e-=this.y+this.topLeftY,t-=this.x+this.topLeftX;var n=this.tableOY-(0===this.scrollMode?e:t),i=this.tableOX-(0===this.scrollMode?t:e),r=this.table,o=r.heightToRowIndex(-n),s=r.widthToColIndex(-i),a=r.colRowToCellIndex(s,o);return null===a?null:this.cellIsVisible(a)?a:null}},{key:"pointerToCellContainer",value:function(t,e){var n=this.pointerToCellIndex(t,e);if(null!==n)return this.getCellContainer(n)}},{key:"cellIsVisible",value:function(t){var e=this.table.getCell(t,!1);return e&&this.visibleCells.contains(e)}},{key:"eachVisibleCell",value:function(t,e){return this.visibleCells.each(t,e),this}},{key:"iterateVisibleCell",value:function(t,e){return this.visibleCells.iterate(t,e),this}},{key:"setCellsMask",value:function(t){var e,n;if(!0===t?(e=!0,n=0):!1===t?e=!1:(e=eh(t,"mask",!0),n=eh(t,"padding",0)),e){var i=new pa(this,0,n);this.cellsMask=i.createGeometryMask(),this.add(i)}return this}},{key:"maskCells",value:function(){for(var t,e=[],n=this.visibleCells.entries,i=0,r=n.length;i<r;i++)(t=n[i].getContainer())&&(t.isRexContainerLite?t.getAllChildren(e):e.push(t));Gc(this,this.cellsMask,e)}},{key:"resize",value:function(t,n){return this.width===t&&this.height===n?this:(Zc(Kc(e.prototype),"resize",this).call(this,t,n),this.cellsMask&&zo(zc(this.cellsMask),t,n),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this)}},{key:"clearVisibleCellIndexes",value:function(){var t=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=t,this.visibleCells.clear()}},{key:"showCells",value:function(){if(0!==this.cellsCount){var t=this.table,e=t.heightToRowIndex(-this.tableOY);e<0&&(e=0);var n=t.widthToColIndex(-this.tableOX);n<0&&(n=0);var i=t.colRowToCellIndex(n,e),r=this.bottomBound,o=this.rightBound,s=t.cellsCount-1,a=t.colCount-1,u=this.getTLX(n),c=u,h=this.getTLY(e);for(this.visibleStartY=null,this.visibleEndY=null,this.visibleStartX=null,this.visibleEndX=null,this.lastVisibleCellIdx=null;h<r&&i<=s;){if(this.table.isValidCellIdx(i)){null===this.visibleStartY&&(this.visibleStartY=e,this.visibleEndY=e),null===this.visibleStartX&&(this.visibleStartX=n,this.visibleEndX=n),null===this.lastVisibleCellIdx&&(this.lastVisibleCellIdx=i),this.visibleEndY<e&&(this.visibleEndY=e),this.visibleEndX<n&&(this.visibleEndX=n),this.lastVisibleCellIdx<i&&(this.lastVisibleCellIdx=i);var l=t.getCell(i,!0);this.visibleCells.set(l),this.preVisibleCells.contains(l)||this.showCell(l),0===this.scrollMode?l.setXY(c,h):l.setXY(h,c)}c<o&&n<a?(c+=t.getColWidth(n),n+=1):(c=u,h+=t.getRowHeight(e),n=this.visibleStartX,e+=1),i=t.colRowToCellIndex(n,e)}}}},{key:"showCell",value:function(t){var e=null;if(this.cellContainersPool&&null!==(e=this.cellContainersPool.getFirstDead())&&e.setActive(!0).setVisible(!0),this.emit("cellvisible",t,e),this.cellContainersPool){var n=t.getContainer();n?null===e?this.cellContainersPool.add(n):e!==n&&(this.cellContainersPool.add(n),this.cellContainersPool.killAndHide(e)):null!==e&&this.cellContainersPool.killAndHide(e)}}},{key:"hideCells",value:function(){var t=this.preVisibleCells,e=this.visibleCells;t.iterate(function(t){e.contains(t)||this.hideCell(t)},this)}},{key:"hideCell",value:function(t){if(this.emit("cellinvisible",t),this.cellContainersPool){var e=t.popContainer();e&&this.cellContainersPool.killAndHide(e)}t.destroyContainer()}},{key:"tableOYExceedTop",value:function(t){return void 0===t&&(t=this.tableOY),t>this.topTableOY}},{key:"tableOYExeceedBottom",value:function(t){return void 0===t&&(t=this.tableOY),t<this.bottomTableOY}},{key:"tableOXExeceedLeft",value:function(t){return void 0===t&&(t=this.tableOX),t>this.leftTableOX}},{key:"tableOXExeceedRight",value:function(t){return void 0===t&&(t=this.tableOX),t<this.rightTableOX}},{key:"getTLX",value:function(t){var e=0===this.scrollMode?this.topLeftX:this.topLeftY;return this.tableOX+this.table.colIndexToWidth(0,t-1)+e}},{key:"getTLY",value:function(t){var e=0===this.scrollMode?this.topLeftY:this.topLeftX;return this.tableOY+this.table.rowIndexToHeight(0,t-1)+e}},{key:"tableOY",get:function(){return this._tableOY},set:function(t){this.setTableOY(t).updateTable()}},{key:"tableOX",get:function(){return this._tableOX},set:function(t){this.setTableOX(t).updateTable()}},{key:"t",set:function(t){this.setTableOYByPercentage(t).updateTable()},get:function(){return this.getTableOYPercentage()}},{key:"cellsCount",get:function(){return this.table.cellsCount}},{key:"columnCount",get:function(){return this.table.colCount}},{key:"instHeight",get:function(){return 0===this.scrollMode?this.height:this.width}},{key:"instWidth",get:function(){return 0===this.scrollMode?this.width:this.height}},{key:"tableHeight",get:function(){return this.table.totalRowsHeight}},{key:"tableWidth",get:function(){return this.table.totalColumnWidth}},{key:"topTableOY",get:function(){return 0}},{key:"bottomTableOY",get:function(){return-this.tableVisibleHeight}},{key:"leftTableOX",get:function(){return 0}},{key:"rightTableOX",get:function(){return-this.tableVisibleWidth}},{key:"tableVisibleHeight",get:function(){var t=this.tableHeight,e=this.instHeight;return t>e?t-e:0}},{key:"tableVisibleWidth",get:function(){var t=this.tableWidth,e=this.instWidth;return t>e?t-e:0}},{key:"bottomLeftY",get:function(){return-this.displayHeight*this.originY+this.displayHeight}},{key:"topRightX",get:function(){return-this.displayWidth*this.originX+this.displayWidth}},{key:"topLeftX",get:function(){return-this.displayWidth*this.originX}},{key:"topLeftY",get:function(){return-this.displayHeight*this.originY}},{key:"bottomBound",get:function(){return 0===this.scrollMode?this.bottomLeftY:this.topRightX}},{key:"rightBound",get:function(){return 0===this.scrollMode?this.topRightX:this.bottomLeftY}}])&&Xc(n.prototype,i),r&&Xc(n,r),e}();Object.assign(ih.prototype,Qc.GetBounds);var rh={v:0,vertical:0,h:1,horizontal:1},oh=ih,sh=function(t){Object.defineProperty(t,"childOY",{configurable:!0,get:function(){return t.tableOY},set:function(e){t.tableOY=e}}),Object.defineProperty(t,"topChildOY",{get:function(){return t.topTableOY}}),Object.defineProperty(t,"bottomChildOY",{get:function(){return t.bottomTableOY}})},ah=function(t){t.on("cellvisible",function(t,e){var n,i=this.createCellContainerCallback,r=this.createCellContainerCallbackScope;t.item=this.items[t.index],(n=r?i.call(r,t,e):i(t,e)).setOrigin&&n.setOrigin(0),n.isRexSizer&&n.layout(),t.item=void 0,t.setContainer(n)},this)},uh=function(t,e,n,i,r){var o;if(null!==(o=void 0===r?i:n.pointerToCellIndex(i,r))&&void 0!==o){var s=n.getCellContainer(o);t.emit(e,s,o)}},ch=function(t){t._click=new Ta(t,{threshold:10}),t._click.on("click",function(t,e,n){uh(this.eventEmitter,"cell.click",e,n.x,n.y)},this)},hh=function(t){if(!t.isDown){var e=this.childrenMap.child,n=e.pointerToCellIndex(t.x,t.y);if(n!==this._lastOverCellIndex){var i=this._lastOverCellIndex;this._lastOverCellIndex=n,uh(this.eventEmitter,"cell.out",e,i),uh(this.eventEmitter,"cell.over",e,n)}}},lh=function(){var t=this.childrenMap.child,e=this._lastOverCellIndex;this._lastOverCellIndex=void 0,uh(this.eventEmitter,"cell.out",t,e)},fh=function(t){t.on("pointermove",hh,this).on("pointerover",hh,this).on("pointerup",lh,this).on("pointerout",lh,this)};function dh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ph=Phaser.Utils.Objects.GetValue,yh=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this._isRunning=!1,this.tickingState=!1,this.setEventEmitter(ph(n,"eventEmitter",void 0)),this.setTickingMode(ph(n,"tickingMode",1))}var e,n,i;return e=t,(n=[{key:"boot",value:function(){2!==this.tickingMode||this.tickingState||this.startTicking()}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.tickingState&&this.stopTicking()}},{key:"setTickingMode",value:function(t){"string"==typeof t&&(t=vh[t]),this.tickingMode=t}},{key:"startTicking",value:function(){this.tickingState=!0}},{key:"stopTicking",value:function(){this.tickingState=!1}},{key:"start",value:function(){return this.isRunning=!0,this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this}},{key:"complete",value:function(){this.isRunning=!1,this.emit("complete",this.parent,this)}},{key:"isRunning",get:function(){return this._isRunning},set:function(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}}])&&dh(e.prototype,n),i&&dh(e,i),t}();Object.assign(yh.prototype,eo);var vh={no:0,lazy:1,always:2},gh=yh;function bh(t){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function xh(t,e){return!e||"object"!==bh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wh(t,e,n){return(wh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Oh(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Oh(t){return(Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kh(t,e){return(kh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sh=Phaser.Utils.Objects.GetValue,Ph=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=ro(t);return r===t&&(t=void 0),(i=xh(this,Oh(e).call(this,r,n))).scene=r,i.gameObject=t,t&&t.setInteractive(Sh(n,"inputConfig",void 0)),i.resetFromJSON(n),i.boot(),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kh(t,e)}(e,gh),n=e,(i=[{key:"resetFromJSON",value:function(t){return this.setEnable(Sh(t,"enable",!0)),void 0===this.gameObject?this.bounds=Sh(t,"bounds",void 0):this.bounds=void 0,this.tracerState=Ch,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}},{key:"boot",value:function(){wh(Oh(e.prototype),"boot",this).call(this),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.gameObject?this.gameObject.off("pointerdown",this.onPointerDown,this):this.scene&&this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene&&(this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0,this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,wh(Oh(e.prototype),"shutdown",this).call(this)}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"onPointerDown",value:function(t,e){this.enable&&(void 0===this.pointer&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=Th,void 0===this.gameObject&&(this.isTouchingAnyObject=e.length>0),this.onDragStart()))}},{key:"onPointerUp",value:function(t){this.enable&&((!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=Ch,this.onDragEnd()))}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),n=this.pointer===t;!n&&e||(n&&!e?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}},{key:"dragCancel",value:function(){return this.tracerState===Th&&this.onDragEnd(),this.pointer=void 0,this.tracerState=Ch,this}},{key:"onDragStart",value:function(){this.emit("dragstart",this)}},{key:"onDragEnd",value:function(){this.emit("dragend",this)}},{key:"onDrag",value:function(){this.emit("drag",this)}},{key:"preUpdate",value:function(t,e){}},{key:"postUpdate",value:function(t,e){}},{key:"startTicking",value:function(){wh(Oh(e.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preUpdate,this),this.scene.events.on("postupdate",this.postUpdate,this)}},{key:"stopTicking",value:function(){wh(Oh(e.prototype),"stopTicking",this).call(this),this.scene&&(this.scene.events.off("preupdate",this.preUpdate,this),this.scene.events.off("postupdate",this.postUpdate,this))}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=_h,this}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&mh(n.prototype,i),r&&mh(n,r),e}(),Ch=0,Th=1,_h="IDLE",Eh=Ph;function jh(t){return(jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Rh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ih(t,e,n){return(Ih="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dh(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Dh(t){return(Dh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lh(t,e){return(Lh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ah=Phaser.Utils.Objects.GetValue,Fh=Phaser.Math.Distance.Between,zh=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=Rh(i=function(t,e){return!e||"object"!==jh(e)&&"function"!=typeof e?Rh(t):e}(this,Dh(e).call(this,t,n))),o={states:{IDLE:{enter:function(){r.stop(),r.tapsCount=0,r.x=0,r.y=0,r.worldX=0,r.worldY=0},exit:function(){var t=r.lastPointer;r.x=t.x,r.y=t.y,r.worldX=t.worldX,r.worldY=t.worldY}},BEGIN:{enter:function(){r.start(),r.tapsCount=0,r.emit("tappingstart",r,r.gameObject,r.lastPointer)}},RECOGNIZED:{enter:function(){r.start(),r.emit("tap",r,r.gameObject,r.lastPointer),r.emit("".concat(r.tapsCount,"tap"),r,r.gameObject,r.lastPointer)}}},init:function(){this.state=Bh},eventEmitter:!1};return i.setRecongizedStateObject(new qu(o)),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lh(t,e)}(e,Eh),n=e,(i=[{key:"resetFromJSON",value:function(t){Ih(Dh(e.prototype),"resetFromJSON",this).call(this,t),this.setMaxHoldTime(Ah(t,"time",250)),this.setTapInterval(Ah(t,"tapInterval",200)),this.setDragThreshold(Ah(t,"threshold",9)),this.setTapOffset(Ah(t,"tapOffset",10));var n=Ah(t,"taps",void 0);return void 0!==n?this.setTaps(n):(this.setMaxTaps(Ah(t,"maxTaps",void 0)),this.setMinTaps(Ah(t,"minTaps",void 0))),this}},{key:"onDragStart",value:function(){switch(this.state){case Bh:this.state=Yh;break;case Yh:var t=this.lastPointer;Fh(t.upX,t.upY,t.x,t.y)>this.tapOffset&&(this.state=Nh,this.state=Yh);break;case Nh:this.state=Yh}}},{key:"onDragEnd",value:function(){this.state===Yh&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),void 0!==this.maxTaps&&this.tapsCount===this.maxTaps&&(this.state=Nh))}},{key:"onDrag",value:function(){this.state!==Bh&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Bh)}},{key:"preUpdate",value:function(t,e){if(this.state===Yh){var n=this.lastPointer;if(n.isDown)t-n.downTime>this.holdTime&&(this.state=Bh);else t-n.upTime>this.tapInterval&&(void 0===this.minTaps||this.tapsCount>=this.minTaps?this.state=Nh:this.state=Bh)}}},{key:"postUpdate",value:function(t,e){this.state===Nh&&(this.state=Bh)}},{key:"setMaxHoldTime",value:function(t){return this.holdTime=t,this}},{key:"setTapInterval",value:function(t){return this.tapInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setTapOffset",value:function(t){return this.tapOffset=t,this}},{key:"setMaxTaps",value:function(t){return this.maxTaps=t,this}},{key:"setMinTaps",value:function(t){return this.minTaps=t,this}},{key:"setTaps",value:function(t,e){return void 0===e&&(e=t),this.setMinTaps(t).setMaxTaps(e),this}},{key:"isTapped",get:function(){return this.state===Nh}}])&&Mh(n.prototype,i),r&&Mh(n,r),e}(),Bh="IDLE",Yh="BEGIN",Nh="RECOGNIZED",Wh=zh,Hh=function(t){t._tap=new Wh(t),t._tap.on("tap",function(t){var e="cell.".concat(t.tapsCount,"tap");uh(this.eventEmitter,e,t.gameObject,t.x,t.y)},this)};function Vh(t){return(Vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Uh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xh(t,e,n){return(Xh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jh(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Jh(t){return(Jh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zh(t,e){return(Zh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kh=Phaser.Utils.Objects.GetValue,qh=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=Uh(i=function(t,e){return!e||"object"!==Vh(e)&&"function"!=typeof e?Uh(t):e}(this,Jh(e).call(this,t,n))),o={states:{IDLE:{enter:function(){r.x=0,r.y=0,r.worldX=0,r.worldY=0},exit:function(){var t=r.lastPointer;r.x=t.x,r.y=t.y,r.worldX=t.worldX,r.worldY=t.worldY}},BEGIN:{enter:function(){r.start()},exit:function(){r.stop()}},RECOGNIZED:{enter:function(){r.emit("pressstart",r,r.gameObject,r.lastPointer)},exit:function(){r.emit("pressend",r,r.gameObject,r.lastPointer)}}},init:function(){this.state=$h},eventEmitter:!1};return i.setRecongizedStateObject(new qu(o)),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zh(t,e)}(e,Eh),n=e,(i=[{key:"resetFromJSON",value:function(t){return Xh(Jh(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(Kh(t,"threshold",9)),this.setMinHoldTime(Kh(t,"time",251)),this}},{key:"onDragStart",value:function(){this.state=0===this.holdTime?tl:Qh}},{key:"onDragEnd",value:function(){this.state=$h}},{key:"onDrag",value:function(){this.state!==$h&&this.pointer.getDistance()>this.dragThreshold&&(this.state=$h)}},{key:"preUpdate",value:function(t,e){this.state===Qh&&(t-this.pointer.downTime>=this.holdTime&&(this.state=tl))}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinHoldTime",value:function(t){return this.holdTime=t,this}},{key:"isPressed",get:function(){return this.state===tl}}])&&Gh(n.prototype,i),r&&Gh(n,r),e}(),$h="IDLE",Qh="BEGIN",tl="RECOGNIZED",el=qh,nl=function(t){t._press=new el(t),t._press.on("pressstart",function(t){var e=t.gameObject,n=e.pointerToCellIndex(t.x,t.y);t._cellIndex=n,uh(this.eventEmitter,"cell.pressstart",e,n)},this).on("pressend",function(t){var e=t.gameObject,n=t._cellIndex;t._cellIndex=void 0,uh(this.eventEmitter,"cell.pressend",e,n)},this)},il=function(t){t.setInteractive(),ch.call(this,t),fh.call(this,t),Hh.call(this,t),nl.call(this,t)},rl=function(t){void 0===t?this.items.length=0:this.items=t;var e=this.childrenMap.child;return e.setCellsCount(this.items.length),e.updateTable(!0),this.resizeController(),this};function ol(t){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function al(t){return(al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ul(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cl(t,e){return(cl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hl=Phaser.Utils.Objects.GetValue,ll=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n={});var r=Uu(n),o=hl(n,"table",void 0);void 0===o&&(o={}),o.scrollMode=r,o.clamplTableOXY=hl(n,"clamplChildOY",!1);var s,a,u=hl(o,"width",void 0),c=hl(o,"height",void 0),h=new oh(t,0,0,u,c,o);0===r?(s=void 0===u?1:0,a=void 0===c):(s=void 0===c?1:0,a=void 0===u),sh(h),n.type="rexGridTable",n.child={gameObject:h,proportion:s,expand:a};var l,f,d=hl(n,"space",void 0);d&&(d.child=d.table),l=this,(i=!(f=al(e).call(this,t,n))||"object"!==ol(f)&&"function"!=typeof f?ul(l):f).addChildrenMap("table",h),i.eventEmitter=hl(n,"eventEmitter",ul(i));var p=hl(n,"createCellContainerCallback",k),y=hl(n,"createCellContainerCallbackScope",void 0);return i.setCreateCellContainerCallback(p,y),ah.call(ul(i),h),hl(o,"interactive",!0)&&il.call(ul(i),h),i.setItems(hl(n,"items",[])),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cl(t,e)}(e,_c),n=e,(i=[{key:"setCreateCellContainerCallback",value:function(t,e){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=e,this}},{key:"refresh",value:function(){return this.childrenMap.child.updateTable(!0),this}}])&&sl(n.prototype,i),r&&sl(n,r),e}(),fl={setItems:rl};Object.assign(ll.prototype,fl);var dl=ll;r.register("gridTable",function(t){var e=new dl(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.GridTable",dl);var pl=function(t,e){return e.orientation=t.orientation,e},yl={expandSubMenu:function(t,e){var n;this.collapseSubMenu(),n=this.root.toggleOrientation?0===this.orientation?1:0:this.orientation;var i=new this.constructor(this.scene,{items:e,orientation:n,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:t});return this.pin(i),this.childrenMap.subMenu=i,this.root.emit("expand",i,t,this),this},collapse:function(){return this.root.emit("collapse",this,this.parentButton,this.parentMenu),this.scaleDownDestroy(pl(this,this.root.easeOut)),this.collapseSubMenu(),this},collapseSubMenu:function(){if(void 0===this.childrenMap.subMenu)return this;var t=this.childrenMap.subMenu;return this.childrenMap.subMenu=void 0,this.remove(t),t.collapse(),this}},vl=function(t,e,n,i){var r;return n&&(e.scene=t,r=i?n.call(i,e):n(e),e.scene=void 0),r},gl=function(t,e,n,i){var r,o,s=[];if(e&&n)for(var a=0,u=e.length;a<u;a++)(r=e[a]).scene=t,o=i?n.call(i,r,a,e):n(r,a,e),r.scene=void 0,s.push(o);return s},bl=function(t){t.on(t.root.expandEventName,function(t,e){if(!this._isPassedEvent){var n=this.items[e].children;n&&this.expandSubMenu(t,n)}},t).on("button.click",function(t,e,n,i){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,e,n,i),this.root._isPassedEvent=!1)},t).on("button.over",function(t,e,n,i){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,e,n,i),this.root._isPassedEvent=!1)},t).on("button.out",function(t,e,n,i){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,e,n,i),this.root._isPassedEvent=!1)},t)};function ml(t){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function wl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ol(t,e,n){return(Ol="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kl(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function kl(t){return(kl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sl(t,e){return(Sl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pl=Phaser.Utils.Objects.GetValue,Cl=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n={}),n.hasOwnProperty("orientation")||(n.orientation=1);var r=n._rootMenu,o=n._parentMenu,s=n._parentButton,a=Pl(n,"items",void 0),u=Pl(n,"createBackgroundCallback",void 0),c=Pl(n,"createBackgroundCallbackScope",void 0);n.background=vl(t,a,u,c);var h,l,f=Pl(n,"createButtonCallback",void 0),d=Pl(n,"createButtonCallbackScope",void 0);n.buttons=gl(t,a,f,d),h=this,(i=!(l=kl(e).call(this,t,n))||"object"!==ml(l)&&"function"!=typeof l?wl(h):l).type="rexMenu",i.items=a,i.root=void 0===r?wl(i):r,i.parentMenu=o,i.parentButton=s;var p=i.root===wl(i);p&&(void 0===(y=n.bounds)&&(y=Rr(t)),i.bounds=y,i.expandEventName=Pl(n,"expandEvent","button.click"),i.toggleOrientation=Pl(n,"toggleOrientation",!1),i.easeIn=Pl(n,"easeIn",0),"number"==typeof i.easeIn&&(i.easeIn={duration:i.easeIn}),i.easeOut=Pl(n,"easeOut",0),"number"==typeof i.easeOut&&(i.easeOut={duration:i.easeOut}),i.createBackgroundCallback=u,i.createBackgroundCallbackScope=c,i.createButtonCallback=f,i.createButtonCallbackScope=d,i._isPassedEvent=!1);i.setOrigin(0).layout();var y=i.root.bounds;if(p)i.expandOrientation=[i.y<y.centerY?1:3,i.x<y.centerX?0:2];else switch(i.root.expandOrientation[o.orientation]){case 0:i.alignTop(s.top).alignLeft(s.right);break;case 1:i.alignLeft(s.left).alignTop(s.bottom);break;case 2:i.alignTop(s.top).alignRight(s.left);break;case 3:i.alignLeft(s.left).alignBottom(s.top)}return i.pushIntoBounds(y),bl(wl(i)),i.popUp(pl(wl(i),i.root.easeIn)),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sl(t,e)}(e,Na),n=e,(i=[{key:"isInTouching",value:function(t){return!!Ol(kl(e.prototype),"isInTouching",this).call(this,t)||!!this.childrenMap.subMenu&&this.childrenMap.subMenu.isInTouching(t)}}])&&xl(n.prototype,i),r&&xl(n,r),e}();Object.assign(Cl.prototype,yl);var Tl=Cl;r.register("menu",function(t){var e=new Tl(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.Menu",Tl);var _l=Phaser.GameObjects.Text,El=function(t){return t instanceof _l};function jl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ml=Phaser.Utils.Objects.GetValue,Rl=Phaser.Math.Clamp,Il=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=ro(e),this.setTextObjectType(),this.lines=void 0,this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setText(Ml(t,"text","")),this.setStartIdx(Ml(t,"start",0)),this.setPageIdx(Ml(t,"page",-1)),this}},{key:"toJSON",value:function(){return{text:this.text,start:this.startLineIdx,page:this.pageIndex,pageCount:this.pageCount}}},{key:"boot",value:function(){this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){this.shutdown()}},{key:"setTextObjectType",value:function(){return this.textObjectType=El(this.gameObject)?0:1,this}},{key:"setText",value:function(t,e){return void 0===e&&(e=!0),this.text=Dl(t),0===this.textObjectType?this.lines=this.gameObject.getWrappedText(this.text):this.lines=this.gameObject.getPenManager(this.text,this.lines),this.pageCount=Math.ceil(this.totalLinesCount/this.pageLinesCount),e&&this.resetPageIdx(),this}},{key:"appendText",value:function(t){return this.setText(this.text.concat(Dl(t))),this}},{key:"getPage",value:function(t){return void 0===t&&(t=this.pageIndex),this.setPageIdx(t).getLines()}},{key:"getNextPage",value:function(){return this.getPage(this.pageIndex+1)}},{key:"getPreviousPage",value:function(){return this.getPage(this.pageIndex-1)}},{key:"showPage",value:function(t){return this.displayText(this.getPage()),this}},{key:"showNextPage",value:function(){return this.displayText(this.getNextPage()),this}},{key:"showPreviousPage",value:function(){return this.displayText(this.getPreviousPage()),this}},{key:"show",value:function(){return this.displayText(this.getLines()),this}},{key:"showNextLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx+1).getLines()),this}},{key:"showPreviousLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx-1).getLines()),this}},{key:"setStartIdx",value:function(t){return t=Rl(t,0,this.totalLinesCount-1),this.startLineIdx=t,this}},{key:"resetPageIdx",value:function(){this.pageIndex=-1}},{key:"setPageIdx",value:function(t){return t=Rl(t,0,this.pageCount-1),this.pageIndex=t,this.setStartIdx(this.pageIndex*this.pageLinesCount),this}},{key:"getLines",value:function(t){void 0===t&&(t=this.startLineIdx);var e,n=t+this.pageLinesCount;if(0===this.textObjectType)e=this.lines.slice(t,n).join("\n");else{var i=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(n-1);e=this.lines.getSliceTagText(i,r,!0)}return e}},{key:"displayText",value:function(t){this.gameObject.setText(t)}},{key:"isFirstPage",get:function(){return this.pageIndex<=0}},{key:"isLastPage",get:function(){return this.pageIndex>=this.pageCount-1}},{key:"totalLinesCount",get:function(){return 0===this.textObjectType?this.lines.length:this.lines.linesCount}},{key:"pageLinesCount",get:function(){var t=this.gameObject.style.maxLines;return t>0?t:this.totalLinesCount}}])&&jl(e.prototype,n),i&&jl(e,i),t}(),Dl=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},Ll=Il;function Al(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Fl=Phaser.Utils.Objects.GetFastValue,zl=Phaser.Utils.Objects.GetValue,Bl=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=ro(e),this.setEventEmitter(zl(n,"eventEmitter",void 0)),this.timer=null,this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){this.setTypeMode(zl(t,"typeMode",0)),this.setTypeSpeed(zl(t,"speed",333)),this.setTextCallback=Fl(t,"setTextCallback",null),this.setTextCallbackScope=Fl(t,"setTextCallbackScope",null),this.typingIdx=Fl(t,"typingIdx",0),this.text=Yl(Fl(t,"text","")),this.textLen=Fl(t,"textLen",0),this.insertIdx=Fl(t,"insertIdx",null);var e=Fl(t,"elapsed",null);return null!==e&&this.start(void 0,void 0,this.typingIdx,e),this}},{key:"toJSON",value:function(){var t,e=this.getTimer();return t=e?e.elapsed:null,{typeMode:this.typeMode,speed:this.speed,setTextCallback:this.setTextCallback,setTextCallbackScope:this.setTextCallbackScope,typingIdx:this.typingIdx,text:this.text,textLen:this.textLen,insertIdx:this.insertIdx,elapsed:t}}},{key:"boot",value:function(){return this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this),this}},{key:"shutdown",value:function(){return this.destroyEventEmitter(),this.freeTimer(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setTypeMode",value:function(t){return"string"==typeof t&&(t=Nl[t]),this.typeMode=t,this}},{key:"setTypeSpeed",value:function(t){return this.speed=t,this}},{key:"start",value:function(t,e,n,i){return void 0!==t&&this.setTypingContent(t),void 0!==e&&(this.speed=e),void 0===n&&(n=0),this.typingIdx=n+1,0===this.speed?this.stop(!0):this.startTimer(i),this}},{key:"appendText",value:function(t){var e=this.text.concat(Yl(t));return this.isTyping?this.setTypingContent(e):this.start(e,void 0,this.textLen),this}},{key:"stop",value:function(t){return this.getTimer()&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.gameObject)),this}},{key:"pause",value:function(){var t=this.getTimer();return t&&(t.paused=!0),this}},{key:"resume",value:function(){var t=this.getTimer();return t&&(t.paused=!1),this}},{key:"setTypingContent",value:function(t){return this.text=Yl(t),this.textLen=this.getTextLength(this.text),this}},{key:"onTyping",value:function(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.gameObject)):(this.timer.delay=this.speed,this.typingIdx++)}},{key:"getTypingString",value:function(t,e,n,i){var r;if(0===i){var o=0,s=e;this.insertIdx=s,r=this.getSubString(t,o,s)}else if(1===i){o=(s=n)-e;this.insertIdx=0,r=this.getSubString(t,o,s)}else if(2===i){var a=n/2;s=(o=Math.floor(a-e/2))+e;this.insertIdx=e%2?e:0,r=this.getSubString(t,o,s)}else if(3===i){var u,c=Math.floor(e/2);if(c>0){o=(s=n)-c;u=this.getSubString(t,o,s)}else u="";var h,l=e-c;if(l>0){s=(o=0)+l;this.insertIdx=s,h=this.getSubString(t,o,s)}else h="",this.insertIdx=0;r=h+u}return r}},{key:"startTimer",value:function(t){var e;return this.timer&&this.freeTimer(),void 0===t?(0,e=0):(this.speed,e=t),this.timer=this.scene.time.addEvent({delay:0,startAt:e,loop:!0,callback:this.onTyping,callbackScope:this}),this}},{key:"getTimer",value:function(){return this.timer}},{key:"freeTimer",value:function(){return this.timer&&(this.timer.remove(),this.timer=null),this}},{key:"setText",value:function(t){this.setTextCallback&&(t=this.setTextCallbackScope?this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.gameObject.setText(t)}},{key:"getTextLength",value:function(t){var e=this.gameObject;return e.getPlainText?e.getPlainText(t).length:t.length}},{key:"getSubString",value:function(t,e,n){var i=this.gameObject;return i.getSubString?i.getSubString(t,e,n):t.slice(e,n)}},{key:"isTyping",get:function(){return null!==this.getTimer()}},{key:"isLastChar",get:function(){return this.typingIdx===this.textLen}}])&&Al(e.prototype,n),i&&Al(e,i),t}();Object.assign(Bl.prototype,eo);var Yl=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},Nl={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},Wl=Bl;function Hl(t){return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Gl(t){return(Gl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ul(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xl(t,e){return(Xl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jl=Phaser.Utils.Objects.GetValue,Zl=function(t){function e(t,n){var i,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n={text:Kl(t)}),r=this,(i=!(o=Gl(e).call(this,t,n))||"object"!==Hl(o)&&"function"!=typeof o?Ul(r):o).type="rexTextBox";var s=i.childrenMap.text;return i.page=new Ll(s,Jl(n,"page",void 0)),i.typing=new Wl(s,Jl(n,"type",void 0)),i.typing.on("complete",i.onPageEnd,Ul(i)).on("type",i.onType,Ul(i)),i.textWidth=s.width,i.textHeight=s.height,i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xl(t,e)}(e,Oa),n=e,(i=[{key:"start",value:function(t,e){return this.page.setText(t),void 0!==e&&this.typing.setTypeSpeed(e),this.typeNextPage(),this}},{key:"typeNextPage",value:function(){if(this.page.isLastPage)this.emit("complete");else{var t=this.page.getNextPage();this.typing.start(t)}return this}},{key:"pause",value:function(){return this.typing.pause(),this}},{key:"resume",value:function(){return this.typing.resume(),this}},{key:"stop",value:function(t){return this.typing.stop(t),this}},{key:"onType",value:function(){var t=this.childrenMap.text;this.textWidth===t.width&&this.textHeight===t.height||(this.textWidth=t.width,this.textHeight=t.height,this.getTopmostSizer().layout()),this.emit("type")}},{key:"onPageEnd",value:function(){this.emit("pageend")}},{key:"isTyping",get:function(){return this.typing.isTyping}},{key:"isLastPage",get:function(){return this.page.isLastPage}},{key:"isFirstPage",get:function(){return this.page.isFirstPage}},{key:"pageCount",get:function(){return this.page.pageCount}},{key:"pageIndex",get:function(){return this.page.pageIndex}}])&&Vl(n.prototype,i),r&&Vl(n,r),e}(),Kl=function(t){return t.add.text(0,0,"",{wordWrap:{width:200},maxLines:5})},ql=Zl;r.register("textBox",function(t){var e=new ql(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.TextBox",ql);function $l(t){return($l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ql(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tf(t){return(tf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ef(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nf(t,e){return(nf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rf=Phaser.Utils.Objects.GetValue,of=Phaser.Math.Percent,sf=Phaser.Math.Linear,af=function(t){function e(t,n){var i,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(i=!(o=tf(e).call(this,t,n))||"object"!==$l(o)&&"function"!=typeof o?ef(r):o).type="rexNumberBar";var s,a=rf(n,"background",void 0),u=rf(n,"icon",void 0),c=rf(n,"iconMask",void 0),h=rf(n,"slider",void 0),l=rf(n,"text",void 0),f=rf(n,"space.left",0),d=rf(n,"space.right",0),p=rf(n,"space.top",0),y=rf(n,"space.bottom",0),v=rf(n,"space.icon",0),g=rf(n,"space.slider",0);(a&&i.addBackground(a),u)&&(b=0===i.orientation?{left:f,right:h||l?v:d,top:p,bottom:y}:{left:f,right:d,top:p,bottom:h||l?v:y},i.add(u,0,"center",b),c&&(c=new pa(u,1),u.setMask(c.createGeometryMask()),i.add(c,null)));if(h){var b,m;if(h.orientation=0==i.orientation?1:0,h.eventEmitter=ef(i),h.value=null,h.hasOwnProperty("input")||(h.input=-1),s=new Hu(t,h),b=0===i.orientation?{left:u?0:f,right:l?g:d,top:p,bottom:y}:{left:f,right:d,top:u?0:p,bottom:l?g:y},0===i.orientation)m=void 0===rf(h,"width",void 0)?1:0;else m=void 0===rf(h,"height",void 0)?1:0;i.add(s,m,"center",b)}l&&(b=0===i.orientation?{left:u||h?0:f,right:d,top:p,bottom:y}:{left:f,right:d,top:u||h?0:p,bottom:y},i.add(l,0,"center",b));i.addChildrenMap("background",a),i.addChildrenMap("icon",u),i.addChildrenMap("slider",s),i.addChildrenMap("text",l);var x=rf(n,"valuechangeCallback",null);if(null!==x){var w=rf(n,"valuechangeCallbackScope",void 0);i.on("valuechange",x,w)}return i.setEnable(rf(n,"enable",void 0)),i.setValue(rf(n,"value",0)),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nf(t,e)}(e,ks),n=e,(i=[{key:"setEnable",value:function(t){return this.childrenMap.slider?this:(void 0===t&&(t=!0),this.childrenMap.slider.enable=t,this)}},{key:"setValue",value:function(t,e,n){return void 0!==e&&(t=of(t,e,n)),this.value=t,this}},{key:"addValue",value:function(t,e,n){return void 0!==e&&(t=of(t,e,n)),this.value+=t,this}},{key:"getValue",value:function(t,e){var n=this.value;return void 0!==t&&(n=sf(t,e,n)),n}},{key:"setText",value:function(t){return this.text=t,this}},{key:"value",get:function(){return this.childrenMap.slider?this.childrenMap.slider.value:0},set:function(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}},{key:"text",get:function(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")},set:function(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}}])&&Ql(n.prototype,i),r&&Ql(n,r),e}();r.register("numberBar",function(t){var e=new af(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.NumberBar",af);var uf=Phaser.Utils.Objects.IsPlainObject,cf=Phaser.Display.Align.TOP_LEFT,hf=function(t,e){var n,i=e.rexSizer,r=i.padding;return i.expand&&(n=t.width-r.left-r.right),n},lf=function(t,e){var n,i=e.rexSizer,r=i.padding;return i.expand&&(n=t.height-r.top-r.bottom),n},ff={addPage:function(t,e,n,i,r){if(uf(e)){var o=e;e=GetValue(o,"key",0),n=GetValue(o,"align",cf),i=GetValue(o,"padding",0),r=GetValue(o,"expand",!1)}return"string"==typeof n&&(n=cs[n]),void 0===n&&(n=ALIGN_CENTER),void 0===i&&(i=0),void 0===r&&(r=!0),(o=this.getSizerConfig(t)).parent=this,o.align=n,o.padding=ss(i),o.expand=r,this.sizerChildren.has(e)&&this.sizerChildren.get(e).destroy(),this.sizerChildren.set(e,t),t.setVisible(!1),this.add(t),this},getPage:function(t){return void 0===t?null:this.sizerChildren.has(t)?this.sizerChildren.get(t):null},swapPage:function(t){this._previousKey=this._currentKey;var e=this.previousPage;e&&(0===this.swapMode?(e.setVisible(!1),this.resetChildVisibleState(e),this.emit("pageinvisible",e,this._previousKey,this)):e.destroy()),t&&!this.sizerChildren.has(t)&&this.emit("createpage",t,this),this._currentKey=t;var n=this.currentPage;return n&&(n.setVisible(!0),this.resetChildVisibleState(n),this.emit("pagevisible",n,this._currentKey,this)),this},getChildrenWidth:function(){if(this.rexSizer.hidden)return 0;var t,e,n,i=0,r=this.sizerChildren.entries;for(var o in r)n=(t=r[o]).isRexSizer?Math.max(t.minWidth,t.childrenWidth):t.displayWidth,n+=(e=t.rexSizer.padding).left+e.right,i=Math.max(n,i);return i},getChildrenHeight:function(){if(this.rexSizer.hidden)return 0;var t,e,n,i=0,r=this.sizerChildren.entries;for(var o in r)n=(t=r[o]).isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.displayHeight,n+=(e=t.rexSizer.padding).top+e.bottom,i=Math.max(n,i);return i},getChildrenSizers:function(t){void 0===t&&(t=[]);var e,n=this.sizerChildren.entries;for(var i in n)(e=n[i]).isRexSizer&&t.push(e);return t},layout:function(t,e,n){if(this.rexSizer.hidden)return this;var i,r,o;this.preLayout(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===n&&(n=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,n);var s,a,u,c,h,l,f=this.left,d=this.top,p=this.pages;for(var y in p)o=(r=(i=p[y]).rexSizer).padding,i.isRexSizer?i.layout(this,hf(this,i),lf(this,i)):(h=void 0,l=void 0,r.expand&&(l=this.height-o.top-o.bottom,h=this.width-o.left-o.right),zo(i,h,l)),s=f+o.left,u=this.width-o.left-o.right,a=d+o.top,c=this.height-o.top-o.bottom,Yo.setPosition(s,a).setSize(u,c),Wo()(i,Yo,r.align),this.resetChildPositionState(i);return this.layoutBackgrounds(),this.postLayout()},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0}};function df(t){return(df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function yf(t,e){return!e||"object"!==df(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vf(t,e,n){return(vf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gf(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function gf(t){return(gf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bf(t,e){return(bf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mf=Phaser.Utils.Objects.IsPlainObject,xf=Phaser.Utils.Objects.GetValue,wf=Phaser.Structs.Map,Of=function(t){function e(t,n,i,r,o,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),mf(n)?(n=xf(s=n,"x",0),i=xf(s,"y",0),r=xf(s,"width",void 0),o=xf(s,"height",void 0)):mf(r)&&(r=xf(s=r,"width",void 0),o=xf(s,"height",void 0)),(a=yf(this,gf(e).call(this,t,n,i,r,o,s))).type="rexPages",a._previousKey=void 0,a._currentKey=void 0,a.sizerChildren=new wf,a.setSwapMode(xf(s,"swapMode",0)),a.addChildrenMap("pages",a.pages),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bf(t,e)}(e,es),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.clear(),vf(gf(e.prototype),"destroy",this).call(this,t))}},{key:"setSwapMode",value:function(t){return"string"==typeof t&&(t=kf[t]),this.swapMode=t,this}},{key:"previousKey",get:function(){return this._previousKey}},{key:"currentKey",get:function(){return this._currentKey},set:function(t){this.swapPage(t)}},{key:"currentPage",get:function(){return this.getPage(this.currentKey)}},{key:"previousPage",get:function(){return this.getPage(this.previousKey)}},{key:"keys",get:function(){return this.sizerChildren.keys()}},{key:"pages",get:function(){return this.sizerChildren.entries}}])&&pf(n.prototype,i),r&&pf(n,r),e}();Object.assign(Of.prototype,ff);var kf={invisible:0,destroy:1},Sf=Of;r.register("pages",function(t,e,n,i,r){var o=new Sf(this.scene,t,e,n,i,r);return this.scene.add.existing(o),o}),A(window,"RexPlugins.UI.Pages",Sf);var Pf=Phaser.Display.Align.TOP_LEFT,Cf=function(t){return(t-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},Tf=function(t){return t*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},_f=function(t){var e,n=t+this.textObject.style.maxLines;if(0===this.textObjectType)e=this.lines.slice(t,n).join("\n");else{var i=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(n-1);e=this.lines.getSliceTagText(i,r,!0)}return e},Ef=function(){var t=this.textObject.rexSizer;this.textObject.y+=t.offsetY-t.preOffsetY,t.preOffsetY=t.offsetY,this.resetChildPositionState(this.textObject)},jf=function(t,e,n){if(n+=this.textLineHeight+this.textLineSpacing,t.width!==e||t.height!==n){t.setFixedSize(e,n);var i=t.style,r=Math.max(e,0),o=Math.ceil(Cf.call(this,n))+1;0===this.textObjectType?(i.wordWrapWidth=r,i.maxLines=o):(i.wrapWidth=r,i.maxLines=o),this.setText()}},Mf={setTextObject:function(t,e){void 0===e&&(e=!0),this.add(t);var n=this.getSizerConfig(t);return n.parent=this,n.align=Pf,n.padding=ss(0),n.expand=!0,this.textObject=t,this.textObjectType=El(t)?0:1,n.preOffsetY=0,n.offsetY=0,e&&(this.textMask=new pa(this),this.textObject.setMask(this.textMask.createGeometryMask()),this.add(this.textMask)),this},setText:function(t){return void 0!==t&&(this.text=t),0===this.textObjectType?this.lines=this.textObject.getWrappedText(this.text):this.lines=this.textObject.getPenManager(this.text,this.lines),this.updateTextObject(),this},updateTextObject:function(){var t=Math.max(Math.floor(Cf.call(this,-this.textOY)),0),e=Tf.call(this,t)+this.textOY;return this.textObject.setText(_f.call(this,t)),this.textObject.rexSizer.offsetY=e,Ef.call(this),this},layout:function(t,e,n){if(this.rexSizer.hidden)return this;var i,r,o;this.preLayout(t),void 0===e&&(e=this.minWidth),void 0===n&&(n=this.minHeight),this.resize(e,n);var s,a,u,c,h=this.left,l=this.top;return(i=this.textObject).rexSizer.hidden||(s=h+(o=(r=i.rexSizer).padding).left,a=l+o.top,u=this.width-o.left-o.right,c=this.height-o.top-o.bottom,jf.call(this,i,u,c),Yo.setPosition(s,a).setSize(u,c),Wo()(i,Yo,r.align),r.preOffsetY=0,Ef.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask))),this.layoutBackgrounds(),this.postLayout()}};function Rf(t){return(Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function If(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Df(t,e){return!e||"object"!==Rf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lf(t,e,n){return(Lf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Af(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Af(t){return(Af=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ff(t,e){return(Ff=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zf=Phaser.Utils.Objects.IsPlainObject,Bf=Phaser.Utils.Objects.GetValue,Yf=function(t){function e(t,n,i,r,o,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),zf(n)?(n=Bf(s=n,"x",0),i=Bf(s,"y",0),r=Bf(s,"width",void 0),o=Bf(s,"height",void 0)):zf(r)&&(r=Bf(s=r,"width",void 0),o=Bf(s,"height",void 0)),(a=Df(this,Af(e).call(this,t,n,i,r,o,s))).type="rexTextBlock",a.textObject=void 0,a.textMask=void 0,a.textObjectType=void 0,a.lines=void 0,a.text=Bf(s,"content",""),a._textOY=0,a.execeedTopState=!1,a.execeedBottomState=!1,a.setClampMode(Bf(s,"clamplTextOY",!0));var u=Bf(s,"background",void 0),c=Bf(s,"text",void 0);void 0===c&&(c=Nf(t));var h=Bf(s,"textMask",!0);return u&&a.addBackground(u),a.setTextObject(c,h),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ff(t,e)}(e,es),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(this.textObject=void 0,this.textMask=void 0,void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),Lf(Af(e.prototype),"destroy",this).call(this,t))}},{key:"setClampMode",value:function(t){return this.clampTextOYMode=t,this}},{key:"textOYExceedTop",value:function(t){return void 0===t&&(t=this.textOY),t>this.topTextOY}},{key:"textOYExeceedBottom",value:function(t){return void 0===t&&(t=this.textOY),t<this.bottomTextOY}},{key:"setTextOY",value:function(t){return this.textOY=t,this}},{key:"setTextOYByPercentage",value:function(t){return this.t=t,this}},{key:"textLineHeight",get:function(){var t=this.textObject.style;return t.metrics.fontSize+t.strokeThickness}},{key:"textLineSpacing",get:function(){return this.textObject.lineSpacing}},{key:"linesCount",get:function(){return void 0===this.lines?0:0===this.textObjectType?this.lines.length:this.lines.linesCount}},{key:"visibleLinesCount",get:function(){return Math.floor(Cf.call(this,this.textObject.height))}},{key:"topTextOY",get:function(){return 0}},{key:"bottomTextOY",get:function(){return-this.textVisibleHeight}},{key:"textHeight",get:function(){return Tf.call(this,this.linesCount)}},{key:"textObjectHeight",get:function(){return this.textObject.height-this.textLineHeight-this.textLineSpacing}},{key:"textVisibleHeight",get:function(){var t=this.textHeight,e=this.textObjectHeight;return t>e?t-e:0}},{key:"textOY",get:function(){return this._textOY},set:function(t){var e=this.topTextOY,n=this.bottomTextOY,i=this.textOYExceedTop(t),r=this.textOYExeceedBottom(t);this.clampTextOYMode&&(this.visibleLinesCount>this.linesCount?t=0:i?t=e:r&&(t=n)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),i&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=i,r&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=r}},{key:"t",set:function(t){this.textOY=-this.textVisibleHeight*t},get:function(){var t=this.textVisibleHeight;return 0===t?0:this.textOY/-t}}])&&If(n.prototype,i),r&&If(n,r),e}(),Nf=function(t){return t.add.text(0,0,"")};Object.assign(Yf.prototype,Mf);var Wf=Yf;r.register("textBlock",function(t,e,n,i,r,o){var s=new Wf(this.scene,t,e,n,i,r,o);return this.scene.add.existing(s),s}),A(window,"RexPlugins.UI.TextBlock",Wf);var Hf=function(t){Object.defineProperty(t,"childOY",{configurable:!0,get:function(){return t.textOY},set:function(e){t.textOY=e}}),Object.defineProperty(t,"topChildOY",{get:function(){return t.topTextOY}}),Object.defineProperty(t,"bottomChildOY",{get:function(){return t.bottomTextOY}})},Vf=function(t){return this.childrenMap.child.setText(t),this.resizeController(),this},Gf=function(t){return this.setText(this.text+t),this};function Uf(t){return(Uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Jf(t,e){return!e||"object"!==Uf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zf(t){return(Zf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kf(t,e){return(Kf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qf=Phaser.Utils.Objects.GetValue,$f=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n={});var r=qf(n,"text",void 0),o=qf(n,"textWidth",void 0),s=qf(n,"textHeight",void 0),a=qf(n,"textMask",!0),u=qf(n,"content",""),c=new Wf(t,{width:o,height:s,text:r,textMask:a,content:u,clamplTextOY:qf(n,"clamplChildOY",!1)}),h=void 0===o?1:0,l=void 0===s;Hf(c),n.scrollMode=0,n.type="rexTextArea",n.child={gameObject:c,proportion:h,expand:l};var f=qf(n,"space",void 0);return f&&(f.child=f.text),(i=Jf(this,Zf(e).call(this,t,n))).addChildrenMap("text",r),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kf(t,e)}(e,_c),n=e,(i=[{key:"text",get:function(){return this.childrenMap.child.text}},{key:"linesCount",get:function(){return this.childrenMap.child.linesCount}}])&&Xf(n.prototype,i),r&&Xf(n,r),e}(),Qf={setText:Vf,appendText:Gf};Object.assign($f.prototype,Qf);var td=$f;r.register("textArea",function(t){var e=new td(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.TextArea",td);var ed=Phaser.Utils.Objects.GetValue,nd=Phaser.Display.Align.TOP_LEFT,id={setChild:function(t,e,n){t.setOrigin&&t.setOrigin(0),this.add(t);var i,r,o=this.getSizerConfig(t);if(o.parent=this,o.align=nd,o.expand=e,this.child=t,!0===n?(i=!0,r=0):!1===n?i=!1:(i=ed(n,"mask",!0),r=ed(n,"padding",0)),i){var s=new pa(this,0,r);this.childMask=s.createGeometryMask(),this.add(s)}return this},getChildrenWidth:function(){if(this.rexSizer.hidden)return 0;var t=this.child;return t.rexSizer.hidden?0:0===this.scrollMode?t.isRexSizer?Math.max(t.minWidth,t.childrenWidth):t.displayWidth:0},getChildrenHeight:function(){if(this.rexSizer.hidden)return 0;var t=this.child;return t.rexSizer.hidden?0:0===this.scrollMode?0:t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.displayHeight},resetChildPosition:function(){var t=this.left,e=this.top;0===this.scrollMode?e+=this.childOY:t+=this.childOY,this.child.setPosition(t,e),Gc(this,this.childMask,this.child.getAllChildren()),this.resetChildPositionState(this.child)},layout:function(t,e,n){if(this.rexSizer.hidden)return this;this.preLayout(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===n&&(n=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,n);var i,r,o=this.child;if(!o.rexSizer.hidden&&(0===this.scrollMode?i=this.width:r=this.height,o.isRexSizer?o.layout(this,i,r):zo(o,i,r),this.resetChildPosition(),this.childMask)){var s=zc(this.childMask);s.setPosition().resize(),this.resetChildPositionState(s)}return this.postLayout()}};function rd(t){return(rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function od(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function sd(t,e){return!e||"object"!==rd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ad(t,e,n){return(ad="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ud(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function ud(t){return(ud=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cd(t,e){return(cd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hd=Phaser.Utils.Objects.IsPlainObject,ld=Phaser.Utils.Objects.GetValue,fd=function(t){function e(t,n,i,r,o,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),hd(n)?(n=ld(s=n,"x",0),i=ld(s,"y",0),r=ld(s,"width",void 0),o=ld(s,"height",void 0)):hd(r)&&(r=ld(s=r,"width",void 0),o=ld(s,"height",void 0)),(a=sd(this,ud(e).call(this,t,n,i,r,o,s))).type="rexScrollableBlock",a.child=void 0,a.childMask=void 0,a._childOY=0,a.execeedTopState=!1,a.execeedBottomState=!1,a.setScrollMode(ld(s,"scrollMode",!0)),a.setClampMode(ld(s,"clamplChildOY",!0));var u=ld(s,"child",void 0),c=ld(s,"expand",!0),h=ld(s,"mask",void 0);return a.setChild(u,c,h),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cd(t,e)}(e,es),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(this.child=void 0,this.childMask&&(this.childMask.destroy(),this.childMask=void 0),ad(ud(e.prototype),"destroy",this).call(this,t))}},{key:"setScrollMode",value:function(t){return"string"==typeof t&&(t=Vu[t.toLowerCase()]),this.scrollMode=t,this}},{key:"setClampMode",value:function(t){return this.clampChildOYMode=t,this}},{key:"childOYExceedTop",value:function(t){return void 0===t&&(t=this.childOY),t>this.topChildOY}},{key:"childOYExeceedBottom",value:function(t){return void 0===t&&(t=this.childOY),t<this.bottomChildOY}},{key:"setChildOY",value:function(t){return this.childOY=t,this}},{key:"setChildOYByPercentage",value:function(t){return this.t=t,this}},{key:"instHeight",get:function(){return 0===this.scrollMode?this.height:this.width}},{key:"instWidth",get:function(){return 0===this.scrollMode?this.width:this.height}},{key:"childHeight",get:function(){return 0===this.scrollMode?this.child.displayHeight:this.child.displayWidth}},{key:"childWidth",get:function(){return 0===this.scrollMode?this.child.displayWidth:this.child.displayHeight}},{key:"topChildOY",get:function(){return 0}},{key:"bottomChildOY",get:function(){return-this.visibleHeight}},{key:"visibleHeight",get:function(){var t=this.childHeight,e=this.instHeight;return t>e?t-e:0}},{key:"childOY",get:function(){return this._childOY},set:function(t){var e=this.topChildOY,n=this.bottomChildOY,i=this.childOYExceedTop(t),r=this.childOYExeceedBottom(t);this.clampChildOYMode&&(this.instHeight>this.childHeight?t=0:i?t=e:r&&(t=n)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),i&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=i,r&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=r}},{key:"t",set:function(t){this.childOY=-this.visibleHeight*t},get:function(){var t=this.visibleHeight;return 0===t?0:this.childOY/-t}}])&&od(n.prototype,i),r&&od(n,r),e}();Object.assign(fd.prototype,id);var dd=fd;r.register("scrollableBlock",function(t){var e=new dd(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.ScrollableBlock",dd);function pd(t){return(pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yd(t,e){return!e||"object"!==pd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vd(t){return(vd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gd(t,e){return(gd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bd=Phaser.Utils.Objects.GetValue,md=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n={});var r=Uu(n),o=bd(n,"panel",void 0);void 0===o&&(o={}),o.scrollMode=r,o.clamplChildOY=bd(n,"clamplChildOY",!1);var s,a,u=new dd(t,o),c=bd(o,"width",void 0),h=bd(o,"height",void 0);0===r?(s=void 0===c?1:0,a=void 0===h):(s=void 0===h?1:0,a=void 0===c),n.type="rexScrollablePanel",n.child={gameObject:u,proportion:s,expand:a};var l=bd(n,"space",void 0);return l&&(l.child=l.panel),(i=yd(this,vd(e).call(this,t,n))).addChildrenMap("panel",i.childrenMap.child.child),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gd(t,e)}(e,_c),e}();r.register("scrollablePanel",function(t){var e=new md(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.ScrollablePanel",md);var xd={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},wd=function(t,e){t.popUp(e)},Od=function(t,e){t.scaleDownDestroy(e,void 0,void 0,!1)},kd=function(t,e){t.fadeIn(e)},Sd=function(t,e){t.fadeOut(e,!1)},Pd=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length),t.length=i-n;for(var r=0,o=t.length;r<o;r++)t[r]=e[r+n];return t},Cd=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,Td=function(t){return"string"!=typeof t?t:(""===t?t=null:Cd.test(t)?t=parseFloat(t):"false"===screen?t=!1:"true"===t&&(t=!0),t)},_d=function(t){return"[object Array]"===Object.prototype.toString.call(t)},Ed=Phaser.Utils.Objects.GetValue,jd=function(t,e,n){var i,r=Ed(n,"argsConvert",void 0),o=Ed(n,"argsConvertScope",void 0),s=t[0];if(Md=Pd(Md,t,1),r){!0===r&&(r=Td,o=void 0);for(var a=0,u=Md.length;a<u;a++)Md[a]=o?r.call(o,Md[a],t):r(Md[a],t)}return"string"==typeof s?null==(i=e[s])&&(i=Ed(e,s,null)):i=s,i.apply(e,Md)},Md=[],Rd=function t(e,n,i){var r,o=Ed(i,"reverse",!1);if(_d(e[0]))if(o)for(s=(a=e.length)-1;s>=0;s--)r=t(e[s],n,i);else for(var s=0,a=e.length;s<a;s++)r=t(e[s],n,i);else r=jd(e,n,i);return r},Id=function(t){return io(t)?t.events:t.on?t:void 0};function Dd(t){return(Dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ld(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ad(t,e){return!e||"object"!==Dd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fd(t,e,n){return(Fd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zd(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function zd(t){return(zd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bd(t,e){return(Bd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yd=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Ad(this,zd(e).call(this,t,n))).parent=t,i.scene=ro(t),i.resetFromJSON(n),i.boot(),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bd(t,e)}(e,gh),n=e,(i=[{key:"resetFromJSON",value:function(t){return this.isRunning=Ju()(t,"isRunning",!1),this.state=Ju()(t,"state",0),this.commands=Ju()(t,"commands",[]),this.scope=Ju()(t,"scope",void 0),this.setTimeUnit(Ju()(t,"timeUnit",0)),this.setDtMode(Ju()(t,"dtMode",0)),this.setTimeScale(Ju()(t,"timeScale",1)),this.index=Ju()(t,"index",0),this.nextDt=Ju()(t,"nextDt",0),this.seek(Ju()(t,"now",0)),this.timeScale=Ju()(t,"timeScale",1),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextDt:this.nextDt,now:this.now,timeScale:this.timeScale,tickingMode:this.tickingMode}}},{key:"boot",value:function(){Fd(zd(e.prototype),"boot",this).call(this);var t=Id(this.parent);t&&t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){Fd(zd(e.prototype),"shutdown",this).call(this),this.parent=void 0,this.scene=void 0,this.commands=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){Fd(zd(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){Fd(zd(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"load",value:function(t,e,n){this.stop();var i=Ju()(n,"timeUnit",void 0);void 0!==i&&this.setTimeUnit(i);var r=Ju()(n,"dtMode",void 0);return void 0!==r&&this.setDtMode(r),t=t.filter(function(t){var e=t[0];return!isNaN(e)}).map(function(t){return"string"==typeof t[0]&&(t[0]=parseFloat(t[0])),t}),0===this.dtMode&&t.sort(function(t,e){var n=t[0],i=e[0];return n>i?1:n<i?-1:0}),this.commands=t,this.scope=e,this}},{key:"start",value:function(t){return void 0===t&&(t=0),this.stop(),this.index=0,this.isRunning=!0,this.state=1,this.nextDt=this.getNextDt(0),this.seek(t),this.update(),this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this.state=0,this}},{key:"seek",value:function(t){return this.now=t,this}},{key:"setTimeScale",value:function(t){this.timeScale=t}},{key:"update",value:function(t,e){if(!this.isRunning)return this;if(void 0!==t){if(0===this.timeScale||0===e)return this;this.now+=e*this.timeScale}if(this.nextDt>this.now)return this;for(;;){var n=this.commands[this.index],i=n[1];if(_d(i)||(i=Pd(Nd,n,1)),Rd(i,this.scope),this.emit("runcommand",i,this.scope),this.index===this.commands.length-1)return this.complete(),this;if(this.index++,this.nextDt=this.getNextDt(this.nextDt),this.nextDt>this.now)return this}}},{key:"complete",value:function(){Fd(zd(e.prototype),"complete",this).call(this),this.state=2}},{key:"getNextDt",value:function(t){var e=this.commands[this.index][0];return 1===this.timeUnit&&(e*=1e3),1===this.dtMode&&(e+=t),e}},{key:"setDtMode",value:function(t){return"string"==typeof t&&(t=Hd[t]),this.dtMode=t,this}},{key:"setTimeUnit",value:function(t){return"string"==typeof t&&(t=Wd[t]),this.timeUnit=t,this}},{key:"isPlaying",get:function(){return this.isRunning}},{key:"completed",get:function(){return 2===this.state}}])&&Ld(n.prototype,i),r&&Ld(n,r),e}(),Nd=[],Wd={ms:0,s:1,sec:1},Hd={abs:0,absolute:0,inc:1,increment:1},Vd=Yd;function Gd(t){return(Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ud(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Xd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jd(t,e,n){return(Jd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zd(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Zd(t){return(Zd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kd(t,e){return(Kd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qd=Phaser.Utils.Objects.GetValue,$d=function(t){function e(t,n){var i,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===n&&(n={text:createDefaultTextObject(t)}),r=this,(i=!(o=Zd(e).call(this,t,n))||"object"!==Gd(o)&&"function"!=typeof o?Xd(r):o).type="rexToast",i.setTransitInTime(qd(n,"duration.in",200)),i.setDisplayTime(qd(n,"duration.hold",1200)),i.setTransitOutTime(qd(n,"duration.out",200)),i.setTransitInCallback(qd(n,"transitIn",xd.popUp)),i.setTransitOutCallback(qd(n,"transitOut",xd.scaleDown)),i.player=new Vd(Xd(i),{dtMode:1}),i.messages=[],i.setVisible(!1),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kd(t,e)}(e,Oa),n=e,(i=[{key:"destroy",value:function(t){this.scene&&(this.player.destroy(),this.player=void 0,this.messages=void 0,Jd(Zd(e.prototype),"destroy",this).call(this,t))}},{key:"setDisplayTime",value:function(t){return this.displayTime=t,this}},{key:"setTransitOutTime",value:function(t){return this.transitOutTime=t,this}},{key:"setTransitInTime",value:function(t){return this.transitInTime=t,this}},{key:"setTransitInCallback",value:function(t){switch("string"==typeof t&&(t=xd[t]),t){case xd.popUp:t=wd;break;case xd.fadeIn:t=kd}return this.transitInCallback=t,this}},{key:"setTransitOutCallback",value:function(t){switch("string"==typeof t&&(t=xd[t]),t){case xd.scaleDown:t=Od;break;case xd.fadeOut:t=Sd}return this.transitOutCallback=t,this}},{key:"show",value:function(t){if(void 0===t){if(0===this.messages.length)return this;t=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(t),this;this.setScale(1,1).setVisible(!0),"string"==typeof t?this.setText(t):t(this),this.layout();var e=[[0,[this.transitInCallback,this,this.transitInTime]],[this.transitInTime,[k]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[k]]];return this.player.load(e,this).once("complete",function(){this.show()},this).start(),this}}])&&Ud(n.prototype,i),r&&Ud(n,r),e}();r.register("toast",function(t){var e=new $d(this.scene,t);return this.scene.add.existing(e),e}),A(window,"RexPlugins.UI.Toast",$d);var Qd=Phaser.GameObjects.GameObject,tp=function(t){return t instanceof Qd};r.register("tap",function(t,e){return tp(t)||(e=t,t=this.scene),new Wh(t,e)}),A(window,"RexPlugins.UI.Tap",Wh);r.register("press",function(t,e){return tp(t)||(e=t,t=this.scene),new el(t,e)}),A(window,"RexPlugins.UI.Press",el);var ep=Phaser.Math.Distance.Between,np=Phaser.Math.Angle.Between,ip={getDt:function(){return this.scene.sys.game.loop.delta},getVelocity:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return ep(e.x,e.y,t.x,t.y)/(.001*this.getDt())},getVelocityX:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.x-e.x)/(.001*this.getDt())},getVelocityY:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.y-e.y)/(.001*this.getDt())},getVelocityAngle:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return np(e.x,e.y,t.x,t.y)}},rp={"up&down":0,"left&right":1,"4dir":2,"8dir":3},op={},sp=function(t,e,n){switch(void 0===n?n={}:!0===n&&(n=op),n.left=!1,n.right=!1,n.up=!1,n.down=!1,t=(t+360)%360,e){case 0:t<180?n.down=!0:n.up=!0;break;case 1:t>90&&t<=270?n.left=!0:n.right=!0;break;case 2:t>45&&t<=135?n.down=!0:t>135&&t<=225?n.left=!0:t>225&&t<=315?n.up=!0:n.right=!0;break;case 3:t>22.5&&t<=67.5?(n.down=!0,n.right=!0):t>67.5&&t<=112.5?n.down=!0:t>112.5&&t<=157.5?(n.down=!0,n.left=!0):t>157.5&&t<=202.5?n.left=!0:t>202.5&&t<=247.5?(n.left=!0,n.up=!0):t>247.5&&t<=292.5?n.up=!0:t>292.5&&t<=337.5?(n.up=!0,n.right=!0):n.right=!0}return n};function ap(t){return(ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function up(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function cp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hp(t,e,n){return(hp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lp(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function lp(t){return(lp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fp(t,e){return(fp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dp=Phaser.Utils.Objects.GetValue,pp=Phaser.Math.RadToDeg,yp=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=cp(i=function(t,e){return!e||"object"!==ap(e)&&"function"!=typeof e?cp(t):e}(this,lp(e).call(this,t,n))),o={states:{IDLE:{},BEGIN:{enter:function(){r.validDrag=!1}},RECOGNIZED:{enter:function(){r.start(),r.updateDirectionStates(),r.emit("swipe",r,r.gameObject,r.lastPointer)},exit:function(){r.stop(),r.clearDirectionStates()}}},init:function(){this.state=vp},eventEmitter:!1};return i.setRecongizedStateObject(new qu(o)),i.clearDirectionStates(),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fp(t,e)}(e,Eh),n=e,(i=[{key:"resetFromJSON",value:function(t){return hp(lp(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(dp(t,"threshold",10)),this.setMinDragVelocity(dp(t,"velocityThreshold",1e3)),this.setDirectionMode(dp(t,"dir","8dir")),this}},{key:"onDragStart",value:function(){this.state=gp}},{key:"onDragEnd",value:function(){this.state=vp}},{key:"onDrag",value:function(){this.state===gp&&(this.vaildDrag||(this.vaildDrag=0===this.dragThreshold||this.pointer.getDistance()>=this.dragThreshold),this.vaildDrag&&this.dragVelocity>this.minDragVelocity&&(this.state=bp))}},{key:"postUpdate",value:function(t,e){this.state===bp&&(this.state=vp)}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinDragVelocity",value:function(t){return this.minDragVelocity=t,this}},{key:"setDirectionMode",value:function(t){return"string"==typeof t&&(t=rp[t]),this.dirMode=t,this}},{key:"updateDirectionStates",value:function(){var t=pp(this.getVelocityAngle());return sp(t,this.dirMode,this),this}},{key:"clearDirectionStates",value:function(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}},{key:"isSwiped",get:function(){return this.state===bp}},{key:"dragVelocity",get:function(){var t;switch(this.dirMode){case 0:t=this.getVelocityX();break;case 1:t=this.getVelocityY();break;default:t=this.getVelocity()}return t}}])&&up(n.prototype,i),r&&up(n,r),e}();Object.assign(yp.prototype,ip);var vp="IDLE",gp="BEGIN",bp="RECOGNIZED",mp=yp;r.register("swipe",function(t,e){return tp(t)||(e=t,t=this.scene),new mp(t,e)}),A(window,"RexPlugins.UI.Swipe",mp);function xp(t){return(xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wp(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Op(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kp(t,e,n){return(kp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sp(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Sp(t){return(Sp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pp(t,e){return(Pp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Cp=Phaser.Utils.Objects.GetValue,Tp=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=Op(i=function(t,e){return!e||"object"!==xp(e)&&"function"!=typeof e?Op(t):e}(this,Sp(e).call(this,t,n))),o={states:{IDLE:{},BEGIN:{enter:function(){var t=r.pointer;r.startX=t.x,r.startY=t.y,r.startWorldX=t.worldX,r.startWorldY=t.worldY}},RECOGNIZED:{enter:function(){r.emit("panstart",r,r.gameObject,r.lastPointer)},exit:function(){var t=r.lastPointer;r.endX=t.x,r.endY=t.y,r.endWorldX=t.worldX,r.endWorldY=t.worldY,r.emit("panend",r,r.gameObject,r.lastPointer)}}},init:function(){this.state=_p},eventEmitter:!1};return i.setRecongizedStateObject(new qu(o)),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pp(t,e)}(e,Eh),n=e,(i=[{key:"resetFromJSON",value:function(t){return kp(Sp(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(Cp(t,"threshold",10)),this}},{key:"onDragStart",value:function(){this.state=0===this.dragThreshold?jp:Ep}},{key:"onDragEnd",value:function(){this.state=_p}},{key:"onDrag",value:function(){switch(this.state){case Ep:this.pointer.getDistance()>=this.dragThreshold&&(this.state=jp);break;case jp:var t=this.pointer.position,e=this.pointer.prevPosition;this.dx=t.x-e.x,this.dy=t.y-e.y;var n=this.pointer;self.x=n.x,self.y=n.y,self.worldX=n.worldX,self.worldY=n.worldY,this.emit("pan",this)}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPan",get:function(){return this.state===jp}}])&&wp(n.prototype,i),r&&wp(n,r),e}(),_p="IDLE",Ep="BEGIN",jp="RECOGNIZED",Mp=Tp;r.register("pan",function(t,e){return tp(t)||(e=t,t=this.scene),new Mp(t,e)}),A(window,"RexPlugins.UI.Pan",Mp);function Rp(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ip=Phaser.Utils.Objects.GetValue,Dp=Phaser.Utils.Array.SpliceOne,Lp=Phaser.Math.Distance.Between,Ap=Phaser.Math.Angle.Between,Fp=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e.input.manager.pointersTotal-1;i<2&&e.input.addPointer(2-i),this.scene=e,this.setEventEmitter(Ip(n,"eventEmitter",void 0)),this.pointers=[],this.movedState={},this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setEnable(Ip(t,"enable",!0)),this.bounds=Ip(t,"bounds",void 0),this.tracerState=Bp,this.pointers.length=0,ft(this.movedState),this}},{key:"boot",value:function(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointers.length=0,ft(this.movedState),this.scene&&(this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"onPointerDown",value:function(t){if(this.enable&&(2!==this.pointers.length&&(!this.bounds||this.bounds.contains(t.x,t.y))&&-1===this.pointers.indexOf(t)))switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case Bp:this.tracerState=Yp,this.onDrag1Start();break;case Yp:this.tracerState=Np,this.onDrag2Start()}}},{key:"onPointerUp",value:function(t){if(this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))){var e=this.pointers.indexOf(t);if(-1!==e)switch(delete this.movedState[t.id],Dp(this.pointers,e),this.tracerState){case Yp:this.tracerState=Bp,this.onDrag1End();break;case Np:this.tracerState=Yp,this.onDrag2End(),this.onDrag1Start()}}}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),n=-1!==this.pointers.indexOf(t);if(!n&&e);else if(n&&!e)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case Yp:this.onDrag1();break;case Np:this.onDrag2()}}}},{key:"dragCancel",value:function(){return this.tracerState===Np&&this.onDrag2End(),this.pointers.length=0,ft(this.movedState),this.tracerState=Bp,this}},{key:"onDrag1Start",value:function(){this.emit("drag1start",this)}},{key:"onDrag1End",value:function(){this.emit("drag1end",this)}},{key:"onDrag1",value:function(){this.emit("drag1",this)}},{key:"onDrag2Start",value:function(){this.emit("drag2start",this)}},{key:"onDrag2End",value:function(){this.emit("drag2end",this)}},{key:"onDrag2",value:function(){this.emit("drag2",this)}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=Wp,this}},{key:"distanceBetween",get:function(){if(this.tracerState!==Np)return 0;var t=this.pointers[0],e=this.pointers[1];return Lp(t.x,t.y,e.x,e.y)}},{key:"angleBetween",get:function(){if(this.tracerState!==Np)return 0;var t=this.pointers[0],e=this.pointers[1];return Ap(t.x,t.y,e.x,e.y)}},{key:"drag1Vector",get:function(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var e=t.position,n=t.prevPosition;zp.x=e.x-n.x,zp.y=e.y-n.y}else zp.x=0,zp.y=0;return zp}},{key:"centerX",get:function(){if(this.tracerState!==Np)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.x+e.x)/2}},{key:"centerY",get:function(){if(this.tracerState!==Np)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.y+e.y)/2}},{key:"prevCenterX",get:function(){if(this.tracerState!==Np)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+e.x)/2}},{key:"prevCenterY",get:function(){if(this.tracerState!==Np)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+e.y)/2}},{key:"movementCenterX",get:function(){return this.centerX-this.prevCenterX}},{key:"movementCenterY",get:function(){return this.centerY-this.prevCenterY}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&Rp(e.prototype,n),i&&Rp(e,i),t}();Object.assign(Fp.prototype,eo);var zp={},Bp=0,Yp=1,Np=2,Wp="IDLE",Hp=Fp;function Vp(t){return(Vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gp(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Up(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xp(t,e,n){return(Xp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jp(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Jp(t){return(Jp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zp(t,e){return(Zp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kp=Phaser.Utils.Objects.GetValue,qp=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=Up(i=function(t,e){return!e||"object"!==Vp(e)&&"function"!=typeof e?Up(t):e}(this,Jp(e).call(this,t,n))),o={states:{IDLE:{enter:function(){r.prevDistance=void 0,r.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){r.emit("pinchstart",r)},exit:function(){r.emit("pinchend",r)}}},init:function(){this.state=$p},eventEmitter:!1};return i.setRecongizedStateObject(new qu(o)),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zp(t,e)}(e,Hp),n=e,(i=[{key:"resetFromJSON",value:function(t){return Xp(Jp(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(Kp(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=0===this.dragThreshold?ty:Qp}},{key:"onDrag2End",value:function(){this.state=$p}},{key:"onDrag2",value:function(){switch(this.state){case Qp:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=ty}break;case ty:t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPinch",get:function(){return this.state===ty}}])&&Gp(n.prototype,i),r&&Gp(n,r),e}(),$p="IDLE",Qp="BEGIN",ty="RECOGNIZED",ey=qp;r.register("pinch",function(t){return new ey(this.scene,t)}),A(window,"RexPlugins.UI.Pinch",ey);var ny=Phaser.Math.RotateAround,iy=function(t,e,n,i){return ny(t,e,n,i),t.rotation+=i,t},ry={},oy=function(t,e){if(!this.isRotation)return this;void 0===e&&(e=this.pointers[0].camera);var n=this.movementCenterX,i=this.movementCenterY;e.getWorldPoint(this.centerX,this.centerY,ry);var r=ry.x,o=ry.y,s=this.rotation;if(Array.isArray(t))for(var a=t,u=0,c=a.length;u<c;u++)(t=a[u]).x+=n,t.y+=i,iy(t,r,o,s);else t.x+=n,t.y+=i,iy(t,x,y,s);return this};function sy(t){return(sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ay(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function uy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cy(t,e,n){return(cy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hy(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function hy(t){return(hy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ly(t,e){return(ly=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fy=Phaser.Utils.Objects.GetValue,dy=Phaser.Math.Angle.WrapDegrees,py=Phaser.Math.Angle.ShortestBetween,yy=Phaser.Math.RadToDeg,vy=Phaser.Math.DegToRad,gy=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=uy(i=function(t,e){return!e||"object"!==sy(e)&&"function"!=typeof e?uy(t):e}(this,hy(e).call(this,t,n))),o={states:{IDLE:{enter:function(){r.prevAngle=void 0,r.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){r.emit("rotatestart",r)},exit:function(){r.emit("rotateend",r)}}},init:function(){this.state=my},eventEmitter:!1};return i.setRecongizedStateObject(new qu(o)),i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ly(t,e)}(e,Hp),n=e,(i=[{key:"resetFromJSON",value:function(t){return cy(hy(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(fy(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.prevAngle=dy(yy(this.angleBetween)),this.state=0===this.rotationThreshold?wy:xy}},{key:"onDrag2End",value:function(){this.state=my}},{key:"onDrag2",value:function(){switch(this.state){case xy:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=dy(yy(this.angleBetween));this.angle=py(this.prevAngle,t),this.prevAngle=t,this.state=wy}break;case wy:t=dy(yy(this.angleBetween));this.angle=py(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this)}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isRotation",get:function(){return this.state===wy}},{key:"rotation",get:function(){return vy(this.angle)}}])&&ay(n.prototype,i),r&&ay(n,r),e}(),by={spinObject:oy};Object.assign(gy.prototype,by);var my="IDLE",xy="BEGIN",wy="RECOGNIZED",Oy=gy;r.register("rotate",function(t){return new Oy(this.scene,t)}),A(window,"RexPlugins.UI.Rotate",Oy);var ky=Phaser.Utils.Objects.IsPlainObject,Sy=Phaser.Utils.Objects.GetValue,Py=function(t,e,n){var i;if(void 0===t)t=n.texture.key,e=n.frame.name;else if(ky(t)){var r=t;t=Sy(r,"key",n.texture.key),e=Sy(r,"frame",n.frame.name)}else"string"==typeof t||(i=t);return void 0===i&&(i=function(n){n.setTexture(t,e)}),i};function Cy(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ty=Phaser.Utils.Objects.GetValue,_y=Phaser.Utils.Objects.GetAdvancedValue,Ey=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=ro(e),this.setEventEmitter(Ty(n,"eventEmitter",void 0)),this.scaleStart={},this.scaleEnd={},this.tween=void 0,this.resetFromJSON(n),this.boot()}var e,n,i;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this.setOrientation(Ty(t,"orientation",0)),this.setDelay(_y(t,"delay",0)),this.setDuration(_y(t,"duration",500)),this.setEase(Ty(t,"ease","Sine")),this.setFrontFace(Ty(t,"front",void 0)),this.setBackFace(Ty(t,"back",void 0)),this.setFace(Ty(t,"face",0)),this}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.destroyEventEmitter(),this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setOrientation",value:function(t){return"string"==typeof t&&(t=jy[t]),this.orientation=t,this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setEase",value:function(t){return void 0===t&&(t="Linear"),this.ease=t,this}},{key:"setFace",value:function(t){return this.face=t,this}},{key:"toggleFace",value:function(){var t=0===this.face?1:0;return this.setFace(t),this}},{key:"setFrontFace",value:function(t,e){return this.frontFaceCallback=Py(t,e,this.gameObject),this}},{key:"setBackFace",value:function(t,e){return this.backFaceCallback=Py(t,e,this.gameObject),this}},{key:"start",value:function(){if(this.isRunning)return this;if(0===this.duration)return this.toggleFace().complete(),this;var t={targets:this.gameObject,duration:this.duration/2,ease:this.ease,yoyo:!0,repeat:0,onYoyo:this.toggleFace,onYoyoScope:this,onComplete:this.complete,onCompleteScope:this};return t[0===this.orientation?"scaleX":"scaleY"]={from:1,to:0},this.tween=this.scene.tweens.add(t),this}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"flip",value:function(t){return this.isRunning?this:(void 0!==t&&this.setDuration(t),this.start(),this)}},{key:"stop",value:function(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),this.emit("complete",this,this.gameObject),this}},{key:"isRunning",get:function(){return!!this.tween}},{key:"face",get:function(){return this._face},set:function(t){"string"==typeof t&&(t=My[t]),this._face=t,0===t&&this.frontFaceCallback?this.frontFaceCallback(this.gameObject):1===t&&this.backFaceCallback&&this.backFaceCallback(this.gameObject)}}])&&Cy(e.prototype,n),i&&Cy(e,i),t}();Object.assign(Ey.prototype,eo);var jy={x:0,horizontal:0,y:1,vertical:1},My={front:0,back:1},Ry=Ey;r.register("flip",function(t,e){return new Ry(t,e)}),A(window,"RexPlugins.UI.Flip",Ry);var Iy=function(t){t.stopPropagation()},Dy=function(t){t.addEventListener("touchstart",Iy,!1),t.addEventListener("touchmove",Iy,!1),t.addEventListener("touchend",Iy,!1),t.addEventListener("mousedown",Iy,!1),t.addEventListener("mouseup",Iy,!1),t.addEventListener("mousemove",Iy,!1)};function Ly(t){return(Ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ay(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Fy(t){return(Fy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function By(t,e){return(By=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yy=Phaser.GameObjects.DOMElement,Ny=Phaser.Utils.Objects.IsPlainObject,Wy=Phaser.Utils.Objects.GetValue,Hy=function(t){function e(t,n,i,r,o,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ny(n)?(n=Wy(s=n,"x",0),i=Wy(s,"y",0),r=Wy(s,"width",void 0),o=Wy(s,"height",void 0)):Ny(r)&&(r=Wy(s=r,"width",void 0),o=Wy(s,"height",void 0)),void 0===s&&(s={});var u,c=t.scale.autoRound;void 0!==r&&(c&&(r=Math.floor(r)),s.width=r+"px"),void 0!==o&&(c&&(o=Math.floor(o)),s.height=o+"px");var h,l,f=Wy(s,"type","text");for(var d in"textarea"===f?(u=document.createElement("textarea")).style.resize="none":(u=document.createElement("input")).type=f,Vy)h=Vy[d],void 0!==(l=Wy(s,d,h[1]))&&(u[h[0]]=l);var p,y,v=Wy(s,"style",void 0);for(var d in void 0===v&&(v={}),Gy)p=Gy[d],void 0!==(y=Wy(s,d,p[1]))&&(v[p[0]]=y);var g,b,m=u.style;for(var d in s)d in Vy||d in Gy||d in m&&(v[d]=s[d]);v["box-sizing"]="border-box",g=this,b=Fy(e).call(this,t,n,i,u,v),(a=!b||"object"!==Ly(b)&&"function"!=typeof b?zy(g):b).type="rexInputText";var x=function(t){a.node[Uy[t]]=function(){this.emit(t,this)}.bind(zy(a))};for(var w in Uy)x(w);return Dy(a.node),a}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&By(t,e)}(e,Yy),n=e,(i=[{key:"resize",value:function(t,e){var n=this.node.style;return n.width=t+"px",n.height=e+"px",this.updateSize(),this}},{key:"setText",value:function(t){return this.text=t,this}},{key:"selectText",value:function(){return this.node.select(),this}},{key:"setPlaceholder",value:function(t){return this.placeholder=t,this}},{key:"setTooltip",value:function(t){return this.tooltip=t,this}},{key:"setTextChangedCallback",value:function(t){return this.onTextChanged=t,this}},{key:"setReadOnly",value:function(t){return void 0===t&&(t=!0),this.readOnly=t,this}},{key:"setSpellCheck",value:function(t){return this.spellCheck=t,this}},{key:"setStyle",value:function(t,e){return this.node.style[t]=e,this}},{key:"getStyle",value:function(t){return this.node.style[t]}},{key:"scrollToBottom",value:function(){return this.node.scrollTop=this.node.scrollHeight,this}},{key:"setEnabled",value:function(t){return void 0===t&&(t=!0),this.node.disabled=!t,this}},{key:"setBlur",value:function(){return this.node.blur(),this}},{key:"setFocus",value:function(){return this.node.focus(),this}},{key:"text",get:function(){return this.node.value},set:function(t){this.node.value=t}},{key:"placeholder",get:function(){return this.node.placeholder},set:function(t){this.node.placeholder=t}},{key:"tooltip",get:function(){return this.node.title},set:function(t){this.node.title=t}},{key:"readOnly",get:function(){return this.node.readOnly},set:function(t){this.node.readOnly=t}},{key:"spellCheck",get:function(){return this.node.spellcheck},set:function(t){this.node.spellcheck=t}}])&&Ay(n.prototype,i),r&&Ay(n,r),e}(),Vy={id:["id",void 0],text:["value",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readonly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},Gy={align:["text-align",void 0],width:["width",void 0],height:["height",void 0],fontFamily:["font-family",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],borderColor:["borderColor","transparent"],outline:["outline","none"]},Uy={textchange:"oninput",click:"onclick",dblclick:"ondblclick",focus:"onfocus",blur:"onblur"},Xy=Hy,Jy=Phaser.Utils.Objects.GetValue,Zy=function(t,e){void 0===e&&(e={});var n=t.scene,i=t.style,r=Jy(e,"backgroundColor",i.backgroundColor);null===r&&(r="transparent"),e.text=Jy(e,"text",t.text),e.fontFamily=Jy(e,"fontFamily",i.fontFamily),e.fontSize=Jy(e,"fontSize",i.fontSize),e.color=Jy(e,"color",i.color),e.backgroundColor=r;var o=new Xy(n,t.x,t.y,Jy(e,"width",t.width),Jy(e,"height",t.height),e);return o.setOrigin(t.originX,t.originY),n.add.existing(o),o},Ky=function(t){return t&&"function"==typeof t};function qy(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var $y=Phaser.Utils.Objects.GetValue,Qy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=ro(e),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.boot()}var e,n,i;return e=t,(n=[{key:"boot",value:function(){return this.gameObject.once("destroy",this.destroy,this),this}},{key:"shutdown",value:function(){return this.close(),this.gameObject=void 0,this.scene=void 0,tv===this&&(tv=void 0),this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"open",value:function(t,e){void 0!==tv&&tv.close(),tv=this,Ky(t)&&(e=t,t=void 0),void 0===e&&(e=$y(t,"onClose",void 0));var n=$y(t,"onTextChanged",void 0);return this.inputText=Zy(this.gameObject,t).on("textchange",function(t){var e=t.text;n?n(this.gameObject,e):this.gameObject.text=e},this).setFocus(),this.gameObject.setVisible(!1),this.onClose=e,this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=this.scene.time.delayedCall(0,function(){this.scene.input.once("pointerdown",this.close,this)},[],this),this}},{key:"close",value:function(){return tv=void 0,this.inputText?(this.gameObject.setVisible(!0),this.inputText.destroy(),this.inputText=void 0,this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.gameObject),this):this}},{key:"isOpened",get:function(){return void 0!==this.inputText}},{key:"text",get:function(){return this.isOpened?this.inputText.text:this.gameObject.text}}])&&qy(e.prototype,n),i&&qy(e,i),t}(),tv=void 0,ev=Qy,nv=function(t,e,n){return t._edit||(t._edit=new ev(t)),t._edit.open(e,n),t._edit};function iv(t){return(iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rv(t,e){return!e||"object"!==iv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ov(t){return(ov=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sv(t,e){return(sv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var av=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=rv(this,ov(e).call(this,t,n))).add=new r(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sv(t,e)}(e,Phaser.Plugins.ScenePlugin),e}(),uv={getParentSizer:Ao,getTopmostSizer:Fo,hide:Ma,show:ja,isShown:Ra,edit:nv,isInTouching:Lo};Object.assign(av.prototype,uv);var cv={scene:[{key:"rexUI",plugin:av,mapping:"rexUI"}]};function hv(t){return(hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function fv(t,e){return!e||"object"!==hv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dv(t){return(dv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pv(t,e){return(pv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yv=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),fv(this,dv(e).call(this,{key:"boot"}))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pv(t,e)}(e,Phaser.Scene),n=e,(i=[{key:"preload",value:function(){}},{key:"create",value:function(){console.log("Boot"),this.scene.start("game1")}},{key:"update",value:function(){}}])&&lv(n.prototype,i),r&&lv(n,r),e}(),vv=function(t){var e=Ju()(t,"containerID","adContainer");console.log("SetupIMA"),this.topContainer=document.getElementById(e),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.topContainer),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1)},gv=function(t){var e=Ju()(t,"adTag",""),n=Ju()(t,"linearAdSlotWidth",window.innerWidth),i=Ju()(t,"linearAdSlotHeight",window.innerHeight),r=Ju()(t,"nonLinearAdSlotWidth",window.innerWidth),o=Ju()(t,"nonLinearAdSlotHeight",window.innerHeight),s=new google.ima.AdsRequest;s.adTagUrl=e,s.linearAdSlotWidth=n,s.linearAdSlotHeight=i,s.nonLinearAdSlotWidth=r,s.nonLinearAdSlotHeight=o,this.adsLoader.requestAds(s)},bv=function(){this.adDisplayContainer.initialize();try{console.log("adsManager.init"),console.log("window.inner="+window.innerWidth),console.log("window.inner="+window.innerHeight),this.adsManager.init(window.innerWidth,window.innerHeight,google.ima.ViewMode.NORMAL),this.adsManager.start()}catch(t){}console.log("playAds")},mv={onAdsManagerLoaded:function(t){var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.adsManager=t.getAdsManager(this.adDisplayContainer,e),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdEvent.bind(this))},onAdEvent:function(t){var e=t.getAd();switch(t.type){case google.ima.AdEvent.Type.LOADED:e.isLinear();break;case google.ima.AdEvent.Type.STARTED:e.isLinear()&&(this.intervalTimer=setInterval(function(){adsManager.getRemainingTime()},300));break;case google.ima.AdEvent.Type.COMPLETE:e.isLinear()&&(clearInterval(this.intervalTimer),this.topContainer.style.display="none")}},onAdError:function(t){console.log(t.getError())},onContentPauseRequested:function(){},onContentResumeRequested:function(){}};function xv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var wv=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=Ju()(e,"eventEmitter",void 0),i=Ju()(e,"EventEmitterClass",void 0);this.setEventEmitter(n,i),this.setup(e),this.request(e)}var e,n,i;return e=t,(n=[{key:"shutdown",value:function(){this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}}])&&xv(e.prototype,n),i&&xv(e,i),t}(),Ov={setup:vv,request:gv,play:bv};Object.assign(wv.prototype,eo,Ov,mv);var kv=wv;function Sv(t){return(Sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Cv(t,e){return!e||"object"!==Sv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tv(t){return(Tv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _v(t,e){return(_v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ev=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Cv(this,Tv(e).call(this,{key:"game1"}))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_v(t,e)}(e,Phaser.Scene),n=e,(i=[{key:"preload",value:function(){this.load.image("classroom","assets/classroom.png"),this.load.image("bg_label","assets/long-small.png"),this.load.image("char_catgirl","assets/char_catgirl.png")}},{key:"create",value:function(){var t=new kv({adTag:"https://googleads.g.doubleclick.net/pagead/ads?ad_type=video_text_image&client=ca-games-pub-7380101976321108&description_url=http%3A%2F%2Fsales-frontier.com&videoad_start_delay=0&hl=zh_TW&max_ad_duration=30000&vad_type=nonlinear&adtest=on"});this.add.image(308,667,"classroom"),this.add.image(308,200,"char_catgirl"),this.rexUI.add.buttons({anchor:{centerX:"center",centerY:"center"},orientation:"x",space:20,buttons:[jv(this,"PLAY"),jv(this,"GOTO")]}).setOrigin(.5,.5).layout().drawBounds(this.add.graphics(),16711680).on("button.click",function(e,n,i,r){console.log("Click button-".concat(e.text)+n),0==n?(console.log(n+" has been clicked!"),t.play()):1==n?(console.log(n+" has been clicked!"),this.scene.start("game2")):console.log("else has been clicked!")},this)}},{key:"update",value:function(){}}])&&Pv(n.prototype,i),r&&Pv(n,r),e}(),jv=function(t,e){return t.rexUI.add.label({width:200,height:60,background:Mv(t,100,100,200,50,"bg_label",20,20),text:t.add.text(0,0,e,{fontSize:24,color:"#000"}),icon:t.add.image(308,667,"char_catgirl").setScale(.5),iconMask:!0,space:{left:5,right:5,top:0,bottom:5}})},Mv=function(t,e,n,i,r,o,s,a){return t.rexUI.add.ninePatch({x:e,y:n,width:i,height:r,key:o,columns:[s,void 0,s],rows:[a,void 0,a]})},Rv=Ev;function Iv(t){return(Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dv(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Lv(t,e){return!e||"object"!==Iv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Av(t){return(Av=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fv(t,e){return(Fv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zv=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Lv(this,Av(e).call(this,{key:"game2"}))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fv(t,e)}(e,Phaser.Scene),n=e,(i=[{key:"preload",value:function(){this.load.image("bathroom","assets/bathroom.png"),this.load.image("bg_label","assets/long-small.png"),this.load.image("char_catgirl","assets/char_catgirl.png")}},{key:"create",value:function(){this.add.image(308,667,"bathroom"),this.add.image(308,667,"bg_label"),this.add.image(308,200,"char_catgirl"),this.rexUI.add.buttons({x:"center",y:"center",orientation:"x",space:20,buttons:[Bv(this,"ABCDE"),Bv(this,"BW")]}).setOrigin(.5,.5).layout().drawBounds(this.add.graphics(),16711680).on("button.click",function(t,e,n,i){console.log("Click button-".concat(t.text)+e),0==e?(console.log(e+" has been clicked!"),this.scene.start("game1")):1==e?console.log(e+" has been clicked!"):console.log("else has been clicked!")},this)}},{key:"update",value:function(){}}])&&Dv(n.prototype,i),r&&Dv(n,r),e}(),Bv=function(t,e){return t.rexUI.add.label({width:200,height:60,background:Yv(t,100,100,200,50,"bg_label",20,20),text:t.add.text(0,0,e,{fontSize:24,color:"#000"}),icon:t.add.image(308,667,"char_catgirl").setScale(.5),iconMask:!0,space:{left:5,right:5,top:0,bottom:5}})},Yv=function(t,e,n,i,r,o,s,a){return t.rexUI.add.ninePatch({x:e,y:n,width:i,height:r,key:o,columns:[s,void 0,s],rows:[a,void 0,a]})},Nv=zv,Wv={type:Phaser.AUTO,parent:"game",dom:{createContainer:!0},width:616,height:1334,scale:{mode:Phaser.Scale.ENVELOP,autoCenter:Phaser.Scale.CENTER_BOTH},plugins:cv,scene:[yv,Rv,Nv]};new Phaser.Game(Wv)},18:function(t,e,n){var i=n(167)("wks"),r=n(101),o=n(11).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},217:function(t,e,n){var i=n(14),r=n(11).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},218:function(t,e,n){e.f=n(18)},219:function(t,e,n){var i=n(167)("keys"),r=n(101);t.exports=function(t){return i[t]||(i[t]=r(t))}},22:function(t,e,n){var i=n(60),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},220:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},221:function(t,e,n){var i=n(11).document;t.exports=i&&i.documentElement},222:function(t,e,n){var i=n(14),r=n(13),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(58)(Function.call,n(61).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},223:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},224:function(t,e,n){var i=n(14),r=n(222).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},225:function(t,e,n){"use strict";var i=n(60),r=n(68);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},226:function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},227:function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},228:function(t,e,n){var i=n(60),r=n(68);t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),u=i(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},229:function(t,e,n){"use strict";var i=n(102),r=n(1),o=n(43),s=n(48),a=n(121),u=n(374),c=n(119),h=n(107),l=n(18)("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,p,y,v,g){u(n,e,p);var b,m,x,w=function(t){if(!f&&t in P)return P[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},O=e+" Iterator",k="values"==y,S=!1,P=t.prototype,C=P[l]||P["@@iterator"]||y&&P[y],T=C||w(y),_=y?k?w("entries"):T:void 0,E="Array"==e&&P.entries||C;if(E&&(x=h(E.call(new t)))!==Object.prototype&&x.next&&(c(x,O,!0),i||"function"==typeof x[l]||s(x,l,d)),k&&C&&"values"!==C.name&&(S=!0,T=function(){return C.call(this)}),i&&!g||!f&&!S&&P[l]||s(P,l,T),a[e]=T,a[O]=d,y)if(b={values:k?T:w("values"),keys:v?T:w("keys"),entries:_},g)for(m in b)m in P||o(P,m,b[m]);else r(r.P+r.F*(f||S),e,b);return b}},230:function(t,e,n){var i=n(231),r=n(68);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},231:function(t,e,n){var i=n(14),r=n(67),o=n(18)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},232:function(t,e,n){var i=n(18)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},233:function(t,e,n){var i=n(121),r=n(18)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},234:function(t,e,n){"use strict";var i=n(29),r=n(100);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},235:function(t,e,n){var i=n(146),r=n(18)("iterator"),o=n(121);t.exports=n(24).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},236:function(t,e,n){"use strict";var i=n(39),r=n(104),o=n(22);t.exports=function(t){for(var e=i(this),n=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,c=void 0===u?n:r(u,n);c>a;)e[a++]=t;return e}},237:function(t,e,n){"use strict";var i=n(108),r=n(379),o=n(121),s=n(49);t.exports=n(229)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},238:function(t,e,n){"use strict";var i,r,o=n(172),s=RegExp.prototype.exec,a=String.prototype.replace,u=s,c=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),h=void 0!==/()??/.exec("")[1];(c||h)&&(u=function(t){var e,n,i,r,u=this;return h&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),c&&(e=u.lastIndex),i=s.call(u,t),c&&i&&(u.lastIndex=u.global?i.index+i[0].length:e),h&&i&&i.length>1&&a.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i}),t.exports=u},239:function(t,e,n){"use strict";var i=n(228)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},24:function(t,e){var n=t.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},240:function(t,e,n){var i,r,o,s=n(58),a=n(368),u=n(221),c=n(217),h=n(11),l=h.process,f=h.setImmediate,d=h.clearImmediate,p=h.MessageChannel,y=h.Dispatch,v=0,g={},b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},m=function(t){b.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++v]=function(){a("function"==typeof t?t:Function(t),e)},i(v),v},d=function(t){delete g[t]},"process"==n(67)(l)?i=function(t){l.nextTick(s(b,t,1))}:y&&y.now?i=function(t){y.now(s(b,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=m,i=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(i=function(t){h.postMessage(t+"","*")},h.addEventListener("message",m,!1)):i="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:f,clear:d}},241:function(t,e,n){"use strict";var i=n(11),r=n(28),o=n(102),s=n(178),a=n(48),u=n(124),c=n(12),h=n(123),l=n(60),f=n(22),d=n(387),p=n(106).f,y=n(29).f,v=n(236),g=n(119),b="prototype",m="Wrong index!",x=i.ArrayBuffer,w=i.DataView,O=i.Math,k=i.RangeError,S=i.Infinity,P=x,C=O.abs,T=O.pow,_=O.floor,E=O.log,j=O.LN2,M=r?"_b":"buffer",R=r?"_l":"byteLength",I=r?"_o":"byteOffset";function D(t,e,n){var i,r,o,s=new Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,h=23===e?T(2,-24)-T(2,-77):0,l=0,f=t<0||0===t&&1/t<0?1:0;for((t=C(t))!=t||t===S?(r=t!=t?1:0,i=u):(i=_(E(t)/j),t*(o=T(2,-i))<1&&(i--,o*=2),(t+=i+c>=1?h/o:h*T(2,1-c))*o>=2&&(i++,o/=2),i+c>=u?(r=0,i=u):i+c>=1?(r=(t*o-1)*T(2,e),i+=c):(r=t*T(2,c-1)*T(2,e),i=0));e>=8;s[l++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;a>0;s[l++]=255&i,i/=256,a-=8);return s[--l]|=128*f,s}function L(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,u=n-1,c=t[u--],h=127&c;for(c>>=7;a>0;h=256*h+t[u],u--,a-=8);for(i=h&(1<<-a)-1,h>>=-a,a+=e;a>0;i=256*i+t[u],u--,a-=8);if(0===h)h=1-s;else{if(h===o)return i?NaN:c?-S:S;i+=T(2,e),h-=s}return(c?-1:1)*i*T(2,h-e)}function A(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function F(t){return[255&t]}function z(t){return[255&t,t>>8&255]}function B(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function Y(t){return D(t,52,8)}function N(t){return D(t,23,4)}function W(t,e,n){y(t[b],e,{get:function(){return this[n]}})}function H(t,e,n,i){var r=d(+n);if(r+e>t[R])throw k(m);var o=t[M]._b,s=r+t[I],a=o.slice(s,s+e);return i?a:a.reverse()}function V(t,e,n,i,r,o){var s=d(+n);if(s+e>t[R])throw k(m);for(var a=t[M]._b,u=s+t[I],c=i(+r),h=0;h<e;h++)a[u+h]=c[o?h:e-h-1]}if(s.ABV){if(!c(function(){x(1)})||!c(function(){new x(-1)})||c(function(){return new x,new x(1.5),new x(NaN),"ArrayBuffer"!=x.name})){for(var G,U=(x=function(t){return h(this,x),new P(d(t))})[b]=P[b],X=p(P),J=0;X.length>J;)(G=X[J++])in x||a(x,G,P[G]);o||(U.constructor=x)}var Z=new w(new x(2)),K=w[b].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||u(w[b],{setInt8:function(t,e){K.call(this,t,e<<24>>24)},setUint8:function(t,e){K.call(this,t,e<<24>>24)}},!0)}else x=function(t){h(this,x,"ArrayBuffer");var e=d(t);this._b=v.call(new Array(e),0),this[R]=e},w=function(t,e,n){h(this,w,"DataView"),h(t,x,"DataView");var i=t[R],r=l(e);if(r<0||r>i)throw k("Wrong offset!");if(r+(n=void 0===n?i-r:f(n))>i)throw k("Wrong length!");this[M]=t,this[I]=r,this[R]=n},r&&(W(x,"byteLength","_l"),W(w,"buffer","_b"),W(w,"byteLength","_l"),W(w,"byteOffset","_o")),u(w[b],{getInt8:function(t){return H(this,1,t)[0]<<24>>24},getUint8:function(t){return H(this,1,t)[0]},getInt16:function(t){var e=H(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=H(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return A(H(this,4,t,arguments[1]))},getUint32:function(t){return A(H(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return L(H(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return L(H(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){V(this,1,t,F,e)},setUint8:function(t,e){V(this,1,t,F,e)},setInt16:function(t,e){V(this,2,t,z,e,arguments[2])},setUint16:function(t,e){V(this,2,t,z,e,arguments[2])},setInt32:function(t,e){V(this,4,t,B,e,arguments[2])},setUint32:function(t,e){V(this,4,t,B,e,arguments[2])},setFloat32:function(t,e){V(this,4,t,N,e,arguments[2])},setFloat64:function(t,e){V(this,8,t,Y,e,arguments[2])}});g(x,"ArrayBuffer"),g(w,"DataView"),a(w[b],s.VIEW,!0),e.ArrayBuffer=x,e.DataView=w},242:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},243:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return"object"===n(t)?null!==t:"function"==typeof t}},244:function(t,e,n){t.exports=!n(392)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},245:function(t,e){t.exports=function(t){return t.y+t.displayHeight-t.displayHeight*t.originY}},246:function(t,e){t.exports=function(t){return t.x-t.displayWidth*t.originX+.5*t.displayWidth}},247:function(t,e){t.exports=function(t,e){return t.y=e-t.displayHeight+t.displayHeight*t.originY,t}},248:function(t,e){t.exports=function(t,e){var n=t.displayWidth*t.originX;return t.x=e+n-.5*t.displayWidth,t}},249:function(t,e){t.exports=function(t){return t.x-t.displayWidth*t.originX}},250:function(t,e){t.exports=function(t,e){return t.x=e+t.displayWidth*t.originX,t}},251:function(t,e){t.exports=function(t){return t.x+t.displayWidth-t.displayWidth*t.originX}},252:function(t,e){t.exports=function(t,e){return t.x=e-t.displayWidth+t.displayWidth*t.originX,t}},253:function(t,e){t.exports=function(t,e){var n=t.displayHeight*t.originY;return t.y=e+n-.5*t.displayHeight,t}},254:function(t,e){t.exports=function(t){return t.y-t.displayHeight*t.originY+.5*t.displayHeight}},255:function(t,e){t.exports=function(t){return t.y-t.displayHeight*t.originY}},256:function(t,e){t.exports=function(t,e){return t.y=e+t.displayHeight*t.originY,t}},28:function(t,e,n){t.exports=!n(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},29:function(t,e,n){var i=n(13),r=n(360),o=n(88),s=Object.defineProperty;e.f=n(28)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},359:function(t,e){var n=Math.PI/180;t.exports=function(t){return t*n}},360:function(t,e,n){t.exports=!n(28)&&!n(12)(function(){return 7!=Object.defineProperty(n(217)("div"),"a",{get:function(){return 7}}).a})},361:function(t,e,n){var i=n(11),r=n(24),o=n(102),s=n(218),a=n(29).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},362:function(t,e,n){var i=n(47),r=n(49),o=n(168)(!1),s=n(219)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),u=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},363:function(t,e,n){var i=n(29),r=n(13),o=n(103);t.exports=n(28)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,u=0;a>u;)i.f(t,n=s[u++],e[n]);return t}},364:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(49),o=n(106).f,s={}.toString,a="object"==("undefined"==typeof window?"undefined":i(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==s.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},365:function(t,e,n){"use strict";var i=n(28),r=n(103),o=n(169),s=n(145),a=n(39),u=n(144),c=Object.assign;t.exports=!c||n(12)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i})?function(t,e){for(var n=a(t),c=arguments.length,h=1,l=o.f,f=s.f;c>h;)for(var d,p=u(arguments[h++]),y=l?r(p).concat(l(p)):r(p),v=y.length,g=0;v>g;)d=y[g++],i&&!f.call(p,d)||(n[d]=p[d]);return n}:c},366:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},367:function(t,e,n){"use strict";var i=n(59),r=n(14),o=n(368),s=[].slice,a={};t.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),u=function i(){var r=n.concat(s.call(arguments));return this instanceof i?function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)}(e,r.length,r):o(e,r,t)};return r(e.prototype)&&(u.prototype=e.prototype),u}},368:function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},369:function(t,e,n){var i=n(11).parseInt,r=n(120).trim,o=n(223),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},370:function(t,e,n){var i=n(11).parseFloat,r=n(120).trim;t.exports=1/i(n(223)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},371:function(t,e,n){var i=n(67);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},372:function(t,e,n){var i=n(14),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},373:function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},374:function(t,e,n){"use strict";var i=n(105),r=n(100),o=n(119),s={};n(48)(s,n(18)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},375:function(t,e,n){var i=n(13);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},376:function(t,e,n){var i=n(766);t.exports=function(t,e){return new(i(t))(e)}},377:function(t,e,n){var i=n(59),r=n(39),o=n(144),s=n(22);t.exports=function(t,e,n,a,u){i(e);var c=r(t),h=o(c),l=s(c.length),f=u?l-1:0,d=u?-1:1;if(n<2)for(;;){if(f in h){a=h[f],f+=d;break}if(f+=d,u?f<0:l<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:l>f;f+=d)f in h&&(a=e(a,h[f],f,c));return a}},378:function(t,e,n){"use strict";var i=n(39),r=n(104),o=n(22);t.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),a=r(t,s),u=r(e,s),c=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===c?s:r(c,s))-u,s-a),l=1;for(u<a&&a<u+h&&(l=-1,u+=h-1,a+=h-1);h-- >0;)u in n?n[a]=n[u]:delete n[a],a+=l,u+=l;return n}},379:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},38:function(t,e,n){var i=n(863),r=[];r[i.BOTTOM_CENTER]=n(864),r[i.BOTTOM_LEFT]=n(865),r[i.BOTTOM_RIGHT]=n(866),r[i.CENTER]=n(867),r[i.LEFT_CENTER]=n(869),r[i.RIGHT_CENTER]=n(870),r[i.TOP_CENTER]=n(871),r[i.TOP_LEFT]=n(872),r[i.TOP_RIGHT]=n(873);t.exports=function(t,e,n,i,o){return r[n](t,e,i,o)}},380:function(t,e,n){"use strict";var i=n(238);n(1)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},381:function(t,e,n){n(28)&&"g"!=/./g.flags&&n(29).f(RegExp.prototype,"flags",{configurable:!0,get:n(172)})},382:function(t,e,n){"use strict";var i,r,o,s,a=n(102),u=n(11),c=n(58),h=n(146),l=n(1),f=n(14),d=n(59),p=n(123),y=n(175),v=n(147),g=n(240).set,b=n(786)(),m=n(383),x=n(787),w=n(176),O=n(384),k=u.TypeError,S=u.process,P=S&&S.versions,C=P&&P.v8||"",T=u.Promise,_="process"==h(S),E=function(){},j=r=m.f,M=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(18)("species")]=function(t){t(E,E)};return(_||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),R=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,a=r?e.ok:e.fail,u=e.resolve,c=e.reject,h=e.domain;try{a?(r||(2==t._h&&A(t),t._h=1),!0===a?n=i:(h&&h.enter(),n=a(i),h&&(h.exit(),s=!0)),n===e.promise?c(k("Promise-chain cycle")):(o=R(n))?o.call(n,u,c):u(n)):c(i)}catch(t){h&&!s&&h.exit(),c(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&D(t)})}},D=function(t){g.call(u,function(){var e,n,i,r=t._v,o=L(t);if(o&&(e=x(function(){_?S.emit("unhandledRejection",r,t):(n=u.onunhandledrejection)?n({promise:t,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=_||L(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},A=function(t){g.call(u,function(){var e;_?S.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},z=function t(e){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw k("Promise can't be resolved itself");(n=R(e))?b(function(){var r={_w:i,_d:!1};try{n.call(e,c(t,r,1),c(F,r,1))}catch(t){F.call(r,t)}}):(i._v=e,i._s=1,I(i,!1))}catch(t){F.call({_w:i,_d:!1},t)}}};M||(T=function(t){p(this,T,"Promise","_h"),d(t),i.call(this);try{t(c(z,this,1),c(F,this,1))}catch(t){F.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(124)(T.prototype,{then:function(t,e){var n=j(v(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=_?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=c(z,t,1),this.reject=c(F,t,1)},m.f=j=function(t){return t===T||t===s?new o(t):r(t)}),l(l.G+l.W+l.F*!M,{Promise:T}),n(119)(T,"Promise"),n(122)("Promise"),s=n(24).Promise,l(l.S+l.F*!M,"Promise",{reject:function(t){var e=j(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(a||!M),"Promise",{resolve:function(t){return O(a&&this===s?T:this,t)}}),l(l.S+l.F*!(M&&n(171)(function(t){T.all(t).catch(E)})),"Promise",{all:function(t){var e=this,n=j(e),i=n.resolve,r=n.reject,o=x(function(){var n=[],o=0,s=1;y(t,!1,function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=j(e),i=n.reject,r=x(function(){y(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},383:function(t,e,n){"use strict";var i=n(59);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}(t)}},384:function(t,e,n){var i=n(13),r=n(14),o=n(383);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},385:function(t,e,n){"use strict";var i=n(29).f,r=n(105),o=n(124),s=n(58),a=n(123),u=n(175),c=n(229),h=n(379),l=n(122),f=n(28),d=n(89).fastKey,p=n(109),y=f?"_s":"size",v=function(t,e){var n,i=d(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var h=t(function(t,i){a(t,h,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=i&&u(i,n,t[c],t)});return o(h.prototype,{clear:function(){for(var t=p(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var n=p(this,e),i=v(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[y]--}return!!i},forEach:function(t){p(this,e);for(var n,i=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(p(this,e),t)}}),f&&i(h.prototype,"size",{get:function(){return p(this,e)[y]}}),h},def:function(t,e,n){var i,r,o=v(t,e);return o?o.v=n:(t._l=o={i:r=d(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[y]++,"F"!==r&&(t._i[r]=o)),t},getEntry:v,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?h(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,h(1))},n?"entries":"values",!n,!0),l(e)}}},386:function(t,e,n){"use strict";var i=n(124),r=n(89).getWeak,o=n(13),s=n(14),a=n(123),u=n(175),c=n(63),h=n(47),l=n(109),f=c(5),d=c(6),p=0,y=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},g=function(t,e){return f(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,i){a(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=i&&u(i,n,t[o],t)});return i(c.prototype,{delete:function(t){if(!s(t))return!1;var n=r(t);return!0===n?y(l(this,e)).delete(t):n&&h(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=r(t);return!0===n?y(l(this,e)).has(t):n&&h(n,this._i)}}),c},def:function(t,e,n){var i=r(o(e),!0);return!0===i?y(t).set(e,n):i[t._i]=n,t},ufstore:y}},387:function(t,e,n){var i=n(60),r=n(22);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},388:function(t,e,n){var i=n(106),r=n(169),o=n(13),s=n(11).Reflect;t.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},389:function(t,e,n){var i=n(22),r=n(225),o=n(68);t.exports=function(t,e,n,s){var a=String(o(t)),u=a.length,c=void 0===n?" ":String(n),h=i(e);if(h<=u||""==c)return a;var l=h-u,f=r.call(c,Math.ceil(l/c.length));return f.length>l&&(f=f.slice(0,l)),s?f+a:a+f}},39:function(t,e,n){var i=n(68);t.exports=function(t){return Object(i(t))}},390:function(t,e,n){var i=n(28),r=n(103),o=n(49),s=n(145).f;t.exports=function(t){return function(e){for(var n,a=o(e),u=r(a),c=u.length,h=0,l=[];c>h;)n=u[h++],i&&!s.call(a,n)||l.push(t?[n,a[n]]:a[n]);return l}}},391:function(t,e){var n=t.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},392:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},43:function(t,e,n){var i=n(11),r=n(48),o=n(47),s=n(101)("src"),a=n(676),u=(""+a).split("toString");n(24).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(c&&(o(n,s)||r(n,s,t[e]?""+t[e]:u.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},44:function(t,e,n){var i=n(1),r=n(12),o=n(68),s=/"/g,a=function(t,e,n,i){var r=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),i(i.P+i.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},47:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},48:function(t,e,n){var i=n(29),r=n(100);t.exports=n(28)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},49:function(t,e,n){var i=n(144),r=n(68);t.exports=function(t){return i(r(t))}},5:function(t,e){t.exports=function(t,e,n){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var i=e.split("."),r=t,o=n,s=0;s<i.length;s++){if(!r.hasOwnProperty(i[s])){o=n;break}o=r[i[s]],r=r[i[s]]}return o}return n}return n}},53:function(t,e,n){"use strict";var i=n(12);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},58:function(t,e,n){var i=n(59);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},59:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},60:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},61:function(t,e,n){var i=n(145),r=n(100),o=n(49),s=n(88),a=n(47),u=n(360),c=Object.getOwnPropertyDescriptor;e.f=n(28)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},62:function(t,e,n){var i=n(1),r=n(24),o=n(12);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},63:function(t,e,n){var i=n(58),r=n(144),o=n(39),s=n(22),a=n(376);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,h=4==t,l=6==t,f=5==t||l,d=e||a;return function(e,a,p){for(var y,v,g=o(e),b=r(g),m=i(a,p,3),x=s(b.length),w=0,O=n?d(e,x):u?d(e,0):void 0;x>w;w++)if((f||w in b)&&(v=m(y=b[w],w,g),t))if(n)O[w]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:O.push(y)}else if(h)return!1;return l?-1:c||h?h:O}}},666:function(t,e,n){"use strict";function i(t,e,n){n=n||2;var i,a,u,c,h,d,y,v=e&&e.length,g=v?e[0]*n:t.length,b=r(t,0,g,n,!0),m=[];if(!b||b.next===b.prev)return m;if(v&&(b=function(t,e,n,i){var s,a,u,c,h,d=[];for(s=0,a=e.length;s<a;s++)u=e[s]*i,c=s<a-1?e[s+1]*i:t.length,(h=r(t,u,c,i,!1))===h.next&&(h.steiner=!0),d.push(p(h));for(d.sort(l),s=0;s<d.length;s++)f(d[s],n),n=o(n,n.next);return n}(t,e,b,n)),t.length>80*n){i=u=t[0],a=c=t[1];for(var x=n;x<g;x+=n)h=t[x],d=t[x+1],h<i&&(i=h),d<a&&(a=d),h>u&&(u=h),d>c&&(c=d);y=0!==(y=Math.max(u-i,c-a))?1/y:0}return s(b,m,n,i,a,y),m}function r(t,e,n,i,r){var o,s;if(r===P(t,e,n,i)>0)for(o=e;o<n;o+=i)s=O(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=O(o,t[o],t[o+1],s);return s&&b(s,s.next)&&(k(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!b(i,i.next)&&0!==g(i.prev,i,i.next))i=i.next;else{if(k(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function s(t,e,n,i,r,l,f){if(t){!f&&l&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=d(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,s,a,u,c=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ);e++);for(u=c;a>0||u>0&&i;)0!==a&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1)}(r)}(t,i,r,l);for(var p,y,v=t;t.prev!==t.next;)if(p=t.prev,y=t.next,l?u(t,i,r,l):a(t))e.push(p.i/n),e.push(t.i/n),e.push(y.i/n),k(t),t=y.next,v=y.next;else if((t=y)===v){f?1===f?s(t=c(t,e,n),e,n,i,r,l,2):2===f&&h(t,e,n,i,r,l):s(o(t),e,n,i,r,l,1);break}}}function a(t){var e=t.prev,n=t,i=t.next;if(g(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(y(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&g(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function u(t,e,n,i){var r=t.prev,o=t,s=t.next;if(g(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,u=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,c=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,h=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,l=d(a,u,e,n,i),f=d(c,h,e,n,i),p=t.prevZ,v=t.nextZ;p&&p.z>=l&&v&&v.z<=f;){if(p!==t.prev&&p!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=l;){if(p!==t.prev&&p!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=f;){if(v!==t.prev&&v!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function c(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!b(r,o)&&m(r,i,i.next,o)&&x(r,o)&&x(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),k(i),k(i.next),i=t=o),i=i.next}while(i!==t);return i}function h(t,e,n,i,r,a){var u=t;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&v(u,c)){var h=w(u,c);return u=o(u,u.next),h=o(h,h.next),s(u,e,n,i,r,a),void s(h,e,n,i,r,a)}c=c.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n.prev;var u,c=n,h=n.x,l=n.y,f=1/0;i=n.next;for(;i!==c;)r>=i.x&&i.x>=h&&r!==i.x&&y(o<l?r:s,o,h,l,o<l?s:r,o,i.x,i.y)&&((u=Math.abs(o-i.y)/(r-i.x))<f||u===f&&i.x>n.x)&&x(i,t)&&(n=i,f=u),i=i.next;return n}(t,e)){var n=w(e,t);o(n,n.next)}}function d(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function y(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&m(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&x(t,e)&&x(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}function g(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,n,i){return!!(b(t,e)&&b(n,i)||b(t,i)&&b(n,e))||g(t,e,n)>0!=g(t,e,i)>0&&g(n,i,t)>0!=g(n,i,e)>0}function x(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function w(t,e){var n=new S(t.i,t.x,t.y),i=new S(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function O(t,e,n,i){var r=new S(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function k(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}t.exports=i,i.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,s=Math.abs(P(t,0,o,n));if(r)for(var a=0,u=e.length;a<u;a++){var c=e[a]*n,h=a<u-1?e[a+1]*n:t.length;s-=Math.abs(P(t,c,h,n))}var l=0;for(a=0;a<i.length;a+=3){var f=i[a]*n,d=i[a+1]*n,p=i[a+2]*n;l+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===l?0:Math.abs((l-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}},667:function(t,e,n){var i=n(859),r=n(860);t.exports=function(t,e,n,o,s){var a=this.pipeline,u=a._tempMatrix1,c=a._tempMatrix2,h=a._tempMatrix3;t.setPipeline(a),c.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),u.copyFrom(o.matrix),s?(u.multiplyWithOffset(s,-o.scrollX*e.scrollFactorX,-o.scrollY*e.scrollFactorY),c.e=e.x,c.f=e.y):(c.e-=o.scrollX*e.scrollFactorX,c.f-=o.scrollY*e.scrollFactorY),u.multiply(c,h);var l=e._displayOriginX,f=e._displayOriginY,d=o.alpha*e.alpha;e.isFilled&&i(a,h,e,d,l,f),e.isStroked&&r(a,e,d,l,f)}},668:function(t,e,n){var i=n(861),r=n(862),o=Phaser.Renderer.Canvas.SetTransform;t.exports=function(t,e,n,s,a){var u=t.currentContext;if(o(t,u,e,s,a)){var c=e._displayOriginX,h=e._displayOriginY,l=e.pathData,f=l.length-1,d=l[0]-c,p=l[1]-h;u.beginPath(),u.moveTo(d,p),e.closePath||(f-=2);for(var y=2;y<f;y+=2){var v=l[y]-c,g=l[y+1]-h;u.lineTo(v,g)}u.closePath(),e.isFilled&&(i(u,e),u.fill()),e.isStroked&&(r(u,e),u.stroke()),u.restore()}}},669:function(t,e){var n=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,i,r,o){if(0!==e.width&&0!==e.height){var s=e.frame,a=s.width,u=s.height,c=n.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,s.glTexture,a,u,e.x,e.y,a/e.style.resolution,u/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,u,c(e._tintTL,r.alpha*e._alphaTL),c(e._tintTR,r.alpha*e._alphaTR),c(e._tintBL,r.alpha*e._alphaBL),c(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,o)}}},67:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},670:function(t,e){t.exports=function(t,e,n,i,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,i,r)}},671:function(t,e,n){n(672),t.exports=n(1793)},672:function(t,e,n){"use strict";n(673);var i,r=(i=n(846))&&i.__esModule?i:{default:i};r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},673:function(t,e,n){"use strict";n(674),n(817),n(819),n(822),n(824),n(826),n(828),n(830),n(832),n(834),n(836),n(838),n(840),n(844)},674:function(t,e,n){n(675),n(678),n(679),n(680),n(681),n(682),n(683),n(684),n(685),n(686),n(687),n(688),n(689),n(690),n(691),n(692),n(693),n(694),n(695),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(708),n(709),n(710),n(711),n(712),n(713),n(714),n(715),n(716),n(717),n(718),n(719),n(721),n(722),n(723),n(724),n(725),n(726),n(727),n(728),n(729),n(730),n(731),n(732),n(733),n(734),n(735),n(736),n(737),n(738),n(739),n(740),n(741),n(742),n(743),n(744),n(745),n(746),n(747),n(748),n(749),n(750),n(751),n(752),n(753),n(754),n(756),n(757),n(759),n(760),n(761),n(762),n(763),n(764),n(765),n(767),n(768),n(769),n(770),n(771),n(772),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(237),n(780),n(380),n(781),n(381),n(782),n(783),n(784),n(785),n(382),n(788),n(789),n(790),n(791),n(792),n(793),n(794),n(795),n(796),n(797),n(798),n(799),n(800),n(801),n(802),n(803),n(804),n(805),n(806),n(807),n(808),n(809),n(810),n(811),n(812),n(813),n(814),n(815),n(816),t.exports=n(24)},675:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(11),o=n(47),s=n(28),a=n(1),u=n(43),c=n(89).KEY,h=n(12),l=n(167),f=n(119),d=n(101),p=n(18),y=n(218),v=n(361),g=n(677),b=n(170),m=n(13),x=n(14),w=n(39),O=n(49),k=n(88),S=n(100),P=n(105),C=n(364),T=n(61),_=n(169),E=n(29),j=n(103),M=T.f,R=E.f,I=C.f,D=r.Symbol,L=r.JSON,A=L&&L.stringify,F=p("_hidden"),z=p("toPrimitive"),B={}.propertyIsEnumerable,Y=l("symbol-registry"),N=l("symbols"),W=l("op-symbols"),H=Object.prototype,V="function"==typeof D&&!!_.f,G=r.QObject,U=!G||!G.prototype||!G.prototype.findChild,X=s&&h(function(){return 7!=P(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=M(H,e);i&&delete H[e],R(t,e,n),i&&t!==H&&R(H,e,i)}:R,J=function(t){var e=N[t]=P(D.prototype);return e._k=t,e},Z=V&&"symbol"==i(D.iterator)?function(t){return"symbol"==i(t)}:function(t){return t instanceof D},K=function(t,e,n){return t===H&&K(W,e,n),m(t),e=k(e,!0),m(n),o(N,e)?(n.enumerable?(o(t,F)&&t[F][e]&&(t[F][e]=!1),n=P(n,{enumerable:S(0,!1)})):(o(t,F)||R(t,F,S(1,{})),t[F][e]=!0),X(t,e,n)):R(t,e,n)},q=function(t,e){m(t);for(var n,i=g(e=O(e)),r=0,o=i.length;o>r;)K(t,n=i[r++],e[n]);return t},$=function(t){var e=B.call(this,t=k(t,!0));return!(this===H&&o(N,t)&&!o(W,t))&&(!(e||!o(this,t)||!o(N,t)||o(this,F)&&this[F][t])||e)},Q=function(t,e){if(t=O(t),e=k(e,!0),t!==H||!o(N,e)||o(W,e)){var n=M(t,e);return!n||!o(N,e)||o(t,F)&&t[F][e]||(n.enumerable=!0),n}},tt=function(t){for(var e,n=I(O(t)),i=[],r=0;n.length>r;)o(N,e=n[r++])||e==F||e==c||i.push(e);return i},et=function(t){for(var e,n=t===H,i=I(n?W:O(t)),r=[],s=0;i.length>s;)!o(N,e=i[s++])||n&&!o(H,e)||r.push(N[e]);return r};V||(u((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0);return s&&U&&X(H,t,{configurable:!0,set:function e(n){this===H&&e.call(W,n),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),X(this,t,S(1,n))}}),J(t)}).prototype,"toString",function(){return this._k}),T.f=Q,E.f=K,n(106).f=C.f=tt,n(145).f=$,_.f=et,s&&!n(102)&&u(H,"propertyIsEnumerable",$,!0),y.f=function(t){return J(p(t))}),a(a.G+a.W+a.F*!V,{Symbol:D});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;nt.length>it;)p(nt[it++]);for(var rt=j(p.store),ot=0;rt.length>ot;)v(rt[ot++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return o(Y,t+="")?Y[t]:Y[t]=D(t)},keyFor:function(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var e in Y)if(Y[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!V,"Object",{create:function(t,e){return void 0===e?P(t):q(P(t),e)},defineProperty:K,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var st=h(function(){_.f(1)});a(a.S+a.F*st,"Object",{getOwnPropertySymbols:function(t){return _.f(w(t))}}),L&&a(a.S+a.F*(!V||h(function(){var t=D();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(x(e)||void 0!==t)&&!Z(t))return b(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Z(e))return e}),i[1]=e,A.apply(L,i)}}),D.prototype[z]||n(48)(D.prototype,z,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},676:function(t,e,n){t.exports=n(167)("native-function-to-string",Function.toString)},677:function(t,e,n){var i=n(103),r=n(169),o=n(145);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),u=o.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},678:function(t,e,n){var i=n(1);i(i.S,"Object",{create:n(105)})},679:function(t,e,n){var i=n(1);i(i.S+i.F*!n(28),"Object",{defineProperty:n(29).f})},68:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},680:function(t,e,n){var i=n(1);i(i.S+i.F*!n(28),"Object",{defineProperties:n(363)})},681:function(t,e,n){var i=n(49),r=n(61).f;n(62)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},682:function(t,e,n){var i=n(39),r=n(107);n(62)("getPrototypeOf",function(){return function(t){return r(i(t))}})},683:function(t,e,n){var i=n(39),r=n(103);n(62)("keys",function(){return function(t){return r(i(t))}})},684:function(t,e,n){n(62)("getOwnPropertyNames",function(){return n(364).f})},685:function(t,e,n){var i=n(14),r=n(89).onFreeze;n(62)("freeze",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},686:function(t,e,n){var i=n(14),r=n(89).onFreeze;n(62)("seal",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},687:function(t,e,n){var i=n(14),r=n(89).onFreeze;n(62)("preventExtensions",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},688:function(t,e,n){var i=n(14);n(62)("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},689:function(t,e,n){var i=n(14);n(62)("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},69:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if(n(28)){var r=n(102),o=n(11),s=n(12),a=n(1),u=n(178),c=n(241),h=n(58),l=n(123),f=n(100),d=n(48),p=n(124),y=n(60),v=n(22),g=n(387),b=n(104),m=n(88),x=n(47),w=n(146),O=n(14),k=n(39),S=n(233),P=n(105),C=n(107),T=n(106).f,_=n(235),E=n(101),j=n(18),M=n(63),R=n(168),I=n(147),D=n(237),L=n(121),A=n(171),F=n(122),z=n(236),B=n(378),Y=n(29),N=n(61),W=Y.f,H=N.f,V=o.RangeError,G=o.TypeError,U=o.Uint8Array,X=Array.prototype,J=c.ArrayBuffer,Z=c.DataView,K=M(0),q=M(2),$=M(3),Q=M(4),tt=M(5),et=M(6),nt=R(!0),it=R(!1),rt=D.values,ot=D.keys,st=D.entries,at=X.lastIndexOf,ut=X.reduce,ct=X.reduceRight,ht=X.join,lt=X.sort,ft=X.slice,dt=X.toString,pt=X.toLocaleString,yt=j("iterator"),vt=j("toStringTag"),gt=E("typed_constructor"),bt=E("def_constructor"),mt=u.CONSTR,xt=u.TYPED,wt=u.VIEW,Ot=M(1,function(t,e){return Tt(I(t,t[bt]),e)}),kt=s(function(){return 1===new U(new Uint16Array([1]).buffer)[0]}),St=!!U&&!!U.prototype.set&&s(function(){new U(1).set({})}),Pt=function(t,e){var n=y(t);if(n<0||n%e)throw V("Wrong offset!");return n},Ct=function(t){if(O(t)&&xt in t)return t;throw G(t+" is not a typed array!")},Tt=function(t,e){if(!(O(t)&&gt in t))throw G("It is not a typed array constructor!");return new t(e)},_t=function(t,e){return Et(I(t,t[bt]),e)},Et=function(t,e){for(var n=0,i=e.length,r=Tt(t,i);i>n;)r[n]=e[n++];return r},jt=function(t,e,n){W(t,e,{get:function(){return this._d[n]}})},Mt=function(t){var e,n,i,r,o,s,a=k(t),u=arguments.length,c=u>1?arguments[1]:void 0,l=void 0!==c,f=_(a);if(void 0!=f&&!S(f)){for(s=f.call(a),i=[],e=0;!(o=s.next()).done;e++)i.push(o.value);a=i}for(l&&u>2&&(c=h(c,arguments[2],2)),e=0,n=v(a.length),r=Tt(this,n);n>e;e++)r[e]=l?c(a[e],e):a[e];return r},Rt=function(){for(var t=0,e=arguments.length,n=Tt(this,e);e>t;)n[t]=arguments[t++];return n},It=!!U&&s(function(){pt.call(new U(1))}),Dt=function(){return pt.apply(It?ft.call(Ct(this)):Ct(this),arguments)},Lt={copyWithin:function(t,e){return B.call(Ct(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(Ct(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return z.apply(Ct(this),arguments)},filter:function(t){return _t(this,q(Ct(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return tt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return et(Ct(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Ct(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return it(Ct(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return nt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(Ct(this),arguments)},lastIndexOf:function(t){return at.apply(Ct(this),arguments)},map:function(t){return Ot(Ct(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ut.apply(Ct(this),arguments)},reduceRight:function(t){return ct.apply(Ct(this),arguments)},reverse:function(){for(var t,e=Ct(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t){return $(Ct(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(Ct(this),t)},subarray:function(t,e){var n=Ct(this),i=n.length,r=b(t,i);return new(I(n,n[bt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,v((void 0===e?i:b(e,i))-r))}},At=function(t,e){return _t(this,ft.call(Ct(this),t,e))},Ft=function(t){Ct(this);var e=Pt(arguments[1],1),n=this.length,i=k(t),r=v(i.length),o=0;if(r+e>n)throw V("Wrong length!");for(;o<r;)this[e+o]=i[o++]},zt={entries:function(){return st.call(Ct(this))},keys:function(){return ot.call(Ct(this))},values:function(){return rt.call(Ct(this))}},Bt=function(t,e){return O(t)&&t[xt]&&"symbol"!=i(e)&&e in t&&String(+e)==String(e)},Yt=function(t,e){return Bt(t,e=m(e,!0))?f(2,t[e]):H(t,e)},Nt=function(t,e,n){return!(Bt(t,e=m(e,!0))&&O(n)&&x(n,"value"))||x(n,"get")||x(n,"set")||n.configurable||x(n,"writable")&&!n.writable||x(n,"enumerable")&&!n.enumerable?W(t,e,n):(t[e]=n.value,t)};mt||(N.f=Yt,Y.f=Nt),a(a.S+a.F*!mt,"Object",{getOwnPropertyDescriptor:Yt,defineProperty:Nt}),s(function(){dt.call({})})&&(dt=pt=function(){return ht.call(this)});var Wt=p({},Lt);p(Wt,zt),d(Wt,yt,zt.values),p(Wt,{slice:At,set:Ft,constructor:function(){},toString:dt,toLocaleString:Dt}),jt(Wt,"buffer","b"),jt(Wt,"byteOffset","o"),jt(Wt,"byteLength","l"),jt(Wt,"length","e"),W(Wt,vt,{get:function(){return this[xt]}}),t.exports=function(t,e,n,i){var c=t+((i=!!i)?"Clamped":"")+"Array",h="get"+t,f="set"+t,p=o[c],y=p||{},b=p&&C(p),m=!p||!u.ABV,x={},k=p&&p.prototype,S=function(t,n){W(t,n,{get:function(){return function(t,n){var i=t._d;return i.v[h](n*e+i.o,kt)}(this,n)},set:function(t){return function(t,n,r){var o=t._d;i&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[f](n*e+o.o,r,kt)}(this,n,t)},enumerable:!0})};m?(p=n(function(t,n,i,r){l(t,p,c,"_d");var o,s,a,u,h=0,f=0;if(O(n)){if(!(n instanceof J||"ArrayBuffer"==(u=w(n))||"SharedArrayBuffer"==u))return xt in n?Et(p,n):Mt.call(p,n);o=n,f=Pt(i,e);var y=n.byteLength;if(void 0===r){if(y%e)throw V("Wrong length!");if((s=y-f)<0)throw V("Wrong length!")}else if((s=v(r)*e)+f>y)throw V("Wrong length!");a=s/e}else a=g(n),o=new J(s=a*e);for(d(t,"_d",{b:o,o:f,l:s,e:a,v:new Z(o)});h<a;)S(t,h++)}),k=p.prototype=P(Wt),d(k,"constructor",p)):s(function(){p(1)})&&s(function(){new p(-1)})&&A(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,i,r){var o;return l(t,p,c),O(n)?n instanceof J||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==r?new y(n,Pt(i,e),r):void 0!==i?new y(n,Pt(i,e)):new y(n):xt in n?Et(p,n):Mt.call(p,n):new y(g(n))}),K(b!==Function.prototype?T(y).concat(T(b)):T(y),function(t){t in p||d(p,t,y[t])}),p.prototype=k,r||(k.constructor=p));var _=k[yt],E=!!_&&("values"==_.name||void 0==_.name),j=zt.values;d(p,gt,!0),d(k,xt,c),d(k,wt,!0),d(k,bt,p),(i?new p(1)[vt]==c:vt in k)||W(k,vt,{get:function(){return c}}),x[c]=p,a(a.G+a.W+a.F*(p!=y),x),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*s(function(){y.of.call(p,1)}),c,{from:Mt,of:Rt}),"BYTES_PER_ELEMENT"in k||d(k,"BYTES_PER_ELEMENT",e),a(a.P,c,Lt),F(c),a(a.P+a.F*St,c,{set:Ft}),a(a.P+a.F*!E,c,zt),r||k.toString==dt||(k.toString=dt),a(a.P+a.F*s(function(){new p(1).slice()}),c,{slice:At}),a(a.P+a.F*(s(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!s(function(){k.toLocaleString.call([1,2])})),c,{toLocaleString:Dt}),L[c]=E?_:j,r||E||d(k,yt,j)}}else t.exports=function(){}},690:function(t,e,n){var i=n(14);n(62)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},691:function(t,e,n){var i=n(1);i(i.S+i.F,"Object",{assign:n(365)})},692:function(t,e,n){var i=n(1);i(i.S,"Object",{is:n(366)})},693:function(t,e,n){var i=n(1);i(i.S,"Object",{setPrototypeOf:n(222).set})},694:function(t,e,n){"use strict";var i=n(146),r={};r[n(18)("toStringTag")]="z",r+""!="[object z]"&&n(43)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},695:function(t,e,n){var i=n(1);i(i.P,"Function",{bind:n(367)})},696:function(t,e,n){var i=n(29).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(28)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},697:function(t,e,n){"use strict";var i=n(14),r=n(107),o=n(18)("hasInstance"),s=Function.prototype;o in s||n(29).f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},698:function(t,e,n){var i=n(1),r=n(369);i(i.G+i.F*(parseInt!=r),{parseInt:r})},699:function(t,e,n){var i=n(1),r=n(370);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},700:function(t,e,n){"use strict";var i=n(11),r=n(47),o=n(67),s=n(224),a=n(88),u=n(12),c=n(106).f,h=n(61).f,l=n(29).f,f=n(120).trim,d=i.Number,p=d,y=d.prototype,v="Number"==o(n(105)(y)),g="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=g?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,u=e.slice(2),c=0,h=u.length;c<h;c++)if((s=u.charCodeAt(c))<48||s>r)return NaN;return parseInt(u,i)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(v?u(function(){y.valueOf.call(n)}):"Number"!=o(n))?s(new p(b(e)),n,d):b(e)};for(var m,x=n(28)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)r(p,m=x[w])&&!r(d,m)&&l(d,m,h(p,m));d.prototype=y,y.constructor=d,n(43)(i,"Number",d)}},701:function(t,e,n){"use strict";var i=n(1),r=n(60),o=n(371),s=n(225),a=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",l=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*c[n],c[n]=i%1e7,i=u(i/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},p=function t(e,n,i){return 0===n?i:n%2==1?t(e,n-1,i*e):t(e*e,n/2,i)};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(12)(function(){a.call({})})),"Number",{toFixed:function(t){var e,n,i,a,u=o(this,h),c=r(t),y="",v="0";if(c<0||c>20)throw RangeError(h);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(y="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*p(2,69,1))-69)<0?u*p(2,-e,1):u/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(l(0,n),i=c;i>=7;)l(1e7,0),i-=7;for(l(p(10,i,1),0),i=e-1;i>=23;)f(1<<23),i-=23;f(1<<i),l(1,1),f(2),v=d()}else l(0,n),l(1<<-e,0),v=d()+s.call("0",c);return v=c>0?y+((a=v.length)<=c?"0."+s.call("0",c-a)+v:v.slice(0,a-c)+"."+v.slice(a-c)):y+v}})},702:function(t,e,n){"use strict";var i=n(1),r=n(12),o=n(371),s=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},703:function(t,e,n){var i=n(1);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},704:function(t,e,n){var i=n(1),r=n(11).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},705:function(t,e,n){var i=n(1);i(i.S,"Number",{isInteger:n(372)})},706:function(t,e,n){var i=n(1);i(i.S,"Number",{isNaN:function(t){return t!=t}})},707:function(t,e,n){var i=n(1),r=n(372),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},708:function(t,e,n){var i=n(1);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},709:function(t,e,n){var i=n(1);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},710:function(t,e,n){var i=n(1),r=n(370);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},711:function(t,e,n){var i=n(1),r=n(369);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},712:function(t,e,n){var i=n(1),r=n(373),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},713:function(t,e,n){var i=n(1),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},714:function(t,e,n){var i=n(1),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},715:function(t,e,n){var i=n(1),r=n(226);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},716:function(t,e,n){var i=n(1);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},717:function(t,e,n){var i=n(1),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},718:function(t,e,n){var i=n(1),r=n(227);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},719:function(t,e,n){var i=n(1);i(i.S,"Math",{fround:n(720)})},720:function(t,e,n){var i=n(226),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),u=r(2,-126);t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),c=i(t);return r<u?c*(r/u/s+1/o-1/o)*u*s:(n=(e=(1+s/o)*r)-(e-r))>a||n!=n?c*(1/0):c*n}},721:function(t,e,n){var i=n(1),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,s=0,a=arguments.length,u=0;s<a;)u<(n=r(arguments[s++]))?(o=o*(i=u/n)*i+1,u=n):o+=n>0?(i=n/u)*i:n;return u===1/0?1/0:u*Math.sqrt(o)}})},722:function(t,e,n){var i=n(1),r=Math.imul;i(i.S+i.F*n(12)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},723:function(t,e,n){var i=n(1);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},724:function(t,e,n){var i=n(1);i(i.S,"Math",{log1p:n(373)})},725:function(t,e,n){var i=n(1);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},726:function(t,e,n){var i=n(1);i(i.S,"Math",{sign:n(226)})},727:function(t,e,n){var i=n(1),r=n(227),o=Math.exp;i(i.S+i.F*n(12)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},728:function(t,e,n){var i=n(1),r=n(227),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},729:function(t,e,n){var i=n(1);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},730:function(t,e,n){var i=n(1),r=n(104),o=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,s=0;i>s;){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},731:function(t,e,n){var i=n(1),r=n(49),o=n(22);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<i&&s.push(String(arguments[a]));return s.join("")}})},732:function(t,e,n){"use strict";n(120)("trim",function(t){return function(){return t(this,3)}})},733:function(t,e,n){"use strict";var i=n(228)(!0);n(229)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},734:function(t,e,n){"use strict";var i=n(1),r=n(228)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},735:function(t,e,n){"use strict";var i=n(1),r=n(22),o=n(230),s="".endsWith;i(i.P+i.F*n(232)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),a=void 0===n?i:Math.min(r(n),i),u=String(t);return s?s.call(e,u,a):e.slice(a-u.length,a)===u}})},736:function(t,e,n){"use strict";var i=n(1),r=n(230);i(i.P+i.F*n(232)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},737:function(t,e,n){var i=n(1);i(i.P,"String",{repeat:n(225)})},738:function(t,e,n){"use strict";var i=n(1),r=n(22),o=n(230),s="".startsWith;i(i.P+i.F*n(232)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})},739:function(t,e,n){"use strict";n(44)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},740:function(t,e,n){"use strict";n(44)("big",function(t){return function(){return t(this,"big","","")}})},741:function(t,e,n){"use strict";n(44)("blink",function(t){return function(){return t(this,"blink","","")}})},742:function(t,e,n){"use strict";n(44)("bold",function(t){return function(){return t(this,"b","","")}})},743:function(t,e,n){"use strict";n(44)("fixed",function(t){return function(){return t(this,"tt","","")}})},744:function(t,e,n){"use strict";n(44)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},745:function(t,e,n){"use strict";n(44)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},746:function(t,e,n){"use strict";n(44)("italics",function(t){return function(){return t(this,"i","","")}})},747:function(t,e,n){"use strict";n(44)("link",function(t){return function(e){return t(this,"a","href",e)}})},748:function(t,e,n){"use strict";n(44)("small",function(t){return function(){return t(this,"small","","")}})},749:function(t,e,n){"use strict";n(44)("strike",function(t){return function(){return t(this,"strike","","")}})},750:function(t,e,n){"use strict";n(44)("sub",function(t){return function(){return t(this,"sub","","")}})},751:function(t,e,n){"use strict";n(44)("sup",function(t){return function(){return t(this,"sup","","")}})},752:function(t,e,n){var i=n(1);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},753:function(t,e,n){"use strict";var i=n(1),r=n(39),o=n(88);i(i.P+i.F*n(12)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},754:function(t,e,n){var i=n(1),r=n(755);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},755:function(t,e,n){"use strict";var i=n(12),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!i(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},756:function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(43)(i,"toString",function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"})},757:function(t,e,n){var i=n(18)("toPrimitive"),r=Date.prototype;i in r||n(48)(r,i,n(758))},758:function(t,e,n){"use strict";var i=n(13),r=n(88);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},759:function(t,e,n){var i=n(1);i(i.S,"Array",{isArray:n(170)})},760:function(t,e,n){"use strict";var i=n(58),r=n(1),o=n(39),s=n(375),a=n(233),u=n(22),c=n(234),h=n(235);r(r.S+r.F*!n(171)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,l,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,y=p>1?arguments[1]:void 0,v=void 0!==y,g=0,b=h(f);if(v&&(y=i(y,p>2?arguments[2]:void 0,2)),void 0==b||d==Array&&a(b))for(n=new d(e=u(f.length));e>g;g++)c(n,g,v?y(f[g],g):f[g]);else for(l=b.call(f),n=new d;!(r=l.next()).done;g++)c(n,g,v?s(l,y,[r.value,g],!0):r.value);return n.length=g,n}})},761:function(t,e,n){"use strict";var i=n(1),r=n(234);i(i.S+i.F*n(12)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},762:function(t,e,n){"use strict";var i=n(1),r=n(49),o=[].join;i(i.P+i.F*(n(144)!=Object||!n(53)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},763:function(t,e,n){"use strict";var i=n(1),r=n(221),o=n(67),s=n(104),a=n(22),u=[].slice;i(i.P+i.F*n(12)(function(){r&&u.call(r)}),"Array",{slice:function(t,e){var n=a(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return u.call(this,t,e);for(var r=s(t,n),c=s(e,n),h=a(c-r),l=new Array(h),f=0;f<h;f++)l[f]="String"==i?this.charAt(r+f):this[r+f];return l}})},764:function(t,e,n){"use strict";var i=n(1),r=n(59),o=n(39),s=n(12),a=[].sort,u=[1,2,3];i(i.P+i.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!n(53)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},765:function(t,e,n){"use strict";var i=n(1),r=n(63)(0),o=n(53)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},766:function(t,e,n){var i=n(14),r=n(170),o=n(18)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},767:function(t,e,n){"use strict";var i=n(1),r=n(63)(1);i(i.P+i.F*!n(53)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},768:function(t,e,n){"use strict";var i=n(1),r=n(63)(2);i(i.P+i.F*!n(53)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},769:function(t,e,n){"use strict";var i=n(1),r=n(63)(3);i(i.P+i.F*!n(53)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},770:function(t,e,n){"use strict";var i=n(1),r=n(63)(4);i(i.P+i.F*!n(53)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},771:function(t,e,n){"use strict";var i=n(1),r=n(377);i(i.P+i.F*!n(53)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},772:function(t,e,n){"use strict";var i=n(1),r=n(377);i(i.P+i.F*!n(53)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},773:function(t,e,n){"use strict";var i=n(1),r=n(168)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n(53)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},774:function(t,e,n){"use strict";var i=n(1),r=n(49),o=n(60),s=n(22),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(u||!n(53)(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=r(this),n=s(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},775:function(t,e,n){var i=n(1);i(i.P,"Array",{copyWithin:n(378)}),n(108)("copyWithin")},776:function(t,e,n){var i=n(1);i(i.P,"Array",{fill:n(236)}),n(108)("fill")},777:function(t,e,n){"use strict";var i=n(1),r=n(63)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(108)("find")},778:function(t,e,n){"use strict";var i=n(1),r=n(63)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(108)(o)},779:function(t,e,n){n(122)("Array")},780:function(t,e,n){var i=n(11),r=n(224),o=n(29).f,s=n(106).f,a=n(231),u=n(172),c=i.RegExp,h=c,l=c.prototype,f=/a/g,d=/a/g,p=new c(f)!==f;if(n(28)&&(!p||n(12)(function(){return d[n(18)("match")]=!1,c(f)!=f||c(d)==d||"/a/i"!=c(f,"i")}))){c=function(t,e){var n=this instanceof c,i=a(t),o=void 0===e;return!n&&i&&t.constructor===c&&o?t:r(p?new h(i&&!o?t.source:t,e):h((i=t instanceof c)?t.source:t,i&&o?u.call(t):e),n?this:l,c)};for(var y=function(t){t in c||o(c,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})},v=s(h),g=0;v.length>g;)y(v[g++]);l.constructor=c,c.prototype=l,n(43)(i,"RegExp",c)}n(122)("RegExp")},781:function(t,e,n){"use strict";n(381);var i=n(13),r=n(172),o=n(28),s=/./.toString,a=function(t){n(43)(RegExp.prototype,"toString",t,!0)};n(12)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?a(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=s.name&&a(function(){return s.call(this)})},782:function(t,e,n){"use strict";var i=n(13),r=n(22),o=n(239),s=n(173);n(174)("match",1,function(t,e,n,a){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=a(n,t,this);if(e.done)return e.value;var u=i(t),c=String(this);if(!u.global)return s(u,c);var h=u.unicode;u.lastIndex=0;for(var l,f=[],d=0;null!==(l=s(u,c));){var p=String(l[0]);f[d]=p,""===p&&(u.lastIndex=o(c,r(u.lastIndex),h)),d++}return 0===d?null:f}]})},783:function(t,e,n){"use strict";var i=n(13),r=n(39),o=n(22),s=n(60),a=n(239),u=n(173),c=Math.max,h=Math.min,l=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(174)("replace",2,function(t,e,n,p){return[function(i,r){var o=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=p(n,t,this,e);if(r.done)return r.value;var l=i(t),f=String(this),d="function"==typeof e;d||(e=String(e));var v=l.global;if(v){var g=l.unicode;l.lastIndex=0}for(var b=[];;){var m=u(l,f);if(null===m)break;if(b.push(m),!v)break;""===String(m[0])&&(l.lastIndex=a(f,o(l.lastIndex),g))}for(var x,w="",O=0,k=0;k<b.length;k++){m=b[k];for(var S=String(m[0]),P=c(h(s(m.index),f.length),0),C=[],T=1;T<m.length;T++)C.push(void 0===(x=m[T])?x:String(x));var _=m.groups;if(d){var E=[S].concat(C,P,f);void 0!==_&&E.push(_);var j=String(e.apply(void 0,E))}else j=y(S,f,P,C,_,e);P>=O&&(w+=f.slice(O,P)+j,O=P+S.length)}return w+f.slice(O)}];function y(t,e,i,o,s,a){var u=i+t.length,c=o.length,h=d;return void 0!==s&&(s=r(s),h=f),n.call(a,h,function(n,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(u);case"<":a=s[r.slice(1,-1)];break;default:var h=+r;if(0===h)return n;if(h>c){var f=l(h/10);return 0===f?n:f<=c?void 0===o[f-1]?r.charAt(1):o[f-1]+r.charAt(1):n}a=o[h-1]}return void 0===a?"":a})}})},784:function(t,e,n){"use strict";var i=n(13),r=n(366),o=n(173);n(174)("search",1,function(t,e,n,s){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var a=i(t),u=String(this),c=a.lastIndex;r(c,0)||(a.lastIndex=0);var h=o(a,u);return r(a.lastIndex,c)||(a.lastIndex=c),null===h?-1:h.index}]})},785:function(t,e,n){"use strict";var i=n(231),r=n(13),o=n(147),s=n(239),a=n(22),u=n(173),c=n(238),h=n(12),l=Math.min,f=[].push,d=!h(function(){RegExp(4294967295,"y")});n(174)("split",2,function(t,e,n,h){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);for(var o,s,a,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,d=void 0===e?4294967295:e>>>0,p=new RegExp(t.source,h+"g");(o=c.call(p,r))&&!((s=p.lastIndex)>l&&(u.push(r.slice(l,o.index)),o.length>1&&o.index<r.length&&f.apply(u,o.slice(1)),a=o[0].length,l=s,u.length>=d));)p.lastIndex===o.index&&p.lastIndex++;return l===r.length?!a&&p.test("")||u.push(""):u.push(r.slice(l)),u.length>d?u.slice(0,d):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,r,i):p.call(String(r),n,i)},function(t,e){var i=h(p,t,this,e,p!==n);if(i.done)return i.value;var c=r(t),f=String(this),y=o(c,RegExp),v=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(d?"y":"g"),b=new y(d?c:"^(?:"+c.source+")",g),m=void 0===e?4294967295:e>>>0;if(0===m)return[];if(0===f.length)return null===u(b,f)?[f]:[];for(var x=0,w=0,O=[];w<f.length;){b.lastIndex=d?w:0;var k,S=u(b,d?f:f.slice(w));if(null===S||(k=l(a(b.lastIndex+(d?0:w)),f.length))===x)w=s(f,w,v);else{if(O.push(f.slice(x,w)),O.length===m)return O;for(var P=1;P<=S.length-1;P++)if(O.push(S[P]),O.length===m)return O;w=x=k}}return O.push(f.slice(x)),O}]})},786:function(t,e,n){var i=n(11),r=n(240).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,u="process"==n(67)(s);t.exports=function(){var t,e,n,c=function(){var i,r;for(u&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(u)n=function(){s.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var h=a.resolve(void 0);n=function(){h.then(c)}}else n=function(){r.call(i,c)};else{var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},787:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},788:function(t,e,n){"use strict";var i=n(385),r=n(109);t.exports=n(177)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},789:function(t,e,n){"use strict";var i=n(385),r=n(109);t.exports=n(177)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},790:function(t,e,n){"use strict";var i,r=n(11),o=n(63)(0),s=n(43),a=n(89),u=n(365),c=n(386),h=n(14),l=n(109),f=n(109),d=!r.ActiveXObject&&"ActiveXObject"in r,p=a.getWeak,y=Object.isExtensible,v=c.ufstore,g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(h(t)){var e=p(t);return!0===e?v(l(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(l(this,"WeakMap"),t,e)}},m=t.exports=n(177)("WeakMap",g,b,c,!0,!0);f&&d&&(u((i=c.getConstructor(g,"WeakMap")).prototype,b),a.NEED=!0,o(["delete","has","get","set"],function(t){var e=m.prototype,n=e[t];s(e,t,function(e,r){if(h(e)&&!y(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)})}))},791:function(t,e,n){"use strict";var i=n(386),r=n(109);n(177)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},792:function(t,e,n){"use strict";var i=n(1),r=n(178),o=n(241),s=n(13),a=n(104),u=n(22),c=n(14),h=n(11).ArrayBuffer,l=n(147),f=o.ArrayBuffer,d=o.DataView,p=r.ABV&&h.isView,y=f.prototype.slice,v=r.VIEW;i(i.G+i.W+i.F*(h!==f),{ArrayBuffer:f}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||c(t)&&v in t}}),i(i.P+i.U+i.F*n(12)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==y&&void 0===e)return y.call(s(this),t);for(var n=s(this).byteLength,i=a(t,n),r=a(void 0===e?n:e,n),o=new(l(this,f))(u(r-i)),c=new d(this),h=new d(o),p=0;i<r;)h.setUint8(p++,c.getUint8(i++));return o}}),n(122)("ArrayBuffer")},793:function(t,e,n){var i=n(1);i(i.G+i.W+i.F*!n(178).ABV,{DataView:n(241).DataView})},794:function(t,e,n){n(69)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},795:function(t,e,n){n(69)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},796:function(t,e,n){n(69)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0)},797:function(t,e,n){n(69)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},798:function(t,e,n){n(69)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},799:function(t,e,n){n(69)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},800:function(t,e,n){n(69)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},801:function(t,e,n){n(69)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},802:function(t,e,n){n(69)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},803:function(t,e,n){var i=n(1),r=n(59),o=n(13),s=(n(11).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!n(12)(function(){s(function(){})}),"Reflect",{apply:function(t,e,n){var i=r(t),u=o(n);return s?s(i,e,u):a.call(i,e,u)}})},804:function(t,e,n){var i=n(1),r=n(105),o=n(59),s=n(13),a=n(14),u=n(12),c=n(367),h=(n(11).Reflect||{}).construct,l=u(function(){function t(){}return!(h(function(){},[],t)instanceof t)}),f=!u(function(){h(function(){})});i(i.S+i.F*(l||f),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!l)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var u=n.prototype,d=r(a(u)?u:Object.prototype),p=Function.apply.call(t,d,e);return a(p)?p:d}})},805:function(t,e,n){var i=n(29),r=n(1),o=n(13),s=n(88);r(r.S+r.F*n(12)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},806:function(t,e,n){var i=n(1),r=n(61).f,o=n(13);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},807:function(t,e,n){"use strict";var i=n(1),r=n(13),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(374)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},808:function(t,e,n){var i=n(61),r=n(107),o=n(47),s=n(1),a=n(14),u=n(13);s(s.S,"Reflect",{get:function t(e,n){var s,c,h=arguments.length<3?e:arguments[2];return u(e)===h?e[n]:(s=i.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(h):void 0:a(c=r(e))?t(c,n,h):void 0}})},809:function(t,e,n){var i=n(61),r=n(1),o=n(13);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},810:function(t,e,n){var i=n(1),r=n(107),o=n(13);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},811:function(t,e,n){var i=n(1);i(i.S,"Reflect",{has:function(t,e){return e in t}})},812:function(t,e,n){var i=n(1),r=n(13),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},813:function(t,e,n){var i=n(1);i(i.S,"Reflect",{ownKeys:n(388)})},814:function(t,e,n){var i=n(1),r=n(13),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},815:function(t,e,n){var i=n(29),r=n(61),o=n(107),s=n(47),a=n(1),u=n(100),c=n(13),h=n(14);a(a.S,"Reflect",{set:function t(e,n,a){var l,f,d=arguments.length<4?e:arguments[3],p=r.f(c(e),n);if(!p){if(h(f=o(e)))return t(f,n,a,d);p=u(0)}if(s(p,"value")){if(!1===p.writable||!h(d))return!1;if(l=r.f(d,n)){if(l.get||l.set||!1===l.writable)return!1;l.value=a,i.f(d,n,l)}else i.f(d,n,u(0,a));return!0}return void 0!==p.set&&(p.set.call(d,a),!0)}})},816:function(t,e,n){var i=n(1),r=n(222);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},817:function(t,e,n){n(818),t.exports=n(24).Array.includes},818:function(t,e,n){"use strict";var i=n(1),r=n(168)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(108)("includes")},819:function(t,e,n){n(820),t.exports=n(24).Array.flatMap},820:function(t,e,n){"use strict";var i=n(1),r=n(821),o=n(39),s=n(22),a=n(59),u=n(376);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return a(t),e=s(i.length),n=u(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(108)("flatMap")},821:function(t,e,n){"use strict";var i=n(170),r=n(14),o=n(22),s=n(58),a=n(18)("isConcatSpreadable");t.exports=function t(e,n,u,c,h,l,f,d){for(var p,y,v=h,g=0,b=!!f&&s(f,d,3);g<c;){if(g in u){if(p=b?b(u[g],g,n):u[g],y=!1,r(p)&&(y=void 0!==(y=p[a])?!!y:i(p)),y&&l>0)v=t(e,n,p,o(p.length),v,l-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=p}v++}g++}return v}},822:function(t,e,n){n(823),t.exports=n(24).String.padStart},823:function(t,e,n){"use strict";var i=n(1),r=n(389),o=n(176),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},824:function(t,e,n){n(825),t.exports=n(24).String.padEnd},825:function(t,e,n){"use strict";var i=n(1),r=n(389),o=n(176),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},826:function(t,e,n){n(827),t.exports=n(24).String.trimLeft},827:function(t,e,n){"use strict";n(120)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},828:function(t,e,n){n(829),t.exports=n(24).String.trimRight},829:function(t,e,n){"use strict";n(120)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},830:function(t,e,n){n(831),t.exports=n(218).f("asyncIterator")},831:function(t,e,n){n(361)("asyncIterator")},832:function(t,e,n){n(833),t.exports=n(24).Object.getOwnPropertyDescriptors},833:function(t,e,n){var i=n(1),r=n(388),o=n(49),s=n(61),a=n(234);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),u=s.f,c=r(i),h={},l=0;c.length>l;)void 0!==(n=u(i,e=c[l++]))&&a(h,e,n);return h}})},834:function(t,e,n){n(835),t.exports=n(24).Object.values},835:function(t,e,n){var i=n(1),r=n(390)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},836:function(t,e,n){n(837),t.exports=n(24).Object.entries},837:function(t,e,n){var i=n(1),r=n(390)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},838:function(t,e,n){"use strict";n(382),n(839),t.exports=n(24).Promise.finally},839:function(t,e,n){"use strict";var i=n(1),r=n(24),o=n(11),s=n(147),a=n(384);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},840:function(t,e,n){n(841),n(842),n(843),t.exports=n(24)},841:function(t,e,n){var i=n(11),r=n(1),o=n(176),s=[].slice,a=/MSIE .\./.test(o),u=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&s.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*a,{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},842:function(t,e,n){var i=n(1),r=n(240);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},843:function(t,e,n){for(var i=n(237),r=n(103),o=n(43),s=n(11),a=n(48),u=n(121),c=n(18),h=c("iterator"),l=c("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(d),y=0;y<p.length;y++){var v,g=p[y],b=d[g],m=s[g],x=m&&m.prototype;if(x&&(x[h]||a(x,h,f),x[l]||a(x,l,g),u[g]=f,b))for(v in i)x[v]||o(x,v,i[v],!0)}},844:function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(t){"use strict";var n,i=Object.prototype,r=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n,i){var r=e&&e.prototype instanceof v?e:v,o=Object.create(r.prototype),s=new _(i||[]);return o._invoke=function(t,e,n){var i=l;return function(r,o){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return j()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=P(s,n);if(a){if(a===y)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var u=h(t,e,n);if("normal"===u.type){if(i=n.done?p:f,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=p,n.method="throw",n.arg=u.arg)}}}(t,n,s),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",d="executing",p="completed",y={};function v(){}function g(){}function b(){}var m={};m[s]=function(){return this};var x=Object.getPrototypeOf,w=x&&x(x(E([])));w&&w!==i&&r.call(w,s)&&(m=w);var O=b.prototype=v.prototype=Object.create(m);function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var n;this._invoke=function(i,o){function s(){return new Promise(function(n,s){!function n(i,o,s,a){var u=h(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===e(l)&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){n("next",t,s,a)},function(t){n("throw",t,s,a)}):Promise.resolve(l).then(function(t){c.value=t,s(c)},function(t){return n("throw",t,s,a)})}a(u.arg)}(i,o,n,s)})}return n=n?n.then(s,s):s()}}function P(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,P(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var r=h(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,y;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,y):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:n,done:!0}}return g.prototype=O.constructor=b,b.constructor=g,b[u]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},k(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,i,r){var o=new S(c(e,n,i,r));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},k(O),O[u]="Generator",O[s]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return a.type="throw",a.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:E(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),y}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(845)(t))},845:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},846:function(t,e,n){n(847),t.exports=n(391).global},847:function(t,e,n){var i=n(848);i(i.G,{global:n(242)})},848:function(t,e,n){var i=n(242),r=n(391),o=n(849),s=n(851),a=n(858),u=function t(e,n,u){var c,h,l,f=e&t.F,d=e&t.G,p=e&t.S,y=e&t.P,v=e&t.B,g=e&t.W,b=d?r:r[n]||(r[n]={}),m=b.prototype,x=d?i:p?i[n]:(i[n]||{}).prototype;for(c in d&&(u=n),u)(h=!f&&x&&void 0!==x[c])&&a(b,c)||(l=h?x[c]:u[c],b[c]=d&&"function"!=typeof x[c]?u[c]:v&&h?o(l,i):g&&x[c]==l?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):y&&"function"==typeof l?o(Function.call,l):l,y&&((b.virtual||(b.virtual={}))[c]=l,e&t.R&&m&&!m[c]&&s(m,c,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},849:function(t,e,n){var i=n(850);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},850:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},851:function(t,e,n){var i=n(852),r=n(857);t.exports=n(244)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},852:function(t,e,n){var i=n(853),r=n(854),o=n(856),s=Object.defineProperty;e.f=n(244)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},853:function(t,e,n){var i=n(243);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},854:function(t,e,n){t.exports=!n(244)&&!n(392)(function(){return 7!=Object.defineProperty(n(855)("div"),"a",{get:function(){return 7}}).a})},855:function(t,e,n){var i=n(243),r=n(242).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},856:function(t,e,n){var i=n(243);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},857:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},858:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},859:function(t,e){var n=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,i,r,o,s){for(var a=n.getTintAppendFloatAlphaAndSwap(i.fillColor,i.fillAlpha*r),u=i.pathData,c=i.pathIndexes,h=0;h<c.length;h+=3){var l=2*c[h],f=2*c[h+1],d=2*c[h+2],p=u[l+0]-o,y=u[l+1]-s,v=u[f+0]-o,g=u[f+1]-s,b=u[d+0]-o,m=u[d+1]-s,x=e.getX(p,y),w=e.getY(p,y),O=e.getX(v,g),k=e.getY(v,g),S=e.getX(b,m),P=e.getY(b,m);t.setTexture2D(),t.batchTri(x,w,O,k,S,P,0,0,1,1,a,a,a,t.tintEffect)}}},860:function(t,e){var n=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,i,r,o){var s=t.strokeTint,a=n.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*i);s.TL=a,s.TR=a,s.BL=a,s.BR=a;var u=e.pathData,c=u.length-1,h=e.lineWidth,l=h/2,f=u[0]-r,d=u[1]-o;e.closePath||(c-=2);for(var p=2;p<c;p+=2){var y=u[p]-r,v=u[p+1]-o;t.setTexture2D(),t.batchLine(f,d,y,v,l,l,h,p-2,!!e.closePath&&p===c-1),f=y,d=v}}},861:function(t,e){t.exports=function(t,e,n,i){var r=n||e.fillColor,o=i||e.fillAlpha,s=(16711680&r)>>>16,a=(65280&r)>>>8,u=255&r;t.fillStyle="rgba("+s+","+a+","+u+","+o+")"}},862:function(t,e){t.exports=function(t,e,n,i){var r=n||e.strokeColor,o=i||e.strokeAlpha,s=(16711680&r)>>>16,a=(65280&r)>>>8,u=255&r;t.strokeStyle="rgba("+s+","+a+","+u+","+o+")",t.lineWidth=e.lineWidth}},863:function(t,e){t.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},864:function(t,e,n){var i=n(245),r=n(246),o=n(247),s=n(248);t.exports=function(t,e,n,a){return void 0===n&&(n=0),void 0===a&&(a=0),s(t,r(e)+n),o(t,i(e)+a),t}},865:function(t,e,n){var i=n(245),r=n(249),o=n(247),s=n(250);t.exports=function(t,e,n,a){return void 0===n&&(n=0),void 0===a&&(a=0),s(t,r(e)-n),o(t,i(e)+a),t}},866:function(t,e,n){var i=n(245),r=n(251),o=n(247),s=n(252);t.exports=function(t,e,n,a){return void 0===n&&(n=0),void 0===a&&(a=0),s(t,r(e)+n),o(t,i(e)+a),t}},867:function(t,e,n){var i=n(868),r=n(246),o=n(254);t.exports=function(t,e,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),i(t,r(e)+n,o(e)+s),t}},868:function(t,e,n){var i=n(248),r=n(253);t.exports=function(t,e,n){return i(t,e),r(t,n)}},869:function(t,e,n){var i=n(254),r=n(249),o=n(253),s=n(250);t.exports=function(t,e,n,a){return void 0===n&&(n=0),void 0===a&&(a=0),s(t,r(e)-n),o(t,i(e)+a),t}},870:function(t,e,n){var i=n(254),r=n(251),o=n(253),s=n(252);t.exports=function(t,e,n,a){return void 0===n&&(n=0),void 0===a&&(a=0),s(t,r(e)+n),o(t,i(e)+a),t}},871:function(t,e,n){var i=n(246),r=n(255),o=n(248),s=n(256);t.exports=function(t,e,n,a){return void 0===n&&(n=0),void 0===a&&(a=0),o(t,i(e)+n),s(t,r(e)-a),t}},872:function(t,e,n){var i=n(249),r=n(255),o=n(250),s=n(256);t.exports=function(t,e,n,a){return void 0===n&&(n=0),void 0===a&&(a=0),o(t,i(e)-n),s(t,r(e)-a),t}},873:function(t,e,n){var i=n(251),r=n(255),o=n(252),s=n(256);t.exports=function(t,e,n,a){return void 0===n&&(n=0),void 0===a&&(a=0),o(t,i(e)+n),s(t,r(e)-a),t}},88:function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},89:function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(101)("meta"),o=n(14),s=n(47),a=n(29).f,u=0,c=Object.isExtensible||function(){return!0},h=!n(12)(function(){return c(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==i(t)?t:("string"==typeof t?"S":"P")+t;if(!s(t,r)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!s(t,r)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return h&&f.NEED&&c(t)&&!s(t,r)&&l(t),t}}}})});